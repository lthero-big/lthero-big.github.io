<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>lthero</title>
  
  <subtitle>ä¸ªäººåšå®¢</subtitle>
  <link href="https://blog.lthero.cn/atom.xml" rel="self"/>
  
  <link href="https://blog.lthero.cn/"/>
  <updated>2025-06-24T14:24:27.269Z</updated>
  <id>https://blog.lthero.cn/</id>
  
  <author>
    <name>lthero</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Zerotierè‡ªå»ºPlanetæœåŠ¡å™¨çš„ä½¿ç”¨è¯´æ˜</title>
    <link href="https://blog.lthero.cn/2025/03/11/BuildYourOwnZerotierPlanet/"/>
    <id>https://blog.lthero.cn/2025/03/11/BuildYourOwnZerotierPlanet/</id>
    <published>2025-03-11T02:32:10.000Z</published>
    <updated>2025-06-24T14:24:27.269Z</updated>
    
    <content type="html"><![CDATA[<p><strong>æ€»ä½“åˆ†ä¸ºä¸¤å¤§æ­¥éª¤</strong></p><p>ç¬¬ä¸€æ­¥ã€ä¸‹è½½å¹¶å¯¼å…¥ <code>planet</code> æ–‡ä»¶ï¼š<a href="http://114.66.63.134:3223/planet?key=63122304d122157b">ç‚¹å‡»ä¸‹è½½planetæ–‡ä»¶</a></p><p>ç¬¬äºŒæ­¥ã€åŠ å…¥åˆ°è™šæ‹Ÿå±€åŸŸç½‘ç½‘ç»œï¼ˆç”±æˆ‘å‘é€ç»™ä½ çš„ç½‘ç»œIDï¼‰</p><h1 id="ä¸åŒå¹³å°çš„å®¢æˆ·ç«¯é…ç½®è¿‡ç¨‹">ä¸åŒå¹³å°çš„å®¢æˆ·ç«¯é…ç½®è¿‡ç¨‹</h1><h2 id="windows-é…ç½®">Windows é…ç½®</h2><p>1ã€é¦–å…ˆå»zerotierå®˜ç½‘ä¸‹è½½ä¸€ä¸ªzerotierå®¢æˆ·ç«¯</p><p>2ã€ä¸‹è½½ <code>planet</code> æ–‡ä»¶ï¼š<a href="http://114.66.63.134:3223/planet?key=63122304d122157b">ç‚¹å‡»ä¸‹è½½planetæ–‡ä»¶</a></p><p>3ã€å°† <code>planet</code> æ–‡ä»¶è¦†ç›–ç²˜è´´åˆ°<code>C:\ProgramData\ZeroTier\One</code>ä¸­(è¿™ä¸ªç›®å½•æ˜¯ä¸ªéšè—ç›®å½•ï¼Œéœ€è¦è¿å…è®¸æŸ¥çœ‹éšè—ç›®å½•æ‰è¡Œ)</p><p>4ã€æŒ‰Win+S æœç´¢ <code>æœåŠ¡</code></p><p>![image-20250310132508140](/Users/lthero/Library/Application Support/typora-user-images/image-20250310132508140.png)</p><p>æ‰¾åˆ°<strong>ZeroTier One</strong>ï¼Œå¹¶ä¸”é‡å¯æœåŠ¡</p><p>![image-20250310132517587](/Users/lthero/Library/Application Support/typora-user-images/image-20250310132517587.png)</p><h3 id="åŠ å…¥ç½‘ç»œ">åŠ å…¥ç½‘ç»œ</h3><p>ä½¿ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€PowerShell</p><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œçœ‹åˆ°<strong>join ok</strong>å­—æ ·å°±æˆåŠŸäº†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\system32&gt; zerotier-cli <span class="built_in">join</span> ç½‘ç»œ<span class="built_in">id</span></span><br><span class="line">200 <span class="built_in">join</span> OK</span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰åŠ å…¥åˆ°å…¶å®ƒç½‘ç»œï¼Œå…ˆç¦»å¼€å…¶å®ƒç½‘ç»œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zerotier-cli leave ç½‘ç»œid</span><br></pre></td></tr></table></figure><h3 id="æ£€æŸ¥">æ£€æŸ¥</h3><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Windows\system32&gt; zerotier-cli peers</span><br><span class="line">200 peers</span><br><span class="line">&lt;ztaddr&gt;   &lt;ver&gt;  &lt;role&gt; &lt;lat&gt; &lt;link&gt; &lt;lastTX&gt; &lt;lastRX&gt; &lt;path&gt;</span><br><span class="line">0651177f3e x.x.x  PLANET    52 DIRECT 16       8994     1.1.1.1/9994</span><br><span class="line">PS C:\Windows\system32&gt;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ª <strong>PLANTET</strong> è¿æ¥æ–¹å¼ä¸º DIRECT(ç›´è¿) å³å¯</p><h2 id="linux-å®¢æˆ·ç«¯">Linux å®¢æˆ·ç«¯</h2><ol><li>å®‰è£…linuxå®¢æˆ·ç«¯è½¯ä»¶</li><li>è¿›å…¥ç›®å½• <code>/var/lib/zerotier-one</code></li><li>æ›¿æ¢ç›®å½•ä¸‹çš„ <code>planet</code> æ–‡ä»¶</li><li>é‡å¯ <code>zerotier-one</code> æœåŠ¡(<code>service zerotier-one restart</code>)</li><li>åŠ å…¥ç½‘ç»œ <code>zerotier-cli join</code> ç½‘ç»œ <code>id</code></li><li>ç®¡ç†åå°åŒæ„åŠ å…¥è¯·æ±‚</li><li><code>zerotier-cli peers</code> å¯ä»¥çœ‹åˆ°<code> planet</code> è§’è‰²</li></ol><h2 id="å®‰å“å®¢æˆ·ç«¯é…ç½®">å®‰å“å®¢æˆ·ç«¯é…ç½®</h2><p><strong>ZerotierFix</strong> è½¯ä»¶ä¸‹è½½é“¾æ¥ï¼š<a href="https://drive.lthero.cn/s/u26yqa">https://drive.lthero.cn/s/u26yqa</a></p><p>ä¸€å…±ä¸¤ä¸ªæ­¥éª¤ï¼Œå…ˆç‚¹å‡»å³ä¸Šè§’ï¼Œæ‰¾åˆ°â€œè®¾ç½®â€</p><img src="/Users/lthero/Desktop/PixPin_2025-03-11_09-03-18.png" alt="ä¸€å…±ä¸¤å¤§æ­¥éª¤" style="zoom:50%;" /><p>ç‚¹å‡»â€œè®¾ç½®planetæ–‡ä»¶â€å¹¶ä»URLå¯¼å…¥æ–‡ä»¶ï¼Œéšåç‚¹å‡»å¯ç”¨</p><img src="/Users/lthero/Desktop/PixPin_2025-03-11_09-01-23.png" alt="æ›¿æ¢planetæ–‡ä»¶" style="zoom:50%;" /><p>è¿”å›ä¸»ç•Œé¢ï¼Œé€‰æ‹©å³ä¸‹è§’ï¼Œè¾“å…¥ç½‘ç»œIDå¹¶æ·»åŠ ç½‘ç»œï¼›</p><img src="/Users/lthero/Desktop/PixPin_2025-03-11_09-02-08.png" alt="æ·»åŠ ç½‘ç»œ" style="zoom:50%;" /><h2 id="macos-å®¢æˆ·ç«¯é…ç½®">MacOS å®¢æˆ·ç«¯é…ç½®</h2><ol><li>è¿›å…¥ <code>/Library/Application\ Support/ZeroTier/One/</code> ç›®å½•ï¼Œå¹¶æ›¿æ¢ç›®å½•ä¸‹çš„ <code>planet</code> æ–‡ä»¶</li><li>é‡å¯ ZeroTier-Oneï¼š<code>cat /Library/Application\ Support/ZeroTier/One/zerotier-one.pid | sudo xargs kill</code></li><li>åŠ å…¥ç½‘ç»œ <code>zerotier-cli join</code> ç½‘ç»œ <code>id</code></li><li>ç®¡ç†åå°åŒæ„åŠ å…¥è¯·æ±‚</li><li><code>zerotier-cli peers</code> å¯ä»¥çœ‹åˆ°<code> planet</code> è§’è‰²</li></ol><h2 id="openwrt-å®¢æˆ·ç«¯é…ç½®">OpenWRT å®¢æˆ·ç«¯é…ç½®</h2><ol><li>å®‰è£…zerotierå®¢æˆ·ç«¯</li><li>è¿›å…¥ç›®å½• <code>/etc/config/zero/planet</code></li><li>æ›¿æ¢ç›®å½•ä¸‹çš„ <code>planet</code> æ–‡ä»¶</li><li>åœ¨openwrtç½‘é¡µåå°å…ˆå…³é—­zerotieræœåŠ¡ï¼Œåœ¨å¼€å¯zerotieræœåŠ¡</li><li>åœ¨openwrtç½‘é¡µåå°åŠ å…¥ç½‘ç»œ</li><li>ç®¡ç†åå°åŒæ„åŠ å…¥è¯·æ±‚</li><li>æ‰§è¡Œ <code>ln -s /etc/config/zero /var/lib/zerotier-one </code></li><li><code>zerotier-cli peers</code> å¯ä»¥çœ‹åˆ°<code> planet</code> è§’è‰²</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;æ€»ä½“åˆ†ä¸ºä¸¤å¤§æ­¥éª¤&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ã€ä¸‹è½½å¹¶å¯¼å…¥ &lt;code&gt;planet&lt;/code&gt; æ–‡ä»¶ï¼š&lt;a href=&quot;http://114.66.63.134:3223/planet?key=63122304d122157b&quot;&gt;ç‚¹å‡»ä¸‹è½½pla</summary>
      
    
    
    
    <category term="zerotier" scheme="https://blog.lthero.cn/categories/zerotier/"/>
    
    
    <category term="zerotier" scheme="https://blog.lthero.cn/tags/zerotier/"/>
    
  </entry>
  
  <entry>
    <title>ã€æ±‡æ€»ã€‘ä»£ç†å·¥å…·</title>
    <link href="https://blog.lthero.cn/2025/02/10/ProxyTools/"/>
    <id>https://blog.lthero.cn/2025/02/10/ProxyTools/</id>
    <published>2025-02-10T11:42:08.000Z</published>
    <updated>2025-02-11T06:34:58.378Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th>åç§°</th><th>å¹³å°</th><th>å¤‡æ³¨</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><a href="https://github.com/2dust/v2rayN">V2rayN</a></td><td><code>Win/Mac/Linux</code></td><td>ä¸é€‚åˆæ–°äººï¼åŠŸèƒ½å¼ºï¼</td><td>æ”¯æŒæµ‹é€Ÿã€æ”¯æŒæœ€æ–°åè®®ï¼ˆXhttpï¼‰</td></tr><tr><td><a href="https://github.com/clash-verge-rev/clash-verge-rev/releases">Clash-verge-rev</a></td><td><code>Win/Mac/Linux</code></td><td>ç®€å•å¥½ç”¨ï¼é€‚åˆæ–°æ‰‹ï¼<strong>PCç«¯å¼ºçƒˆæ¨è</strong></td><td>æ”¯æŒæµ‹é€Ÿã€å¤šåè®®</td></tr><tr><td><a href="https://github.com/2dust/v2rayNG">V2rayNG</a></td><td><code>Android</code></td><td>ä¸é€‚åˆæ–°äººï¼åŠŸèƒ½å¼ºï¼</td><td>æ”¯æŒæµ‹é€Ÿã€æ”¯æŒæœ€æ–°åè®®ï¼ˆXhttpï¼‰</td></tr><tr><td><a href="https://github.com/MatsuriDayo/NekoBoxForAndroid">Nekobox</a></td><td><code>Android</code></td><td>ç®€å•å¥½ç”¨ï¼é€‚åˆæ–°æ‰‹ï¼<strong>å®‰å“å¼ºçƒˆæ¨è</strong></td><td>æ”¯æŒæµ‹é€Ÿã€å¤šåè®®</td></tr><tr><td><a href="https://sing-box.sagernet.org/">Sing-box</a></td><td>å…¨å¹³å°</td><td>ä¸é€‚åˆæ–°äººï¼åŠŸèƒ½å¼ºï¼</td><td>æ”¯æŒæµ‹é€Ÿã€æ”¯æŒæœ€æ–°åè®®ï¼ˆXhttpï¼‰</td></tr><tr><td><a href="https://apps.apple.com/ae/app/shadowrocket/id932747118">Shadowrocket</a></td><td><code>IOS/Mac/Apple TV</code></td><td>æœ€å¸¸è§ï¼Œæ›´æ–°æœ€å¤šï¼<strong>è‹¹æœæ‰‹æœºæ¨è</strong></td><td>æ”¯æŒå¤šåè®®</td></tr><tr><td><a href="https://nssurge.com/">Surge</a></td><td><code>IOS/Mac/Apple TV</code></td><td>è‹¹æœç³»é€šç”¨ï¼Œä»˜è´¹ç‰ˆå¯æˆæƒ5ä¸ªè®¾å¤‡</td><td></td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;åç§°&lt;/th&gt;
&lt;th&gt;å¹³å°&lt;/th&gt;
&lt;th&gt;å¤‡æ³¨&lt;/th&gt;
&lt;th&gt;ç‰¹ç‚¹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://github.com/2dust/v2ray</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>EnglishPod_S02</title>
    <link href="https://blog.lthero.cn/2025/02/09/EnglishPod-S02/"/>
    <id>https://blog.lthero.cn/2025/02/09/EnglishPod-S02/</id>
    <published>2025-02-09T04:38:44.000Z</published>
    <updated>2025-02-11T06:59:17.793Z</updated>
    
    <content type="html"><![CDATA[<h1 id="englishpodseason02">EnglishPodSeason02</h1><h2 id="105-èŒåœºå¤¸å¥–">105 èŒåœºå¤¸å¥–</h2><h3 id="wiz">wiz</h3><blockquote><p>someone who is <strong>really good at</strong> something.</p></blockquote><h3 id="slides">slides</h3><blockquote><p>ppt slides, one page in that presentation.</p></blockquote><h3 id="to-be-completely-blown-away">to be completely blown away</h3><blockquote><p>to be surprised/amazed but in a very positive way.</p></blockquote><p>Carl <strong>blown me away</strong> with his knowledge of science.</p><h3 id="wow">Wow</h3><blockquote><p>to wow someone / impress someone.</p></blockquote><h3 id="it-s-nothing">Itâ€™s nothing</h3><blockquote><p>itâ€™s not a big deal. / it isnâ€™t hard.</p><p>è¿™æ²¡ä»€ä¹ˆ</p></blockquote><p>Thanks for lending me your car this week i really appreciated it.</p><ul><li>Itâ€™s okay really it was nothing</li></ul><p>I canâ€™t believe you organize the surprise birthday party thank you so much</p><ul><li>donâ€™t worry about it, it was nothing.</li></ul><h3 id="give-sb-a-hand">give sb. a hand</h3><blockquote><p>to help/assist someone</p></blockquote><h3 id="quite">quite</h3><blockquote><p>very good + n.</p></blockquote><p>quite the baskball player/dancer/</p><p>Nancy is <strong>quite gifted at math</strong> she can solve any math problem you give her</p><h3 id="take-on-board">take on board</h3><blockquote><p>to accept and <strong>use</strong> it.</p></blockquote><p>take on board my ideads/suggestions</p><h3 id="think-it-through-sth">think (it) through sth.</h3><blockquote><p>take it to consideration all the aspections.</p><p>think carefully about all of the small details or something.</p><p>æ·±æ€ç†Ÿè™‘</p></blockquote><p>Have you <strong>thought through</strong> my suggestions.</p><p>You guys are very young i think you have to <strong>think throught</strong> before you get married.</p><h3 id="åŸæ–‡">åŸæ–‡</h3><p>Elementary â€ The Office â€ Job Well Done (C0105)</p><p>A: And so, that concludes my outline for our marketing strategy next year. Thank you very much for your time.</p><p>B: Hey, that was <strong>quite</strong> the Presentation! Honestly, I <strong>was</strong> completely <strong>blown away</strong> by your strategy outline. Iâ€™ve gotta say, Alex, you really <strong>wowed</strong> me today.</p><p>A: Aw, come on; it was nothing. Im just doing my job.</p><p>B: No, I think you deserve some recognition here; I mean, if I look back on your previous Presentations, this is a huge improvement.</p><p>A: Well, Kristin did <strong>give me a hand</strong> with the <strong>slides</strong>. Sheâ€™s a real <strong>wiz</strong> on PowerPoint.</p><p>B: And I saw that you <strong>took on board</strong> my feedback about pricing strategies. I really appreciate you taking the time to <strong>think through</strong> my suggestions.</p><p>A: Yeah, well, that was some good advice. You made some really good points.</p><p>B: Well, I just wanted to say well done. Really you did a great job.</p><h2 id="106-è¯è´¹å¥—é¤">106 è¯è´¹å¥—é¤</h2><h3 id="prepaid-plan-pay-as-you-go">prepaid plan/pay as you go.</h3><blockquote><p>you pay before you use the minutes</p></blockquote><h3 id="monthly-rate-plan">monthly rate plan</h3><blockquote><p>you have to pay each month, you get a bill at the end of the month.</p></blockquote><h3 id="activate">activate</h3><blockquote><p>make sth. work, only do it once.</p></blockquote><p>activate your computer software/credit card</p><h3 id="handset">handset</h3><blockquote><p>the device/phone you can call it a handset.</p></blockquote><h3 id="rollover-option">rollover option</h3><blockquote><p>the minutes you donâ€™t use , you can still use it the following month.</p><p>å¯è½¬ç»“åˆ°ä¸‹ä¸ªæœˆçš„æµé‡|é€šè¯æ—¶é—´â€¦â€¦</p></blockquote><h3 id="to-rollover">to rollover</h3><blockquote><p>move from one place to another.</p></blockquote><h3 id="fee">fee</h3><blockquote><p>the amount you must pay for a <strong>service</strong></p></blockquote><p>you <strong>canâ€™t</strong> say:â€œwhatâ€™s the fee for the bottle of water.â€</p><p>you <strong>can</strong> say: â€œwhatâ€™s the <strong>fee for filling</strong> the bottle of water.â€</p><h3 id="to-be-compatible-with">to be compatible with</h3><blockquote><p><strong>to work well with</strong> something else.</p></blockquote><p>Our applicaiton is compatible with most smartphones.</p><p>æˆ‘ä»¬çš„è½¯ä»¶ä¸å¤§å¤šæ™ºèƒ½æ‰‹æœºå…¼å®¹</p><p>My roomate and I are just not compatible.</p><p>Your computer is not compatible with our software.</p><h3 id="what-s-the-catch">whatâ€™s the catch?</h3><blockquote><p><strong>catch</strong> is something <strong>hidden</strong> and <strong>negative</strong> makes the deal seems not great.</p><p>catch éšæ€§æ¡æ¬¾ã€å¾€å¾€æ˜¯é™åˆ¶æ¡ä»¶(condition.)</p></blockquote><p>If you get a car for free but the <strong>catch</strong> is you only drive it at night.</p><h3 id="you-are-in-luck">you are in luck</h3><blockquote><p>sth. luckcy is happen.</p></blockquote><p>you are in luck, i have the very last one.</p><h3 id="throw-in">throw in</h3><blockquote><p>include sth. for free.</p><p>é™„èµ </p></blockquote><p>if you buy the house I will throw in the dog for free.</p><h3 id="åŸæ–‡">åŸæ–‡</h3><p>Elementary â€ Daily Life â€ Mobile Phone Plan (C0106)</p><p>A: Hi there, can I help you?</p><p>B: Yeah, Iâ€™ve just moved here, and Iâ€™d like to <strong>activate</strong> my cell phone, and Iâ€™m not sure if I should go with a <strong>prepaid plan</strong>, or a <strong>monthly rate plan</strong>.<br>A: I see. Well, can I have a look at your phone?Unfortunately, this phone canâ€™t be used in the US; itâ€™s not <strong>compatible with</strong> our 3G network.<br>B: What? Really? I donâ€™t really want to have to buy a new phone.<br>A: Well, <strong>youâ€™re in luck!</strong> You see, if you sign up for our three-year plan, weâ€™ll <strong>throw in</strong> a <strong>handset</strong> for free.<br>B: Really? Whatâ€™s the <strong>catch</strong>?<br>A: Thereâ€™s no <strong>catch</strong>! You just choose a plan, sign a three-year contract and, thatâ€™s it! Actually, weâ€™re running a special promotion right now, and weâ€™re giving away a Blackberry Curve with our special Mega Value forty dollar plan.<br>B: So what does this plan include?<br>A: Well, you get nine hundred anytime minutes, and you can also enjoy free mobile to mobile calling to other Tel-Mobile clients, one thousand text messages per month, and unlimited evening and weekend minutes. Oh, and we also offer a <strong>rollover</strong> option.<br>B: Wow, all this for forty dollars per month?<br>A: Thatâ€™s right, plus the activation <strong>fee</strong>, the emergancy services fee, the monthly service fee, oh, and any charges for extra minutes, andâ€¦</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;englishpodseason02&quot;&gt;EnglishPodSeason02&lt;/h1&gt;
&lt;h2 id=&quot;105-èŒåœºå¤¸å¥–&quot;&gt;105 èŒåœºå¤¸å¥–&lt;/h2&gt;
&lt;h3 id=&quot;wiz&quot;&gt;wiz&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;someone who is &lt;st</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Diffusion_From_Scratch</title>
    <link href="https://blog.lthero.cn/2025/01/22/Diffusion-From-Scratch/"/>
    <id>https://blog.lthero.cn/2025/01/22/Diffusion-From-Scratch/</id>
    <published>2025-01-22T14:24:54.000Z</published>
    <updated>2025-01-22T14:25:34.817Z</updated>
    
    <content type="html"><![CDATA[<p>1</p><h1 id="diffusionä»scratchå¼€å§‹">Diffusionä»Scratchå¼€å§‹</h1><p>å‚è€ƒï¼š<a href="https://ucladeepvision.github.io/CS188-Projects-2023Winter/2022/03/27/team27-ddim-inversion.html">https://ucladeepvision.github.io/CS188-Projects-2023Winter/2022/03/27/team27-ddim-inversion.html</a></p><p><a href="https://github.com/Animadversio/DiffusionFromScratch">https://github.com/Animadversio/DiffusionFromScratch</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1&lt;/p&gt;
&lt;h1 id=&quot;diffusionä»scratchå¼€å§‹&quot;&gt;Diffusionä»Scratchå¼€å§‹&lt;/h1&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;a href=&quot;https://ucladeepvision.github.io/CS188-Projects-2023Winter/202</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>LLMs_From_Scratch</title>
    <link href="https://blog.lthero.cn/2025/01/22/LLMs-From-Scratch/"/>
    <id>https://blog.lthero.cn/2025/01/22/LLMs-From-Scratch/</id>
    <published>2025-01-22T14:23:00.000Z</published>
    <updated>2025-01-22T14:24:13.661Z</updated>
    
    <content type="html"><![CDATA[<p>1</p><h1 id="llmsä»scratchå¼€å§‹">LLMsä»Scratchå¼€å§‹</h1><p>å‚è€ƒï¼š<a href="https://www.bilibili.com/video/BV1qWwke5E3K/">https://www.bilibili.com/video/BV1qWwke5E3K/</a></p><p><img src="C:/Users/12904/AppData/Roaming/Typora/typora-user-images/image-20250122222320760.png" alt="Transformeræ¶æ„"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1&lt;/p&gt;
&lt;h1 id=&quot;llmsä»scratchå¼€å§‹&quot;&gt;LLMsä»Scratchå¼€å§‹&lt;/h1&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;a href=&quot;https://www.bilibili.com/video/BV1qWwke5E3K/&quot;&gt;https://www.bilibili.com/v</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Autoencoder</title>
    <link href="https://blog.lthero.cn/2025/01/17/Autoencoder/"/>
    <id>https://blog.lthero.cn/2025/01/17/Autoencoder/</id>
    <published>2025-01-17T14:20:31.000Z</published>
    <updated>2025-01-23T13:11:30.262Z</updated>
    
    <content type="html"><![CDATA[<h1 id="autoencoder">Autoencoder</h1><blockquote><p>å‚è€ƒï¼š<a href="https://github.com/nathanhubens/Autoencoders">https://github.com/nathanhubens/Autoencoders</a></p></blockquote><p>è‡ªåŠ¨ç¼–ç å™¨ï¼ˆAutoencoders, AEï¼‰æ˜¯ä¸€ç§ç¥ç»ç½‘ç»œï¼Œå…¶ç›®æ ‡æ˜¯å°†è¾“å…¥å¤åˆ¶åˆ°è¾“å‡ºã€‚å®ƒä»¬é€šè¿‡å°†è¾“å…¥å‹ç¼©åˆ°ä¸€ä¸ªæ½œåœ¨ç©ºé—´è¡¨ç¤ºä¸­ï¼Œç„¶åä»è¯¥è¡¨ç¤ºä¸­é‡å»ºè¾“å‡ºã€‚è¿™æ ·çš„ç½‘ç»œç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p><p>ç¼–ç å™¨ï¼ˆEncoderï¼‰ï¼šç½‘ç»œçš„è¿™ä¸€éƒ¨åˆ†è´Ÿè´£å°†è¾“å…¥å‹ç¼©åˆ°æ½œåœ¨ç©ºé—´è¡¨ç¤ºä¸­ã€‚å¯ä»¥ç”¨ç¼–ç å‡½æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo>=</mo><mi>ğ‘“</mi><mo stretchy="false">(</mo><mi>ğ‘¥</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">â„=ğ‘“(ğ‘¥)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">h</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> æ¥è¡¨ç¤ºã€‚</p><p>è§£ç å™¨ï¼ˆDecoderï¼‰ï¼šè¿™ä¸€éƒ¨åˆ†æ—¨åœ¨ä»æ½œåœ¨ç©ºé—´è¡¨ç¤ºä¸­é‡å»ºè¾“å…¥ã€‚å¯ä»¥ç”¨è§£ç å‡½æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mi>g</mi><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">r=g(h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">h</span><span class="mclose">)</span></span></span></span> æ¥è¡¨ç¤ºã€‚</p><p>è‡ªåŠ¨ç¼–ç å™¨çš„æ¶æ„ï¼šæ•´ä¸ªè‡ªåŠ¨ç¼–ç å™¨å¯ä»¥æè¿°ä¸ºå‡½æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ğ‘”</mi><mo stretchy="false">(</mo><mi>ğ‘“</mi><mo stretchy="false">(</mo><mi>ğ‘¥</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mi>ğ‘Ÿ</mi></mrow><annotation encoding="application/x-tex">ğ‘”(ğ‘“(ğ‘¥))=ğ‘Ÿ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>ï¼Œå…¶ä¸­å¸Œæœ› <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ğ‘Ÿ</mi></mrow><annotation encoding="application/x-tex">ğ‘Ÿ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span> å°½å¯èƒ½æ¥è¿‘åŸå§‹è¾“å…¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ğ‘¥</mi></mrow><annotation encoding="application/x-tex">ğ‘¥</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>ã€‚</p><h1 id="aeä¸vaeæ¦‚å¿µ">AEä¸VAEæ¦‚å¿µ</h1><p>æˆ‘ç°åœ¨è¦è¯¦ç»†è®²è§£ä¸€ä¸‹å˜åˆ†è‡ªç¼–ç å™¨ï¼ˆVAEï¼‰å’Œä¼ ç»Ÿçš„è‡ªç¼–ç å™¨ï¼ˆAEï¼‰ä¹‹é—´çš„åŒºåˆ«ã€‚æˆ‘å¯¹è¿™ä¸¤ä¸ªæ¨¡å‹æœ‰ä¸€äº›åŸºæœ¬äº†è§£ï¼Œä½†å…·ä½“ç»†èŠ‚å¯èƒ½è¿˜ä¸å¤Ÿæ·±å…¥ã€‚</p><p>é¦–å…ˆï¼Œè‡ªç¼–ç å™¨ï¼ˆAEï¼‰çš„åŸºæœ¬æ¦‚å¿µæ˜¯æ€æ ·çš„ï¼Ÿå®ƒæ˜¯ä¸€ä¸ªæ— ç›‘ç£å­¦ä¹ æ¨¡å‹ï¼Œç”¨äºè¿›è¡Œé™ç»´å’Œæ•°æ®å‹ç¼©ã€‚å®ƒçš„ç»“æ„åŒ…æ‹¬ä¸€ä¸ªç¼–ç å™¨ï¼ˆencoderï¼‰å’Œè§£ç å™¨ï¼ˆdecoderï¼‰ã€‚ç¼–ç å™¨å°†è¾“å…¥æ•°æ®æ˜ å°„åˆ°æ½œåœ¨ç©ºé—´çš„ä¸€ä¸ªä½ç»´å‘é‡ï¼Œç§°ä¸ºlatent vectoræˆ–æ½œåœ¨ä»£ç ã€‚ç„¶åï¼Œè§£ç å™¨å†æŠŠè¿™ä¸ªæ½œåœ¨ä»£ç è¿˜åŸå›åŸæ¥çš„è¾“å…¥æ•°æ®ã€‚è¿™ç§ç»“æ„åœ¨æ— ç›‘ç£å­¦ä¹ ä¸­å¾ˆå¸¸ç”¨ï¼Œæ¯”å¦‚ç”¨äºå›¾åƒå‹ç¼©æˆ–è€…ç”Ÿæˆç±»ä¼¼çš„æ•°æ®ã€‚</p><h2 id="ä¼ ç»Ÿè‡ªåŠ¨ç¼–ç å™¨-ae">ä¼ ç»Ÿè‡ªåŠ¨ç¼–ç å™¨ï¼ˆAEï¼‰</h2><ul><li>ä¼ ç»Ÿ<strong>AEå­¦ä¹ çš„æ˜¯ä¸€ä¸ªç¡®å®šæ€§çš„æ˜ å°„</strong>ï¼Œå°†è¾“å…¥æ ·æœ¬æ˜ å°„åˆ°æ½œåœ¨ç©ºé—´ä¸­çš„ä¸€ä¸ª<strong>å›ºå®šå‘é‡</strong></li><li>è¿™ä¸ªå‘é‡æ˜¯é€šè¿‡ç¼–ç å™¨ç½‘ç»œç›´æ¥è®¡ç®—å‡ºæ¥çš„ï¼Œ<strong>æ²¡æœ‰è€ƒè™‘æ ·æœ¬çš„æ¦‚ç‡åˆ†å¸ƒ</strong></li><li>ç”±äºAEæ²¡æœ‰æ˜¾å¼åœ°å¯¹æ½œåœ¨ç©ºé—´è¿›è¡Œæ­£åˆ™åŒ–æˆ–æ¦‚ç‡å»ºæ¨¡ï¼Œ<strong>æ½œåœ¨ç©ºé—´çš„ç»“æ„å¯èƒ½æ˜¯éè¿ç»­çš„æˆ–ä¸è§„åˆ™çš„</strong>ã€‚</li></ul><p>é‡å»ºèƒ½åŠ›ï¼š</p><p>ç”±äºAEå­¦ä¹ çš„æ˜¯ä¸€ä¸ªç¡®å®šçš„æ˜ å°„ï¼Œå®ƒ<strong>èƒ½å¤Ÿå¾ˆå¥½åœ°é‡å»ºè¾“å…¥æ ·æœ¬</strong>ã€‚</p><p>ä½†æ˜¯ï¼Œç”±äºæ²¡æœ‰å­¦ä¹ åˆ°æ½œåœ¨ç©ºé—´çš„æ¦‚ç‡åˆ†å¸ƒï¼ŒAE<strong>ç¼ºä¹ç”Ÿæˆæ–°æ ·æœ¬çš„èƒ½åŠ›</strong>ã€‚</p><h2 id="å˜åˆ†è‡ªåŠ¨ç¼–ç å™¨-vae">å˜åˆ†è‡ªåŠ¨ç¼–ç å™¨ï¼ˆVAEï¼‰</h2><ul><li>VAEå­¦ä¹ çš„æ˜¯<strong>è¾“å…¥æ ·æœ¬åœ¨æ½œåœ¨ç©ºé—´ä¸­çš„æ¦‚ç‡åˆ†å¸ƒ</strong>ï¼ŒVAEé€šè¿‡KLæ•£åº¦å¯¹æ½œåœ¨ç©ºé—´è¿›è¡Œæ­£åˆ™åŒ–ï¼Œä½¿å…¶æ¥è¿‘æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆäººä¸ºè®¾å®šçš„é«˜æ–¯åˆ†å¸ƒï¼Œå½“ç„¶ä¹Ÿæ˜¯å¯ä»¥æ˜¯å…¶å®ƒâ€œå·²çŸ¥â€åˆ†å¸ƒï¼‰</li><li>è¿™æ„å‘³ç€æ½œåœ¨ç©ºé—´æ˜¯<strong>è¿ç»­çš„å’Œç»“æ„åŒ–çš„</strong>ï¼Œä»»ä½•ä»ä¸­é‡‡æ ·çš„å‘é‡éƒ½æ›´æœ‰å¯èƒ½å¯¹åº”äºåˆç†çš„è¾“å…¥æ•°æ®ã€‚</li><li>ç¼–ç å™¨è¾“å‡ºçš„æ˜¯è¿™ä¸ªåˆ†å¸ƒçš„å‚æ•°ï¼šå‡å€¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">z_{mean}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å’Œæ–¹å·® <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>v</mi><mi>a</mi><mi>r</mi></mrow></msub></mrow><annotation encoding="application/x-tex">z_{log var}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</li></ul><p>ç”Ÿæˆèƒ½åŠ›ï¼š</p><p>é€šè¿‡å­¦ä¹ æ½œåœ¨ç©ºé—´çš„åˆ†å¸ƒï¼ŒVAEä¸ä»…èƒ½å¤Ÿé‡å»ºè¾“å…¥æ ·æœ¬ï¼Œè¿˜<strong>èƒ½å¤Ÿä»æ½œåœ¨ç©ºé—´ä¸­é‡‡æ ·ç”Ÿæˆæ–°æ ·æœ¬</strong>ã€‚</p><p>è¿™ç§ç”Ÿæˆèƒ½åŠ›æ˜¯é€šè¿‡é‡å‚æ•°åŒ–æŠ€å·§å®ç°çš„ï¼Œä½¿å¾—VAEå¯ä»¥åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¿›è¡Œåå‘ä¼ æ’­ã€‚</p><h1 id="aeä¸vaeåŒºåˆ«">AEä¸VAEåŒºåˆ«</h1><p>é‚£ä¹ˆï¼Œä¼ ç»Ÿçš„è‡ªç¼–ç å™¨ï¼ˆAEï¼‰å’Œå˜åˆ†è‡ªç¼–ç å™¨ï¼ˆVAEï¼‰æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼ŸVAEå¼•å…¥äº†ä¸€äº›ç»Ÿè®¡å­¦çš„æ¦‚å¿µï¼Œç‰¹åˆ«æ˜¯è´å¶æ–¯æ¨æ–­ã€‚è¿™å¯èƒ½æ¶‰åŠåˆ°æ¦‚ç‡æ¨¡å‹ï¼Œè€Œä¼ ç»ŸAEæ›´åƒæ˜¯ä¸€ä¸ªç¡®å®šæ€§çš„æ¨¡å‹ã€‚</p><p>é¦–å…ˆï¼Œ<strong>ç›®æ ‡å‡½æ•°</strong>æ–¹é¢</p><ul><li><strong>AEçš„ç›®æ ‡æ˜¯æœ€å°åŒ–é‡å»ºè¯¯å·®</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¾“å…¥ç»è¿‡ç¼–ç å’Œè§£ç åçš„è¾“å‡ºä¸åŸè¾“å…¥ä¹‹é—´çš„å·®å¼‚å°½å¯èƒ½å°ã€‚é€šå¸¸ä½¿ç”¨çš„æ˜¯å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰æˆ–è€…äº¤å‰ç†µä½œä¸ºæŸå¤±å‡½æ•°ã€‚</li><li><strong>VAEçš„ç›®æ ‡</strong>åˆ™ä¸ä»…ä»…æ˜¯é‡å»ºæ•°æ®ï¼Œè¿˜å¼•å…¥äº†ä¸€ä¸ª latent space çš„æ­£åˆ™åŒ–é¡¹ï¼Œç›®çš„æ˜¯<strong>è®©æ½œåœ¨å‘é‡æœä»æŸç§å…ˆéªŒåˆ†å¸ƒ</strong>ï¼Œé€šå¸¸æ˜¯æ ‡å‡†æ­£æ€åˆ†å¸ƒã€‚è¿™æ„å‘³ç€VAEçš„æŸå¤±å‡½æ•°åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š<strong>é‡å»ºæŸå¤±å’ŒKLæ•£åº¦é¡¹</strong>ã€‚</li><li><img src="C:/Users/12904/AppData/Roaming/Typora/typora-user-images/image-20250122102207715.png" alt="VAEæŸå¤±å‡½æ•°çš„é‡å»ºæŸå¤±å’ŒKLæ•£åº¦é¡¹"></li></ul><p>æ¥ä¸‹æ¥æ˜¯æ¨¡å‹ç»“æ„çš„ä¸åŒç‚¹ã€‚</p><p>ç¼–ç å™¨æ–¹é¢ï¼šAEçš„ç¼–ç å™¨è¾“å‡ºçš„æ˜¯ä¸€ä¸ª<strong>ç¡®å®šæ€§çš„latent vector</strong>ï¼Œè€ŒVAEçš„ç¼–ç å™¨è¾“å‡ºçš„æ˜¯è¿™ä¸ªå‘é‡çš„å‡å€¼å’Œæ–¹å·®ï¼Œè¿™ä¸¤ä¸ªå‚æ•°ç”¨äºæè¿°æ½œåœ¨å˜é‡çš„æ­£æ€åˆ†å¸ƒã€‚</p><p>è§£ç å™¨æ–¹é¢ï¼šAEç›´æ¥ä»latent vectoræ˜ å°„å›æ•°æ®ï¼Œè€ŒVAEå¯èƒ½åŒæ ·å¦‚æ­¤ï¼Œä½†æ½œåœ¨ç©ºé—´æ˜¯é€šè¿‡<strong>é‡å‚æ•°åŒ–æŠ€å·§</strong>ï¼ˆæ¯”å¦‚å°†æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„å™ªå£°åŠ åˆ°å‡å€¼ä¸Šï¼‰æ¥å®ç°çš„ã€‚</p><p>æ½œåœ¨ç©ºé—´çš„æ€§è´¨ï¼šåœ¨AEä¸­ï¼Œlatent spaceæ˜¯ä¸€ä¸ª<strong>ç¡®å®šæ€§çš„ä½ç»´å‘é‡</strong>ï¼Œå®ƒç›´æ¥æ•æ‰è¾“å…¥æ•°æ®çš„ç‰¹å¾ã€‚è€Œåœ¨VAEä¸­ï¼Œlatent spaceä¸­çš„æ¯ä¸ªç‚¹éƒ½æ˜¯ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œè¿™ä½¿å¾—æ¨¡å‹å…·æœ‰ç”Ÿæˆèƒ½åŠ›ï¼Œå› ä¸ºå®ƒå¯ä»¥é‡‡æ ·æ–°çš„æ½œåœ¨å‘é‡å¹¶å°†å…¶è§£ç ä¸ºæ–°æ•°æ®ã€‚</p><p>ç”Ÿæˆèƒ½åŠ›æ–¹é¢ï¼šAEé€šå¸¸éš¾ä»¥ç›´æ¥ç”¨äºç”Ÿæˆæ•°æ®ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰æ˜ç¡®çš„æ¦‚ç‡å»ºæ¨¡ã€‚è€ŒVAEç”±äºå…¶æ½œåœ¨ç©ºé—´æ˜¯æ¦‚ç‡æ€§çš„ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å¯¹æ½œåœ¨å˜é‡è¿›è¡Œé‡‡æ ·æ¥ç”Ÿæˆæ–°æ ·æœ¬ï¼Œå› æ­¤åœ¨å›¾åƒç”Ÿæˆç­‰ä»»åŠ¡ä¸­è¡¨ç°æ›´å¥½ã€‚</p><p>é²æ£’æ€§æ–¹é¢ï¼šAEå¯èƒ½å¯¹å™ªå£°è¾ƒä¸ºæ•æ„Ÿï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†æœ‰å™ªå£°çš„æ•°æ®æ—¶ï¼Œé‡å»ºå¯èƒ½ä¼šå—åˆ°å½±å“ã€‚è€ŒVAEé€šè¿‡å¼•å…¥æ­£åˆ™åŒ–å’Œæ¦‚ç‡å»ºæ¨¡ï¼Œé€šå¸¸åœ¨å¤„ç†å¸¦å™ªæ•°æ®æ—¶è¡¨ç°æ›´ç¨³å®šï¼Œå¹¶ä¸”å¯¹æ¨¡å‹çš„å‚æ•°æœ‰ä¸€å®šçš„é²æ£’æ€§ã€‚</p><p>åº”ç”¨æ–¹é¢ï¼šAEå¸¸ç”¨äºé™ç»´ã€ç‰¹å¾æå–å’Œå›¾åƒä¿®å¤ç­‰ä»»åŠ¡ï¼Œè€Œ<strong>VAEæ›´å¤šåœ°åº”ç”¨äºç”Ÿæˆæ¨¡å‹</strong>ï¼Œæ¯”å¦‚å›¾åƒç”Ÿæˆã€è¯­éŸ³åˆæˆç­‰é¢†åŸŸã€‚</p><p>æ€»ç»“ä¸€ä¸‹ï¼ŒVAEé€šè¿‡å¼•å…¥æ¦‚ç‡å»ºæ¨¡å’Œæ½œåœ¨ç©ºé—´çš„æ­£åˆ™åŒ–ï¼Œä½¿å¾—å®ƒåœ¨ç”Ÿæˆä»»åŠ¡ä¸Šè¡¨ç°æ›´å¥½ï¼Œå¹¶ä¸”å…·æœ‰æ›´å¥½çš„é²æ£’æ€§å’Œçµæ´»æ€§ã€‚è€Œä¼ ç»Ÿçš„AEæ›´ä¾§é‡äºæ•°æ®å‹ç¼©å’Œé™ç»´ï¼ŒåŠŸèƒ½ç›¸å¯¹å•ä¸€ã€‚</p><h2 id="ä»ä¸¤è€…encoderå¯Ÿè§‰å‡ºä¸¤è€…åŒºåˆ«">ä»ä¸¤è€…Encoderå¯Ÿè§‰å‡ºä¸¤è€…åŒºåˆ«</h2><blockquote><p>åœ¨ä¼ ç»Ÿè‡ªåŠ¨ç¼–ç å™¨ï¼ˆAEï¼‰å’Œå˜åˆ†è‡ªåŠ¨ç¼–ç å™¨ï¼ˆVAEï¼‰ä¸­ï¼Œç¼–ç å™¨(Encoder)çš„è¾“å‡ºå±‚è®¾è®¡æœ‰æ‰€ä¸åŒï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒä»¬çš„ç›®æ ‡å’Œç»“æ„ä¸åŒã€‚</p></blockquote><h3 id="ä¼ ç»Ÿè‡ªåŠ¨ç¼–ç å™¨-ae">ä¼ ç»Ÿè‡ªåŠ¨ç¼–ç å™¨ï¼ˆAEï¼‰</h3><p>åœ¨ä¼ ç»ŸAEä¸­ï¼Œç¼–ç å™¨çš„è¾“å‡ºé€šå¸¸æ˜¯ä¸€ä¸ªç¡®å®šæ€§çš„æ½œåœ¨è¡¨ç¤ºã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">input_layer = Input(shape=(input_dim,))</span><br><span class="line">hidden_layer = Dense(hidden_dim, activation=<span class="string">&#x27;relu&#x27;</span>)(input_layer)</span><br><span class="line">output_layer = Dense(input_dim, activation=<span class="string">&#x27;sigmoid&#x27;</span>)(hidden_layer)</span><br><span class="line">autoencoder = Model(inputs=input_layer, outputs=output_layer)</span><br><span class="line"><span class="comment"># çœ‹ä¸‹é¢outputs=hidden_layer</span></span><br><span class="line">encoder = Model(inputs=input_layer, outputs=hidden_layer)</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œ<code>hidden_layer=Dense(intermediate_dim, activation='relu')(self.input_layer) </code>è¡¨ç¤ºå°†è¾“å…¥æ•°æ®é€šè¿‡ä¸€ä¸ªå…¨è¿æ¥å±‚æ˜ å°„åˆ°ä¸€ä¸ªä¸­é—´ç»´åº¦çš„æ½œåœ¨ç©ºé—´ã€‚</p><p>è¿™ä¸ªæ½œåœ¨è¡¨ç¤ºæ˜¯ä¸€ä¸ª<strong>å›ºå®šçš„å‘é‡</strong>ï¼Œç›´æ¥ç”¨äºè§£ç å™¨è¿›è¡Œé‡å»ºã€‚</p><h3 id="å˜åˆ†è‡ªåŠ¨ç¼–ç å™¨-vae">å˜åˆ†è‡ªåŠ¨ç¼–ç å™¨ï¼ˆVAEï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">input_layer = Input(shape=(input_dim,))</span><br><span class="line">h = Dense(intermediate_dim, activation=<span class="string">&#x27;relu&#x27;</span>)(input_layer)</span><br><span class="line">z_mean = Dense(latent_dim)(h)</span><br><span class="line">z_log_var = Dense(latent_dim)(h)</span><br><span class="line">...</span><br><span class="line"><span class="comment"># çœ‹ä¸‹é¢outputs=z_mean</span></span><br><span class="line">encoder = Model(inputs=input_layer, outputs=z_mean)</span><br></pre></td></tr></table></figure><p>åœ¨VAEä¸­ï¼Œ<strong>ç¼–ç å™¨çš„è¾“å‡ºæ˜¯æ½œåœ¨ç©ºé—´çš„æ¦‚ç‡åˆ†å¸ƒå‚æ•°</strong>ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç¡®å®šæ€§çš„å‘é‡ã€‚</p><p><code>z_mean = Dense(latent_dim)(self.h)</code> å’Œ <code>z_log_var = Dense(latent_dim)(self.h)</code> åˆ†åˆ«è¡¨ç¤ºæ½œåœ¨ç©ºé—´çš„å‡å€¼å’Œå¯¹æ•°æ–¹å·®ã€‚</p><p>é€šè¿‡å­¦ä¹ è¿™ä¸¤ä¸ªå‚æ•°ï¼Œ<strong>VAEå¯ä»¥åœ¨æ½œåœ¨ç©ºé—´ä¸­å®šä¹‰ä¸€ä¸ªæ­£æ€åˆ†å¸ƒ</strong>ã€‚</p><p>é‡‡æ ·è¿‡ç¨‹ï¼š</p><p>VAEä½¿ç”¨é‡å‚æ•°åŒ–æŠ€å·§ä»è¿™ä¸ªåˆ†å¸ƒä¸­é‡‡æ ·æ½œåœ¨å˜é‡ zï¼Œä»¥ä¾¿åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¿›è¡Œåå‘ä¼ æ’­ã€‚</p><p>è¿™ä½¿å¾—VAEèƒ½å¤Ÿç”Ÿæˆæ–°æ ·æœ¬ï¼Œå¹¶å¯¹æ½œåœ¨ç©ºé—´è¿›è¡Œæ­£åˆ™åŒ–ã€‚</p><h2 id="æ€»ç»“">æ€»ç»“</h2><p>ä¼ ç»ŸAEï¼šä¸“æ³¨äºé‡å»ºè¾“å…¥æ ·æœ¬ï¼Œç¼ºä¹ç”Ÿæˆæ–°æ ·æœ¬çš„èƒ½åŠ›ã€‚</p><p>VAEï¼šé€šè¿‡å­¦ä¹ æ½œåœ¨ç©ºé—´çš„æ¦‚ç‡åˆ†å¸ƒï¼Œæ—¢èƒ½é‡å»ºè¾“å…¥æ ·æœ¬ï¼Œåˆèƒ½ç”Ÿæˆæ–°æ ·æœ¬ã€‚</p><h2 id="é—®é¢˜">é—®é¢˜</h2><blockquote><p>ç»™ä¼ ç»Ÿè‡ªåŠ¨ç¼–ç å™¨ï¼ˆAEï¼‰ä¸€ä¸ªéšæœºçš„æ½œåœ¨ç©ºé—´å‘é‡ï¼Œè§£ç å™¨ä¼šå°è¯•å°†å…¶æ˜ å°„å›è¾“å…¥ç©ºé—´ï¼Œå®ƒç¡®å®å¯ä»¥é€šè¿‡è§£ç å™¨ç”Ÿæˆä¸€äº›è¾“å‡ºæ•°æ®</p><p>ç”±äºæ½œåœ¨ç©ºé—´æ²¡æœ‰ç»è¿‡æ­£åˆ™åŒ–ï¼Œéšæœºå‘é‡å¯èƒ½ä¸å¯¹åº”äºè®­ç»ƒæ•°æ®çš„åˆç†è¡¨ç¤ºï¼Œå› æ­¤ç”Ÿæˆçš„è¾“å‡ºå¯èƒ½æ˜¯æ¨¡ç³Šçš„æˆ–ä¸çœŸå®çš„</p><p>æ•ˆæœé€šå¸¸ä¸å¦‚å˜åˆ†è‡ªåŠ¨ç¼–ç å™¨ï¼ˆVAEï¼‰å¥½</p></blockquote><h1 id="å˜åˆ†è‡ªç¼–ç å™¨">å˜åˆ†è‡ªç¼–ç å™¨</h1><img src="C:/Users/12904/AppData/Roaming/Typora/typora-user-images/image-20250117220552557.png" alt="image-20250117220552557" style="zoom:50%;" /><p>åœ¨å˜åˆ†è‡ªåŠ¨ç¼–ç å™¨ï¼ˆVariational Autoencoder, VAEï¼‰ä¸­ï¼Œâ€œå˜åˆ†â€ï¼ˆvariationalï¼‰ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><h2 id="æ½œåœ¨ç©ºé—´çš„æ¦‚ç‡å»ºæ¨¡">æ½œåœ¨ç©ºé—´çš„æ¦‚ç‡å»ºæ¨¡</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, input_dim, intermediate_dim, latent_dim, epsilon_std=<span class="number">1.0</span></span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(input_dim)</span><br><span class="line">        self.input_layer = Input(shape=(input_dim,))</span><br><span class="line">        self.h = Dense(intermediate_dim, activation=<span class="string">&#x27;relu&#x27;</span>)(self.input_layer)</span><br><span class="line">        <span class="comment"># Variational ä½“ç°åœ¨é€šè¿‡å­¦ä¹ æ½œç©ºé—´å‡å€¼ä¸å¯¹æ•°æ–¹å·®æ¥å»ºæ¨¡æ½œåœ¨åˆ†å¸ƒï¼Œè€Œä¸æ˜¯ç›´æ¥å­¦ä¹ æ½œåœ¨å˜é‡</span></span><br><span class="line">        <span class="comment"># å¯ä»¥å¯¹ z_mean å’Œ z_log_var è¿›è¡Œä¼˜åŒ–ï¼Œä»è€Œé—´æ¥ä¼˜åŒ– z çš„åˆ†å¸ƒ</span></span><br><span class="line">        self.z_mean = Dense(latent_dim)(self.h)</span><br><span class="line">        self.z_log_var = Dense(latent_dim)(self.h)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„<code>input_layer</code>å’Œ<code>h</code>ä¸ä¼ ç»ŸAEä¸€æ ·ï¼Œä½†VAEé€šè¿‡å­¦ä¹ æ½œåœ¨ç©ºé—´çš„å‡å€¼ (z_mean) å’Œå¯¹æ•°æ–¹å·® (z_log_var) æ¥å»ºæ¨¡æ•°æ®çš„æ½œåœ¨åˆ†å¸ƒã€‚è¿™ä¸ä¼ ç»Ÿçš„AEä¸åŒï¼Œåè€…ç›´æ¥å­¦ä¹ ä¸€ä¸ªç¡®å®šæ€§çš„æ½œåœ¨è¡¨ç¤ºã€‚</p><h2 id="é‡å‚æ•°åŒ–æŠ€å·§">é‡å‚æ•°åŒ–æŠ€å·§</h2><p>é‡‡æ ·è¿‡ç¨‹ï¼šVAEä½¿ç”¨é‡å‚æ•°åŒ–æŠ€å·§æ¥ä»æ½œåœ¨ç©ºé—´ä¸­é‡‡æ ·ã€‚é€šè¿‡å¼•å…¥å™ªå£° epsilonï¼ŒVAEèƒ½å¤Ÿåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¿›è¡Œåå‘ä¼ æ’­ã€‚è¿™ä¸€è¿‡ç¨‹åœ¨ sampling å‡½æ•°ä¸­å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># samplingæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç”¨ z_mean å’Œ z_log_var ç”Ÿæˆæ½œåœ¨å˜é‡ z</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sampling</span>(<span class="params">self, args</span>):</span><br><span class="line">      z_mean, z_log_var = args</span><br><span class="line">      epsilon = K.random_normal(shape=(K.shape(z_mean)[<span class="number">0</span>], latent_dim), mean=<span class="number">0.0</span>, stddev=epsilon_std)</span><br><span class="line">      <span class="keyword">return</span> z_mean + K.exp(z_log_var / <span class="number">2</span>) * epsilon</span><br></pre></td></tr></table></figure><p>é‡å‚æ•°åŒ–æŠ€å·§ï¼šå®ƒé€šè¿‡å°†ä¸å¯å¯¼çš„éšæœºé‡‡æ ·è¿‡ç¨‹è½¬åŒ–ä¸ºä¸€ä¸ªå¯å¯¼çš„è¿‡ç¨‹ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥å¯¹æ½œåœ¨å˜é‡ z çš„å‚æ•°è¿›è¡Œä¼˜åŒ–ã€‚ä»¥ä¸‹æ˜¯æ›´è¯¦ç»†çš„è§£é‡Šï¼š</p><h3 id="åŸç†">åŸç†</h3><p>ä¸å¯å¯¼çš„é‡‡æ ·è¿‡ç¨‹ï¼š</p><p>åœ¨VAEä¸­ï¼Œæ½œåœ¨å˜é‡ z æ˜¯ä»ä¸€ä¸ªç”±å‡å€¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">z_{mean}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å’Œæ–¹å·® <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>v</mi><mi>a</mi><mi>r</mi></mrow></msub></mrow><annotation encoding="application/x-tex">z_{log var}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> å‚æ•°åŒ–çš„æ­£æ€åˆ†å¸ƒä¸­é‡‡æ ·çš„ã€‚</p><p>ç›´æ¥ä»è¿™ä¸ªåˆ†å¸ƒä¸­é‡‡æ ·çš„è¿‡ç¨‹æ˜¯ä¸å¯å¯¼çš„ï¼Œå› ä¸ºéšæœºé‡‡æ ·æœ¬èº«ä¸å…·å¤‡ç¡®å®šæ€§ã€‚</p><p>è§£å†³æ–¹æ³•ï¼ˆé‡å‚æ•°åŒ–æŠ€å·§ï¼‰</p><p>é€šè¿‡å¼•å…¥ä¸€ä¸ª<strong>ç‹¬ç«‹äºæ¨¡å‹å‚æ•°çš„éšæœºå™ªå£° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>p</mi><mi>s</mi><mi>i</mi><mi>l</mi><mi>o</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span></span></span></span></strong>ï¼Œæˆ‘ä»¬å¯ä»¥å°†é‡‡æ ·è¿‡ç¨‹è¡¨ç¤ºä¸ºä¸€ä¸ªç¡®å®šæ€§å‡½æ•°ï¼š</p><p class='katex-block katex-error' title='Error: Font metrics not found for font: .'>z=z_{mean}+ğœ–Ã—expâ¡(z_{log var}/2)</p><p>å…¶ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>p</mi><mi>s</mi><mi>i</mi><mi>l</mi><mi>o</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span></span></span></span> æ˜¯ä»æ ‡å‡†æ­£æ€åˆ†å¸ƒ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N(0, 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> ä¸­é‡‡æ ·çš„ã€‚</p><p>å¯å¯¼æ€§ï¼š</p><p>ç”±äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>p</mi><mi>s</mi><mi>i</mi><mi>l</mi><mi>o</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span></span></span></span> æ˜¯ç‹¬ç«‹çš„éšæœºå™ªå£°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>m</mi></msub><mi>e</mi><mi>a</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">z_mean</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>l</mi></msub><mi>o</mi><msub><mi>g</mi><mi>v</mi></msub><mi>a</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">z_log_var</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span> çš„æ¢¯åº¦å¯ä»¥é€šè¿‡åå‘ä¼ æ’­è®¡ç®—å‡ºæ¥ã€‚</p><p>è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥å¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>m</mi></msub><mi>e</mi><mi>a</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">z_mean</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>l</mi></msub><mi>o</mi><msub><mi>g</mi><mi>v</mi></msub><mi>a</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">z_log_var</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span> è¿›è¡Œä¼˜åŒ–ï¼Œä»è€Œé—´æ¥ä¼˜åŒ– z çš„åˆ†å¸ƒã€‚</p><h3 id="ä¼˜åŒ–è¿‡ç¨‹">ä¼˜åŒ–è¿‡ç¨‹</h3><p>ç›®æ ‡ï¼šé€šè¿‡ä¼˜åŒ– <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>m</mi></msub><mi>e</mi><mi>a</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">z_mean</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>l</mi></msub><mi>o</mi><msub><mi>g</mi><mi>v</mi></msub><mi>a</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">z_log_var</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>ï¼Œä½¿å¾—æ½œåœ¨ç©ºé—´çš„åˆ†å¸ƒèƒ½å¤Ÿæ›´å¥½åœ°è¡¨ç¤ºè¾“å…¥æ•°æ®ã€‚</p><p>æŸå¤±å‡½æ•°ï¼šVAEçš„æŸå¤±å‡½æ•°åŒ…æ‹¬é‡å»ºæŸå¤±å’ŒKLæ•£åº¦ï¼Œåè€…ç”¨äºæ­£åˆ™åŒ–æ½œåœ¨ç©ºé—´çš„åˆ†å¸ƒã€‚</p><h3 id="æ€»ç»“">æ€»ç»“</h3><p>é‡å‚æ•°åŒ–æŠ€å·§å°†ä¸å¯å¯¼çš„é‡‡æ ·è¿‡ç¨‹è½¬åŒ–ä¸ºå¯å¯¼çš„è¿‡ç¨‹ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥é€šè¿‡åå‘ä¼ æ’­æ¥ä¼˜åŒ–æ½œåœ¨ç©ºé—´çš„å‚æ•°ã€‚è¿™æ˜¯VAEèƒ½å¤Ÿæœ‰æ•ˆè®­ç»ƒçš„å…³é”®æŠ€æœ¯ä¹‹ä¸€ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å­¦ä¹ åˆ°ä¸€ä¸ªæ›´å¥½çš„æ½œåœ¨è¡¨ç¤ºï¼Œå¹¶ç”Ÿæˆæ–°æ•°æ®æ ·æœ¬ã€‚</p><h2 id="vaeçš„ç¼–ç å™¨å’Œè§£ç å™¨ç»“æ„">VAEçš„ç¼–ç å™¨å’Œè§£ç å™¨ç»“æ„</h2><p>å¹¶å°†å®ƒä»¬ç»„åˆæˆå®Œæ•´çš„è‡ªåŠ¨ç¼–ç å™¨æ¨¡å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">BuildModel</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="comment"># zæ˜¯æ½œåœ¨å˜é‡ï¼Œä»æ½œåœ¨ç©ºé—´ä¸­é‡‡æ ·</span></span><br><span class="line">        self.z = Lambda(self.sampling, output_shape=(self.latent_dim,))([self.z_mean, self.z_log_var])</span><br><span class="line">        <span class="comment"># è§£ç å™¨çš„ä¸­é—´å±‚ï¼Œå°†æ½œåœ¨ç©ºé—´çš„è¡¨ç¤º z è½¬æ¢ä¸ºä¸€ä¸ªä¸­é—´è¡¨ç¤º</span></span><br><span class="line">        self.decoder_h = Dense(self.intermediate_dim, activation=<span class="string">&#x27;relu&#x27;</span>)</span><br><span class="line">        <span class="comment"># è§£ç å™¨çš„è¾“å‡ºå±‚ï¼Œå°†ä¸­é—´è¡¨ç¤ºè§£ç ä¸ºæœ€ç»ˆçš„è¾“å‡ºæ•°æ®ã€‚</span></span><br><span class="line">        self.decoder_mean = Dense(self.input_dim, activation=<span class="string">&#x27;sigmoid&#x27;</span>)</span><br><span class="line">        <span class="comment"># self.h_decoded = self.decoder_h(self.z)</span></span><br><span class="line">        <span class="comment"># å°†æ½œåœ¨ç©ºé—´çš„è¡¨ç¤º z é€šè¿‡è§£ç å™¨çš„ä¸­é—´å±‚å’Œè¾“å‡ºå±‚ï¼Œå¾—åˆ°æœ€ç»ˆçš„è§£ç ç»“æœ</span></span><br><span class="line">        self.x_decoded_mean = self.decoder_mean(self.decoder_h(self.z))</span><br><span class="line">        <span class="comment"># VAEçš„ç›®æ ‡æ˜¯é€šè¿‡ç¼–ç å™¨å’Œè§£ç å™¨ç½‘ç»œï¼Œå°†è¾“å…¥æ•°æ® x ç»è¿‡æ½œåœ¨ç©ºé—´çš„è¡¨ç¤ºåï¼Œé‡å»ºä¸º x_decoded_mean</span></span><br><span class="line">        self.autoencoder = Model(inputs=self.input_layer, outputs=self.x_decoded_mean)</span><br><span class="line">        <span class="comment"># æ„å»ºç¼–ç å™¨æ¨¡å‹ï¼Œè¾“å…¥ä¸ºåŸå§‹æ•°æ®ï¼Œè¾“å‡ºä¸ºæ½œåœ¨ç©ºé—´çš„è¡¨ç¤ºï¼Œè¿™é‡Œä½¿ç”¨z_meanï¼Œå› ä¸ºz_meanæ˜¯æ½œåœ¨ç©ºé—´çš„å‡å€¼</span></span><br><span class="line">        self.encoder = Model(inputs=self.input_layer, outputs=self.z_mean)</span><br></pre></td></tr></table></figure><h2 id="klæ•£åº¦æ­£åˆ™åŒ–">KLæ•£åº¦æ­£åˆ™åŒ–</h2><p>æŸå¤±å‡½æ•°ï¼šVAEçš„æŸå¤±å‡½æ•°åŒ…æ‹¬é‡å»ºæŸå¤±ï¼ˆé€šå¸¸æ˜¯äº¤å‰ç†µï¼‰å’ŒKLæ•£åº¦ã€‚KLæ•£åº¦ç”¨äºè¡¡é‡æ½œåœ¨ç©ºé—´çš„åˆ†å¸ƒä¸æ ‡å‡†æ­£æ€åˆ†å¸ƒä¹‹é—´çš„å·®å¼‚ï¼Œä»è€Œå¯¹æ½œåœ¨ç©ºé—´è¿›è¡Œæ­£åˆ™åŒ–ã€‚è¿™åœ¨ VAELossLayer ä¸­å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">VAELossLayer</span>(<span class="title class_ inherited__">Layer</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, **kwargs</span>):</span><br><span class="line">      <span class="built_in">super</span>(VAELossLayer, self).__init__(**kwargs)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self, inputs</span>):</span><br><span class="line">      x, x_decoded_mean, z_mean, z_log_var = inputs</span><br><span class="line">      xent_loss = input_dim * binary_crossentropy(x, x_decoded_mean)</span><br><span class="line">      kl_loss = -<span class="number">0.5</span> * K.<span class="built_in">sum</span>(<span class="number">1</span> + z_log_var - K.square(z_mean) - K.exp(z_log_var), axis=-<span class="number">1</span>)</span><br><span class="line">      <span class="keyword">return</span> K.mean(xent_loss + kl_loss)</span><br></pre></td></tr></table></figure><h2 id="è®­ç»ƒ">è®­ç»ƒ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Train</span>(<span class="params">self,x_train,x_test</span>):</span><br><span class="line">    <span class="comment">#VAELossLayerï¼šè¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„Keraså±‚ï¼Œç”¨äºè®¡ç®—VAEçš„æŸå¤±ï¼ŒåŒ…æ‹¬é‡å»ºæŸå¤±å’ŒKLæ•£åº¦</span></span><br><span class="line">    loss_layer = VAELossLayer()([self.input_layer, self.x_decoded_mean, self.z_mean, self.z_log_var])</span><br><span class="line">    self.autoencoder.add_loss(loss_layer)</span><br><span class="line">    <span class="comment">#optimizer=&#x27;adam&#x27;ï¼šä½¿ç”¨Adamä¼˜åŒ–å™¨è¿›è¡Œè®­ç»ƒï¼Œå› å…¶åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®å’Œé«˜ç»´å‚æ•°ç©ºé—´æ—¶è¡¨ç°è‰¯å¥½ã€‚</span></span><br><span class="line">    self.autoencoder.<span class="built_in">compile</span>(optimizer=<span class="string">&#x27;adam&#x27;</span>, loss=<span class="literal">None</span>)</span><br><span class="line">    <span class="comment"># VAEçš„è®­ç»ƒç›®æ ‡æ˜¯é‡å»ºè¾“å…¥æ•°æ®ï¼Œå› æ­¤è¾“å…¥å’Œè¾“å‡ºéƒ½æ˜¯ç›¸åŒçš„æ•°æ®é›†</span></span><br><span class="line">    self.autoencoder.fit(x_train, x_train, epochs=epochs, batch_size=batch_size, shuffle=<span class="literal">True</span>, validation_data=(x_test, x_test))</span><br></pre></td></tr></table></figure><p>VAEçš„Modelé‡Œè®¾ç½®ï¼šé€šè¿‡ç¼–ç å™¨å’Œè§£ç å™¨ç½‘ç»œï¼Œå°†è¾“å…¥æ•°æ®xé‡å»ºä¸ºè¾“å‡ºæ•°æ®x_decoded_meanã€‚</p><p>è®­ç»ƒç›®æ ‡ï¼šæœ€å°åŒ–è¾“å…¥æ•°æ®x_trainå’Œé‡å»ºæ•°æ®x_decoded_meanä¹‹é—´çš„å·®å¼‚ï¼ŒåŒæ—¶æ­£åˆ™åŒ–æ½œåœ¨ç©ºé—´çš„åˆ†å¸ƒã€‚</p><blockquote><p>è®©vaeè¾“å‡ºçš„x_decoded_meanå°½é‡åƒè¾“å…¥æ•°æ®x_train</p></blockquote><h1 id="vaeå®Œæ•´ä»£ç ">VAEå®Œæ•´ä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">VariationalAutoencoder</span>(<span class="title class_ inherited__">BaseAutoencoder</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, input_dim, intermediate_dim, latent_dim, epsilon_std=<span class="number">1.0</span></span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(input_dim)</span><br><span class="line">        self.input_layer = Input(shape=(input_dim,))</span><br><span class="line">        self.h = Dense(intermediate_dim, activation=<span class="string">&#x27;relu&#x27;</span>)(self.input_layer)</span><br><span class="line">        <span class="comment"># Variational ä½“ç°åœ¨é€šè¿‡å­¦ä¹ æ½œç©ºé—´å‡å€¼ä¸å¯¹æ•°æ–¹å·®æ¥å»ºæ¨¡æ½œåœ¨åˆ†å¸ƒï¼Œè€Œä¸æ˜¯ç›´æ¥å­¦ä¹ æ½œåœ¨å˜é‡</span></span><br><span class="line">        self.z_mean = Dense(latent_dim)(self.h)</span><br><span class="line">        self.z_log_var = Dense(latent_dim)(self.h)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sampling</span>(<span class="params">self,args</span>):</span><br><span class="line">        z_mean, z_log_var = args</span><br><span class="line">        <span class="comment"># å¼•å…¥å™ªå£°epsilonï¼Œä½¿ç”¨é‡å‚æ•°åŒ–æŠ€å·§ä»æ½œç©ºé—´é‡‡æ ·</span></span><br><span class="line">        epsilon = K.random_normal(shape=(K.shape(z_mean)[<span class="number">0</span>], latent_dim), mean=<span class="number">0.0</span>, stddev=epsilon_std)</span><br><span class="line">        <span class="keyword">return</span> z_mean + K.exp(z_log_var / <span class="number">2</span>) * epsilon</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">BuildModel</span>(<span class="params">self</span>):</span><br><span class="line">        self.z = Lambda(self.sampling, output_shape=(self.latent_dim,))([self.z_mean, self.z_log_var])</span><br><span class="line">        self.decoder_h = Dense(self.intermediate_dim, activation=<span class="string">&#x27;relu&#x27;</span>)</span><br><span class="line">        self.decoder_mean = Dense(self.input_dim, activation=<span class="string">&#x27;sigmoid&#x27;</span>)</span><br><span class="line">        self.h_decoded = self.decoder_h(self.z)</span><br><span class="line">        self.x_decoded_mean = self.decoder_mean(self.h_decoded)</span><br><span class="line">        self.encoder = Model(inputs=self.input_layer, outputs=self.z_mean)</span><br><span class="line">        self.autoencoder = Model(inputs=self.input_layer, outputs=self.x_decoded_mean)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">VAELossLayer</span>(<span class="title class_ inherited__">Layer</span>):</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, **kwargs</span>):</span><br><span class="line">            <span class="built_in">super</span>(VAELossLayer, self).__init__(**kwargs)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self, inputs</span>):</span><br><span class="line">            x, x_decoded_mean, z_mean, z_log_var = inputs</span><br><span class="line">            xent_loss = input_dim * binary_crossentropy(x, x_decoded_mean)</span><br><span class="line">            <span class="comment"># è®¡ç®—KLæ•£åº¦ï¼Œè¡¡é‡æ½œåœ¨åˆ†å¸ƒä¸æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„å·®å¼‚</span></span><br><span class="line">            kl_loss = -<span class="number">0.5</span> * K.<span class="built_in">sum</span>(<span class="number">1</span> + z_log_var - K.square(z_mean) - K.exp(z_log_var), axis=-<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> K.mean(xent_loss + kl_loss)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">Train</span>(<span class="params">self,x_train,x_test</span>):</span><br><span class="line">        loss_layer = VAELossLayer()([self.input_layer, self.x_decoded_mean, self.z_mean, self.z_log_var])</span><br><span class="line">        self.autoencoder.add_loss(loss_layer)</span><br><span class="line">        self.autoencoder.<span class="built_in">compile</span>(optimizer=<span class="string">&#x27;adam&#x27;</span>, loss=<span class="literal">None</span>)</span><br><span class="line">        self.autoencoder.fit(x_train, x_train, epochs=epochs, batch_size=batch_size, shuffle=<span class="literal">True</span>, validation_data=(x_test, x_test))</span><br><span class="line">        self.history=self.autoencoder.fit(x_train,x_train,epochs=EPOCHS,batch_size=BATCH_SIZE,shuffle=<span class="literal">True</span>,validation_data=(x_test,x_test))</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒ">å‚è€ƒ</h1><p><a href="https://towardsdatascience.com/deep-inside-autoencoders-7e41f319999f">https://towardsdatascience.com/deep-inside-autoencoders-7e41f319999f</a></p><p><a href="https://blog.csdn.net/quiet_girl/article/details/84401029">https://blog.csdn.net/quiet_girl/article/details/84401029</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;autoencoder&quot;&gt;Autoencoder&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;a href=&quot;https://github.com/nathanhubens/Autoencoders&quot;&gt;https://github.com/nathanhub</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ã€RackNerd &amp; DigitalOceanã€‘IPè¢«å°|IPè¢«GFWå°</title>
    <link href="https://blog.lthero.cn/2025/01/10/IP-is-blocked-by-GFW/"/>
    <id>https://blog.lthero.cn/2025/01/10/IP-is-blocked-by-GFW/</id>
    <published>2025-01-10T09:50:15.000Z</published>
    <updated>2025-01-22T02:54:26.676Z</updated>
    
    <content type="html"><![CDATA[<h1 id="racknerd-digitalocean-ipè¢«gfwå°äº†">RackNerd &amp; DigitalOcean IPè¢«GFWå°äº†</h1><blockquote><p>äº‹æƒ…èµ·å› ï¼šæœ€è¿‘ä¸¤å°ç¾å›½æœåŠ¡å™¨è¢«GFWå°äº†ï¼ˆå…¨ç«¯å£è¢«å°ï¼Œå…¶ipåŸºæœ¬å°±åºŸäº†ï¼‰</p></blockquote><h2 id="æ£€æµ‹è¿‡ç¨‹">æ£€æµ‹è¿‡ç¨‹</h2><p>ä½¿ç”¨ç«¯å£æ£€æµ‹å·¥å…·<a href="https://ping.pe/">ping.pe</a> è¿›è¡Œæ£€æµ‹ï¼Œç»“æœå¦‚ä¸‹å›¾1æ‰€ç¤ºï¼Œ22ç«¯å£åœ¨å›½å¤–è®¿é—®æ­£å¸¸ï¼Œå›½å†…æ— æ³•è®¿é—®ï¼›å…¶å®ƒç«¯å£ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ­¤ipåºŸäº†ã€‚</p><img src="C:/Users/12904/Downloads/PixPin_2025-01-09_20-04-10.png" alt="PixPin_2025-01-09_20-04-10" style="zoom:50%;" /><p>å…¶å®ƒæ£€æµ‹å·¥å…·</p><p>1ã€å›½å†…å¤–pingæ£€æµ‹ <a href="https://www.itdog.cn/ping/">itdog.cn</a></p><p>2ã€å›½å†…å¤–å•ä¸ªç«¯å£æ£€æµ‹ <a href="https://www.toolsdaquan.com/ipcheck/">ipcheck</a></p><p>3ã€å›½å†…å¤–ping/ç«¯å£æ£€æµ‹ <a href="https://ping.pe/">ping.pe</a></p><h2 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h2><blockquote><p>ä¸¤å°æœåŠ¡å™¨åˆ†åˆ«æ˜¯Racknerdå’ŒDigitalOceançš„ï¼Œä¸åŒå•†å®¶çš„è§£å†³æ–¹æ¡ˆä¸åŒã€‚</p></blockquote><h3 id="digitaloceançš„è§£å†³æ–¹æ³•">DigitalOceançš„è§£å†³æ–¹æ³•</h3><p>å…ˆæ¥è¯´DigitalOceançš„è§£å†³æ–¹æ³•å§</p><h4 id="æ–¹æ¡ˆä¸€-æ¨è">æ–¹æ¡ˆä¸€ï¼ˆæ¨èï¼‰</h4><p>ä¸éœ€è¦åˆ æœåŠ¡å™¨ï¼Œç›´æ¥å»æ·»åŠ ä¸€ä¸ªå…è´¹çš„<strong>æµ®åŠ¨ IP (Reserved IPs)</strong>ï¼ˆæ¯ä¸ªå°é¸¡å¯ä»¥æ·»åŠ ä¸€ä¸ªï¼Œå³æœåŠ¡å™¨åŒæ—¶æœ‰ 2 ä¸ª IPï¼‰ã€‚æ·»åŠ åä½ ä»€ä¹ˆéƒ½ä¸ç”¨å¹²ï¼Œç›´æ¥å°±èƒ½é€šè¿‡è¿™ä¸ª IP é“¾æ¥æœåŠ¡å™¨äº†ã€‚æµ®åŠ¨ IP å¯ä»¥éšæ—¶åˆ é™¤ï¼Œç„¶åé‡æ–°æ·»åŠ ä¸€ä¸ªï¼ˆç­‰äºæ¢äº†ä¸ªæµ®åŠ¨ IPï¼‰ã€‚</p><p><img src="C:/Users/12904/AppData/Roaming/Typora/typora-user-images/image-20250110180758286.png" alt="image-20250110180758286"></p><h4 id="æ–¹æ¡ˆäºŒ">æ–¹æ¡ˆäºŒ</h4><p>å°†æœåŠ¡å™¨å…³æœºï¼Œç„¶åæ·»åŠ  snapshotã€‚å¯¹é‚£ä¸ª snapshot è¿›è¡Œ <strong>add to location</strong> çš„æ“ä½œï¼Œå°±èƒ½é‡æ–°é€‰ location é€‰å¥½å†å¼€æœºï¼Œæ–°çš„ location ä»¥åŠæ–°çš„ IP äº†ï¼Œç„¶åæ—§çš„ droplet å¯ä»¥åˆ äº†</p><h3 id="racknerdçš„è§£å†³æ–¹æ³•">Racknerdçš„è§£å†³æ–¹æ³•</h3><h4 id="æ–¹æ¡ˆä¸€">æ–¹æ¡ˆä¸€</h4><p>Racknerdæ²¡æ³•æ·»åŠ é¢å¤–ipï¼Œæ‰€ä»¥åªèƒ½æ›´æ¢ipï¼›<strong>æ¯å°æœºå™¨æœ‰ä¸€æ¬¡å…è´¹æ›´æ¢ipçš„æœºä¼š</strong>ï¼Œå‘èµ·æ›´æ¢ipçš„è¯·æ±‚åç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†ï¼›</p><p>åç»­æ›´æ¢ipéœ€è¦é’±äº†ï¼Œ3åˆ€ä¸€æ¬¡ï¼›</p><p>å¦‚æœæ›´æ¢åçš„ipè¿˜æ˜¯è¢«å°äº†ï¼Œ<s>é‚£â€¦â€¦ç»§ç»­æ¢</s>ï¼ˆä¸æ˜¯ï¼‰</p><h4 id="æ–¹æ¡ˆäºŒ">æ–¹æ¡ˆäºŒ</h4><p>å¦‚æœèŠ±é’±æ›´æ¢åçš„ipè¿˜æ˜¯è¢«å°äº†ï¼Œæœ€å¥½å°±æ‰¾å®¢æœ</p><p>æè¿°è‡ªå·±çš„é—®é¢˜ï¼šå¤§æ¦‚æ„æ€æ˜¯<strong>åŸipè¢«å°äº†ï¼Œç„¶åèŠ±é’±æ›´æ¢çš„æ–°ipä¹Ÿè¢«å°äº†</strong></p><p>æœ€å¥½é™„å½•ä¸¤å¼ <a href="https://ping.pe/">ping.pe</a>çš„æ£€æµ‹ç»“æœå›¾ï¼ˆè¦æ˜¾ç¤º22ç«¯å£ï¼Œä»¥åŠå…¶å®ƒç«¯å£è¢«å°äº†ï¼‰</p><p>å’Œå®¢æœäº¤æ¶‰åï¼Œå®¢æœåº”è¯¥ä¼šæ‰‹åŠ¨å°†ä½ çš„ipæ¢æˆå…¶å®ƒæ®µçš„ï¼Œæ­¤æ—¶åº”è¯¥å°±èƒ½ç”¨äº†ï¼ˆRacknerdå¤§å–„äººï¼ï¼‰</p><p>å·¥å•ç”³è¯·å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">I am experiencing an issue where the server with IP address <span class="number">142.171</span><span class="number">.225</span><span class="number">.6</span> is completely inaccessible from mainland China. This applies to all ports<span class="punctuation">,</span> not just port <span class="number">22</span> (SSH). I have confirmed the issue by testing from multiple locations in China using different ISPs<span class="punctuation">,</span> such as China Telecom<span class="punctuation">,</span> China Unicom<span class="punctuation">,</span> and China Mobile. All attempts to connect to the server from these networks have failed.</span><br><span class="line"></span><br><span class="line">I have successfully connected to the server from multiple servers<span class="punctuation">,</span> including those in the USA<span class="punctuation">,</span> Canada<span class="punctuation">,</span> Europe<span class="punctuation">,</span> and Asia-Pacific regions<span class="punctuation">,</span> using SSH on port <span class="number">22.</span></span><br><span class="line"></span><br><span class="line">The problem persisted even after I changed the server&#x27;s IP address from <span class="number">142.171</span><span class="number">.50</span><span class="number">.112</span> to <span class="number">142.171</span><span class="number">.225</span><span class="number">.6</span>. Despite the new IP<span class="punctuation">,</span> the server is still inaccessible from China.</span><br><span class="line"></span><br><span class="line">If you require any additional information or logs<span class="punctuation">,</span> please let me know<span class="punctuation">,</span> and I will provide them promptly.</span><br><span class="line"></span><br><span class="line">Thank you for your attention to this matter. I look forward to your response.</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;racknerd-digitalocean-ipè¢«gfwå°äº†&quot;&gt;RackNerd &amp;amp; DigitalOcean IPè¢«GFWå°äº†&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;äº‹æƒ…èµ·å› ï¼šæœ€è¿‘ä¸¤å°ç¾å›½æœåŠ¡å™¨è¢«GFWå°äº†ï¼ˆå…¨ç«¯å£è¢«å°ï¼Œå…¶ipåŸºæœ¬å°±åºŸäº†ï¼‰&lt;/p&gt;
&lt;</summary>
      
    
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/categories/%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/tags/%E6%8A%98%E8%85%BE/"/>
    
  </entry>
  
  <entry>
    <title>Autoladyå®‰è£…ä¸é…ç½®</title>
    <link href="https://blog.lthero.cn/2025/01/04/InstallAutolady/"/>
    <id>https://blog.lthero.cn/2025/01/04/InstallAutolady/</id>
    <published>2025-01-04T08:34:55.000Z</published>
    <updated>2025-01-05T02:20:04.442Z</updated>
    
    <content type="html"><![CDATA[<h1 id="autoladyå®‰è£…ä¸é…ç½®">Autoladyå®‰è£…ä¸é…ç½®</h1><blockquote><p>å‰æ’æé†’ï¼šæ³¨æ„èº«ä½“ï¼Œä»…é™æŠ€æœ¯äº¤æµï¼›</p></blockquote><p>åœ¨ä½ çš„ç³»ç»Ÿä¸­ï¼Œåˆ›å»ºä¸ªç›®å½• <code>autolady</code>ï¼Œå†è¿›å…¥ç›®å½•ååˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ›å»º <code>docker-compose.yml</code>æ–‡ä»¶</p><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> autolady</span><br><span class="line"><span class="built_in">cd</span> autolady</span><br><span class="line">vim docker-compose.yml</span><br></pre></td></tr></table></figure><p>å¤åˆ¶å¹¶ç²˜è´´ä»¥ä¸‹å†…å®¹åˆ° <code>docker-compose.yml</code> æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">auto-lady:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">orekiiiiiiiiiiiii/auto-lady:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">auto-lady</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">bridge</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8043:80&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/mnt/user/appdata/auto-lady:/data</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">bridge:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><ul><li><code>up -d</code> è¡¨ç¤ºä»¥åå°æ¨¡å¼å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆåŠŸï¼Œåº”è¯¥ä¼šçœ‹åˆ°ä¸€ä¸ªåä¸º <code>auto-lady</code> çš„å®¹å™¨æ­£åœ¨è¿è¡Œï¼Œå¹¶ä¸”ç»‘å®šäº† <code>8043:80</code> çš„ç«¯å£</p><h1 id="é…ç½®autolady">é…ç½®Autolady</h1><p>ä½¿ç”¨<code>ip:8043</code>å³å¯è®¿é—®ç½‘é¡µï¼Œé»˜è®¤è´¦å·(admin)ï¼Œä½†å¯†ç éœ€è¦æŸ¥çœ‹è¿è¡Œæ—¥å¿—è·å–</p><p>ä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs -f auto-lady</span><br></pre></td></tr></table></figure><p>ç¤ºæ„å›¾å¦‚ä¸‹</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/QQ_1731994688777.png.webp" alt="é»˜è®¤å¯†ç "></p><blockquote><p>å¦‚æœéœ€è¦é…ç½®nginxåå‘ä»£ç†ä¸httpsï¼Œå‚è€ƒåé¢æ•™ç¨‹</p></blockquote><h2 id="æ­¥éª¤ä¸€-ä¿®æ”¹å¯†ç ">æ­¥éª¤ä¸€ã€ä¿®æ”¹å¯†ç </h2><p>ä¿®æ”¹è´¦å·å¯†ç ï¼Œä¿å­˜ååˆ·æ–°ç½‘é¡µï¼ŒéªŒè¯èƒ½å¦ç™»å½•</p><h2 id="æ­¥éª¤äºŒ-è®¾ç½®ä¸‹è½½å™¨">æ­¥éª¤äºŒã€è®¾ç½®ä¸‹è½½å™¨</h2><p>é¦–å…ˆéœ€è¦å®‰è£…ä¸‹è½½å™¨ï¼Œè¿™é‡Œæœ‰ä¸¤ç§é€‰æ‹©ã€qbittorrentã€transmissionã€‘ï¼Œå…·ä½“å®‰è£…æ–¹å¼åœ¨ä¸‹ä¸€èŠ‚</p><p>å‡è®¾å·²ç»å®‰è£…å¥½äº†ä¸‹è½½å™¨ï¼Œéœ€è¦å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼ˆä»¥qbitä¸ºä¾‹ï¼‰</p><ul><li>qbitåœ°å€ï¼šæ–¹å¼æœ‰äºŒï¼Œ1ã€ç›´æ¥å¡«å†™åŸŸåï¼›2ã€å¡«å†™<code>ip:ç«¯å£</code></li><li>qbitç”¨æˆ·åã€å¯†ç </li><li>qbitä¸‹è½½åœ°å€ï¼šæŒ‡éƒ¨ç½²äº†qbitæœåŠ¡çš„æœåŠ¡å™¨ä¸Šï¼Œæ–‡ä»¶æƒ³è¦ä¿å­˜åˆ°è·¯å¾„ï¼›<ul><li>å¦‚æœåœ¨qbitä¸Šè®¾ç½®è·¯å¾„ä¸º<code>/root/Downloads/</code>ï¼Œè¿™é‡Œå¡«å†™<code>/root/Downloads/</code>å³å¯</li></ul></li><li>qbitä¸‹è½½åˆ†ç±»ï¼šå³<strong>å­ç›®å½•åç§°</strong>ï¼Œå¯ä»¥æ˜¯<code>movies</code>æˆ–å…¶å®ƒ</li></ul><p><strong>éšåè®°å¾—ä¿å­˜</strong></p><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20250104164558500.png" alt="image-20250104164558500"></p><h2 id="æ­¥éª¤ä¸‰-é…ç½®ä»¤ç‰Œ">æ­¥éª¤ä¸‰ã€é…ç½®ä»¤ç‰Œ</h2><p>autoladyéœ€è¦åœ¨<code>é¦’å¤´</code>ã€<code>é£å¤©æ‹‰é¢ç¥æ•™</code>ã€<code>PTT</code>ä¸‰ä¸ªptç½‘ç«™ä¸‹è½½èµ„æºï¼Œæ‰€ä»¥ï¼Œè‡³å°‘è¦æœ‰ä¸€é¡¹ptç«™è®¿é—®æƒé™</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20250104165409590.png" alt="ç«™ç‚¹"></p><p>å…¶ä¸­ï¼Œ<strong>é£å¤©æ‹‰é¢ç¥æ•™</strong>çš„apitokenè·å–æ–¹å¼å¦‚ä¸‹</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20250104165325398.png" alt="image-20250104165325398"></p><p><strong>é£å¤©æ‹‰é¢ç¥æ•™</strong>çš„passkeyè·å–æ–¹å¼å¦‚ä¸‹</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20250104165457504.png" alt="image-20250104165457504"></p><p>è‡³æ­¤å°±é…ç½®å®Œæˆäº†ï¼Œç°åœ¨è¯·ç‚¹å‡»ä¸€ä¸ªè§†é¢‘å¹¶è®¢é˜…ï¼Œ<code>docker logs -f auto-lady</code>å¹¶æŸ¥çœ‹å®æ—¶è¾“å‡ºï¼Œæ£€æµ‹æ˜¯å¦æ‰¾åˆ°äº†ç§å­ï¼Œæ˜¯å¦å¼€å§‹ä¸‹è½½äº†</p><h1 id="ä¸‹è½½å™¨å®‰è£…">ä¸‹è½½å™¨å®‰è£…</h1><p>qBittorrentå’Œtransmissionå®‰è£…ä¸€ä¸ªå³å¯ï¼Œä»åŠŸèƒ½ä¸Šæ¥è¯´ï¼ŒqBittorrentæ›´å…¨</p><h2 id="æ¨è-qbittorrentå®‰è£…ä¸é…ç½®">ï¼ˆæ¨èï¼‰qBittorrentå®‰è£…ä¸é…ç½®</h2><h3 id="å®‰è£…qbittorrent">å®‰è£…qBittorrent</h3><p>ä½¿ç”¨Ubuntuçš„å®˜æ–¹ä»“åº“å®‰è£…qBittorrent</p><p>Ubuntuçš„å®˜æ–¹ä»“åº“é€šå¸¸åŒ…å«qBittorrentçš„ç¨³å®šç‰ˆæœ¬ï¼Œåªéœ€æ‰“å¼€ç»ˆç«¯å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install qbittorrent-nox -y</span><br></pre></td></tr></table></figure><h3 id="å¼€æœºè‡ªå¯qbittorrent">å¼€æœºè‡ªå¯qBittorrent</h3><p>åœ¨<code>/etc/systemd/system/qbittorrent-nox.service</code>æ·»åŠ ä¸‹é¢çš„å†…å®¹ï¼Œä½œä¸ºå¼€æœºè‡ªåŠ¨å¯åŠ¨çš„æœåŠ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=qBittorrent Command Line Client</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=root</span><br><span class="line">ExecStart=/usr/bin/qbittorrent-nox</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartSec=5s</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>éšåæ‰§è¡Œä¸‹é¢ä¸¤æ¡å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># </span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line"><span class="comment"># </span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> qbittorrent-nox.service</span><br></pre></td></tr></table></figure><p>å»ºè®®å…ˆè¿è¡Œä¸€é<code>qbittorrent-nox</code>ï¼Œå°†ç«¯å£è®¾ç½®ä¸º9090ï¼ˆå¯ä»¥ä¸ºå…¶å®ƒçš„ç«¯å£å·ï¼‰ã€å› ä¸ºå®ƒéœ€è¦ä½ è¾“å…¥ä¸€ä¸ªâ€™yâ€™ï¼Œå“â€¦â€¦æ–°ç‰ˆæœ¬çš„è¦æ±‚ã€‘</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo qbittorrent-nox --webui-port=9090</span><br></pre></td></tr></table></figure><p>è¿›å…¥ç½‘é¡µåï¼Œå»ºè®®å°†ç”¨æˆ·åã€å¯†ç ä¿®æ”¹å®Œæˆåï¼Œå†å°†è¿›è¡Œå…³æ‰ï¼Œä½¿ç”¨systemctlæ–¹å¼é‡å¯è¿›ç¨‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœç›´æ¥è¿è¡Œï¼Œå› ä¸ºæ— æ³•è¾“å…¥&#x27;y&#x27;ï¼Œä»è€Œæ— æ³•è¿›å…¥ç½‘é¡µ</span></span><br><span class="line">sudo systemctl start qbittorrent-nox.service</span><br></pre></td></tr></table></figure><p>å…¶å®ƒç›¸å…³å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹çŠ¶æ€</span></span><br><span class="line">sudo systemctl status qbittorrent-nox.service</span><br><span class="line"><span class="comment"># åœæ­¢</span></span><br><span class="line">sudo systemctl stop qbittorrent-nox</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹qbittorrentç«¯å£">ä¿®æ”¹qBittorrentç«¯å£</h3><ol><li><p><strong>åœæ­¢qBittorrent-noxæœåŠ¡</strong>ï¼ˆå¦‚æœæ­£åœ¨è¿è¡Œï¼‰ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop qbittorrent-nox</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æ²¡æœ‰å°†qBittorrent-noxä½œä¸ºæœåŠ¡è¿è¡Œï¼Œè€Œæ˜¯ç›´æ¥åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œä½ å¯ä»¥ç›´æ¥å…³é—­å®ƒã€‚</p></li><li><p><strong>ç¼–è¾‘qBittorrenté…ç½®æ–‡ä»¶</strong>ï¼š qBittorrent-noxçš„é…ç½®æ–‡ä»¶é€šå¸¸ä½äº<code>~/.config/qBittorrent/qBittorrent.conf</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.config/qBittorrent/qBittorrent.conf</span><br></pre></td></tr></table></figure><p>å¦‚æœqBittorrent-noxæ˜¯ä»¥ä¸åŒçš„ç”¨æˆ·è¿è¡Œï¼Œä½ å¯èƒ½éœ€è¦åˆ‡æ¢åˆ°ç›¸åº”ç”¨æˆ·çš„å®¶ç›®å½•ï¼Œæˆ–è€…æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´è·¯å¾„ã€‚</p></li><li><p>åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ°<code>WebUI\Port=8080</code>è¿™ä¸€è¡Œï¼ˆå¦‚æœæ²¡æœ‰è¿™ä¸€è¡Œï¼Œä½ éœ€è¦æ·»åŠ å®ƒï¼‰ï¼Œå°†<code>8080</code>æ›´æ”¹ä¸ºä½ æƒ³è¦çš„ç«¯å£å·ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³å°†ç«¯å£æ”¹ä¸º<code>9090</code>ï¼Œåˆ™ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WebUI\Port=9090</span><br></pre></td></tr></table></figure><p>ä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚</p></li><li><p><strong>é‡æ–°å¯åŠ¨qBittorrent-nox</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start qbittorrent-nox</span><br></pre></td></tr></table></figure></li></ol><h3 id="qbittorrentå¸¸ç”¨å‘½ä»¤">qBittorrentå¸¸ç”¨å‘½ä»¤</h3><p>å¯åŠ¨Qbittorrentï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qbittorrent-nox</span><br></pre></td></tr></table></figure><p>åœ¨åå°å¯åŠ¨Qbittorrentï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qbittorrent-nox -d</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹Qbittorrentç‰ˆæœ¬ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qbittorrent-nox -v</span><br></pre></td></tr></table></figure><p>å¯åŠ¨ Qbittorrent å¹¶æŒ‡å®š Web é¢æ¿çš„ç«¯å£:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qbittorrent-nox --webui-port=xxxx</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹å¸®åŠ©ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qbittorrent-nox -h</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ tracker">æ·»åŠ tracker</h3><p>æ¯å¤©éƒ½åœ¨ç»´æŠ¤çš„trackeré“¾æ¥ï¼š<a href="https://jsd.cdn.zzko.cn/gh/XIU2/TrackersListCollection/best.txt">https://jsd.cdn.zzko.cn/gh/XIU2/TrackersListCollection/best.txt</a></p><blockquote><p>å¦‚æœä½¿ç”¨äº†autoladyï¼Œå…¶å®ä¸ç”¨æ‰‹åŠ¨æ·»åŠ trackeräº†ï¼Œå¦‚æœä½ çš„qbitä¸‹è½½å™¨åœ¨å¦ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œå¯ä»¥æ‰‹åŠ¨æ·»åŠ ptç«™å¯¹åº”çš„trackerï¼ˆè®°å¾—è¦å¸¦idçš„é‚£ç§ï¼‰ï¼Œæœ€å¥½æ˜¯åœ¨ä¸€ä¸ªptç«™ä¸‹è½½å¥½çš„æ–‡ä»¶é‡ŒæŠŠtrackerå¤åˆ¶ä¸‹æ¥ä½¿ç”¨ã€‚</p></blockquote><h1 id="ä¸€é”®é…ç½®https">ä¸€é”®é…ç½®HTTPS</h1><blockquote><p>é¡¹ç›®ï¼š<a href="https://github.com/lthero-big/QcHTTPS">https://github.com/lthero-big/QcHTTPS</a></p></blockquote><p>ä¸€é”®å®‰è£…nginxã€ç”³è¯·è¯ä¹¦ã€é…ç½®https</p><h2 id="åŠŸèƒ½">åŠŸèƒ½</h2><p>è¾“å…¥ä»¥ä¸‹ä¸‰ä¸ªä¿¡æ¯</p><ol><li>åŸŸå</li><li>æœåŠ¡ç«¯å£ï¼ˆdockeræŸä¸ªå®¹å™¨è¿è¡Œçš„ç«¯å£ï¼‰</li><li>ç”³è¯·sslè¯ä¹¦çš„é‚®ç®±</li></ol><h2 id="è„šæœ¬ä¸‹è½½ä¸å®‰è£…">è„šæœ¬ä¸‹è½½ä¸å®‰è£…</h2><h3 id="è„šæœ¬ä¸‹è½½">è„šæœ¬ä¸‹è½½</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/lthero-big/QcHTTPS/refs/heads/main/install_https.sh -O install_https.sh </span><br></pre></td></tr></table></figure><p>è„šæœ¬å°†ä¿å­˜åœ¨æœ¬åœ° <code>install_https.sh</code> ï¼Œæ‚¨å¯ä»¥éšæ—¶æ‰§è¡Œ</p><h3 id="è„šæœ¬æ‰§è¡Œ">è„šæœ¬æ‰§è¡Œ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install_https.sh</span><br></pre></td></tr></table></figure><h1 id="æ‰‹åŠ¨-ä½¿ç”¨httpè®¿é—®">ã€æ‰‹åŠ¨ã€‘ä½¿ç”¨HTTPè®¿é—®</h1><p>è¦å°†è¿è¡Œåœ¨Dockerå®¹å™¨ä¸­çš„æœåŠ¡é€šè¿‡åŸŸåè®¿é—®ï¼Œå¹¶ä½¿ç”¨Nginxä½œä¸ºåå‘ä»£ç†æ¥è½¬å‘åˆ°å®¿ä¸»æœºçš„8043ç«¯å£ï¼Œä½ éœ€è¦å®Œæˆå‡ ä¸ªæ­¥éª¤ã€‚è¿™åŒ…æ‹¬è®¾ç½®DNSè®°å½•ã€é…ç½®Nginxä»¥åŠç¡®ä¿ç½‘ç»œå®‰å…¨ã€‚ä¸‹é¢æ˜¯å…·ä½“æ­¥éª¤ï¼š</p><h2 id="æ­¥éª¤-1-è®¾ç½®dnsè®°å½•">æ­¥éª¤ 1: è®¾ç½®DNSè®°å½•</h2><p>ç¡®ä¿ä½ çš„åŸŸå <code>lady.lthero.top</code> çš„DNSè®°å½•æŒ‡å‘æ‰˜ç®¡Nginxçš„æœåŠ¡å™¨çš„IPåœ°å€ã€‚è¿™é€šå¸¸åœ¨ä½ çš„åŸŸåæ³¨å†Œå•†å¤„è¿›è¡Œè®¾ç½®ï¼š</p><ul><li><strong>Aè®°å½•</strong>ï¼šå°†åŸŸåæŒ‡å‘IPv4åœ°å€ã€‚</li><li><strong>AAAAè®°å½•</strong>ï¼šå°†åŸŸåæŒ‡å‘IPv6åœ°å€ï¼ˆå¦‚æœé€‚ç”¨ï¼‰ã€‚</li></ul><h2 id="æ­¥éª¤-2-å®‰è£…å¹¶å¯åŠ¨nginx">æ­¥éª¤ 2: å®‰è£…å¹¶å¯åŠ¨Nginx</h2><p>æ­¥éª¤ 1: æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨</p><p>æ‰“å¼€ç»ˆç«¯ï¼Œé¦–å…ˆä½¿ç”¨<code>apt</code>å‘½ä»¤æ›´æ–°ä½ çš„åŒ…åˆ—è¡¨ï¼Œä»¥ç¡®ä¿ä½ å®‰è£…çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„Nginxã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><p>æ­¥éª¤ 2: å®‰è£…Nginx</p><p>ä½¿ç”¨<code>apt</code>å®‰è£…Nginxã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install nginx</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-3-é…ç½®nginx">æ­¥éª¤ 3: é…ç½®Nginx</h2><p>ä½ éœ€è¦åœ¨Nginxä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æœåŠ¡å™¨å—ï¼ˆserver blockï¼‰ï¼Œæˆ–è€…åœ¨å·²æœ‰çš„é»˜è®¤é…ç½®ä¸­ä¿®æ”¹ï¼Œä»¥è®¾ç½®åå‘ä»£ç†ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºæœ¬çš„Nginxé…ç½®ç¤ºä¾‹ï¼Œå°†ä¼šæŠŠæ‰€æœ‰åˆ° <code>lady.lthero.top</code> çš„è¯·æ±‚è½¬å‘åˆ°æœ¬åœ°çš„8043ç«¯å£ï¼š</p><ol><li><p>æ‰“å¼€æˆ–åˆ›å»ºä¸€ä¸ªæ–°çš„Nginxé…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/nginx/sites-available/lady.lthero.top</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> lady.lthero.top;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:8043;</span><br><span class="line">        <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="string">&#x27;upgrade&#x27;</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_cache_bypass</span> <span class="variable">$http_upgrade</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé…ç½®åšäº†ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><code>listen 80;</code> å‘Šè¯‰Nginxç›‘å¬80ç«¯å£ï¼ˆHTTPæ ‡å‡†ç«¯å£ï¼‰ã€‚</li><li><code>server_name lady.lthero.top;</code> è®¾ç½®è¿™ä¸ªå—åº”å½“å“åº”çš„åŸŸåã€‚</li><li><code>proxy_pass http://localhost:8043;</code> æŒ‡å®šæ‰€æœ‰ä¼ å…¥çš„è¯·æ±‚è½¬å‘åˆ°æœ¬åœ°çš„8043ç«¯å£ã€‚</li><li><code>proxy_set_header</code> æŒ‡ä»¤å°†é‡è¦çš„HTTPå¤´ä¿¡æ¯è½¬å‘ç»™åç«¯åº”ç”¨ã€‚</li></ul></li><li><p>å¯ç”¨é…ç½®æ–‡ä»¶é€šè¿‡åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥(ä¸€å®šè¦åš)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /etc/nginx/sites-available/lady.lthero.top /etc/nginx/sites-enabled/</span><br></pre></td></tr></table></figure></li><li><p>æ£€æŸ¥Nginxé…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -t</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œé‡å¯Nginxä»¥åº”ç”¨é…ç½®(ä¸€å®šè¦åš)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart nginx</span><br></pre></td></tr></table></figure></li></ol><h2 id="æ­¥éª¤-4-è°ƒæ•´é˜²ç«å¢™è§„åˆ™">æ­¥éª¤ 4: è°ƒæ•´é˜²ç«å¢™è§„åˆ™</h2><p>ç¡®ä¿ä½ çš„æœåŠ¡å™¨çš„é˜²ç«å¢™è§„åˆ™å…è®¸HTTPï¼ˆç«¯å£80ï¼‰å’ŒHTTPSï¼ˆç«¯å£443ï¼Œå¦‚æœä½ ä½¿ç”¨SSLï¼‰çš„æµé‡ã€‚å¦‚æœä½ æ­£åœ¨ä½¿ç”¨<code>ufw</code>ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow <span class="string">&#x27;Nginx Full&#x27;</span></span><br><span class="line">sudo ufw reload</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-5-æµ‹è¯•é…ç½®">æ­¥éª¤ 5: æµ‹è¯•é…ç½®</h2><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>http://lady.lthero.top</code> æˆ–ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·å¦‚ <code>curl</code> æ¥æµ‹è¯•ä½ çš„é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://lady.lthero.top</span><br></pre></td></tr></table></figure><p>ä½ åº”è¯¥èƒ½çœ‹åˆ°ä»Dockerå®¹å™¨ä¸­è¿è¡Œçš„æœåŠ¡å“åº”çš„å†…å®¹ã€‚</p><p>è¿™æ ·ï¼Œä½ å°±é…ç½®å¥½äº†Nginxä½œä¸ºåå‘ä»£ç†ï¼Œå°†åŸŸå <code>lady.lthero.top</code> çš„æµé‡è½¬å‘åˆ°å®¿ä¸»æœºçš„8043ç«¯å£ä¸Šçš„æœåŠ¡ã€‚å¦‚æœä½ å¸Œæœ›ä½¿ç”¨HTTPSï¼Œä½ è¿˜éœ€è¦è®¾ç½®SSLè¯ä¹¦ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨Letâ€™s Encryptå…è´¹è¯ä¹¦å¹¶é…ç½®HTTPSã€‚</p><h1 id="æ‰‹åŠ¨-ä½¿ç”¨httpsè®¿é—®">ã€æ‰‹åŠ¨ã€‘ä½¿ç”¨HTTPSè®¿é—®</h1><p>è¦è®©ä½ çš„åŸŸå <code>lady.lthero.top</code> ä½¿ç”¨ HTTPSï¼Œä½ éœ€è¦è·å– SSL/TLS è¯ä¹¦ï¼Œå¹¶é…ç½® Nginx ä»¥ä½¿ç”¨è¿™äº›è¯ä¹¦æ¥åŠ å¯†ç½‘é¡µå†…å®¹ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æ­¥éª¤ï¼ŒåŒ…æ‹¬å¦‚ä½•ä½¿ç”¨ Letâ€™s Encrypt æä¾›çš„å…è´¹è¯ä¹¦è‡ªåŠ¨åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚</p><h2 id="æ­¥éª¤-1-å®‰è£…-certbot">æ­¥éª¤ 1: å®‰è£… Certbot</h2><p>Certbot æ˜¯ä¸€ä¸ªè‡ªåŠ¨è·å–å¹¶å®‰è£… Letâ€™s Encrypt è¯ä¹¦çš„å®¢æˆ·ç«¯ã€‚åœ¨ Ubuntu ä¸Šå®‰è£… Certbot åŠå…¶ Nginx æ’ä»¶éå¸¸ç®€å•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install certbot python3-certbot-nginx</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-2-è·å–å’Œå®‰è£…è¯ä¹¦">æ­¥éª¤ 2: è·å–å’Œå®‰è£…è¯ä¹¦</h2><p>ä½¿ç”¨ Certbot è·å–å¹¶ä¸ºä½ çš„åŸŸåå®‰è£…è¯ä¹¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot --nginx -d lady.lthero.top</span><br></pre></td></tr></table></figure><p>æ­¤å‘½ä»¤ä¼šè‡ªåŠ¨ä¸ºæŒ‡å®šçš„åŸŸå <code>lady.lthero.top</code> é…ç½® SSL è¯ä¹¦ï¼Œå¹¶æ›´æ–° Nginx é…ç½®ä»¥ä½¿ç”¨è¿™äº›è¯ä¹¦ã€‚Certbot ä¼šè¯¢é—®ä½ ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ç”µå­é‚®ä»¶åœ°å€ï¼ˆç”¨äºç´§æ€¥è”ç³»å’Œè¯ä¹¦ç»­è®¢æé†’ï¼‰ï¼Œä»¥åŠæ˜¯å¦é‡å®šå‘æ‰€æœ‰ HTTP è¯·æ±‚åˆ° HTTPSï¼ˆå¼ºçƒˆå»ºè®®å¯ç”¨ï¼‰ã€‚</p><p>ç”Ÿæˆçš„è¯ä¹¦ä½ç½®<code>/etc/letsencrypt/live/</code></p><h2 id="æ­¥éª¤-3-æ›´æ–°-nginx-é…ç½®">æ­¥éª¤ 3: æ›´æ–° Nginx é…ç½®</h2><p>å¦‚æœä½ æƒ³æ‰‹åŠ¨ç¼–è¾‘ Nginx é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼é…ç½®ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/nginx/sites-available/lady.lthero.top</span><br></pre></td></tr></table></figure><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> lady.lthero.top;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;  <span class="comment"># å¼ºåˆ¶é‡å®šå‘æ‰€æœ‰ HTTP è¯·æ±‚åˆ° HTTPS</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> lady.lthero.top;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/lady.lthero.top/fullchain.pem;  <span class="comment"># è¯ä¹¦æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/lady.lthero.top/privkey.pem;  <span class="comment"># ç§é’¥æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_session_timeout</span> <span class="number">1d</span>;</span><br><span class="line">    <span class="attribute">ssl_session_cache</span> shared:MozSSL:<span class="number">10m</span>;  <span class="comment"># ç¼“å­˜ SSL ä¼šè¯ä»¥æå‡æ€§èƒ½</span></span><br><span class="line">    <span class="attribute">ssl_session_tickets</span> <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç°ä»£åŠ å¯†å¥—ä»¶é…ç½®</span></span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">ssl_ciphers</span> <span class="string">&#x27;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384&#x27;</span>;</span><br><span class="line">    <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…¶ä»– SSL ä¼˜åŒ–è®¾ç½®</span></span><br><span class="line">    <span class="attribute">ssl_stapling</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">ssl_stapling_verify</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…è®¸æœ€å¤§è¯·æ±‚ä½“å¤§å°ä¸º 1000MB</span></span><br><span class="line">    <span class="attribute">client_max_body_size</span> <span class="number">1000m</span>;  </span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:8043;</span><br><span class="line">        <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="string">&#x27;upgrade&#x27;</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_cache_bypass</span> <span class="variable">$http_upgrade</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé…ç½®ä¸ä»…å¯ç”¨äº† HTTPSï¼Œè¿˜åŒ…æ‹¬äº†ä¸€äº›ç°ä»£çš„å®‰å…¨å®è·µï¼Œå¦‚å¯ç”¨ HTTP/2ï¼Œé…ç½®åŠ å¯†å¥—ä»¶å’Œåè®®ç­‰ã€‚</p><h2 id="æ­¥éª¤-4-é‡æ–°åŠ è½½-nginx">æ­¥éª¤ 4: é‡æ–°åŠ è½½ Nginx</h2><p>å¯ç”¨é…ç½®æ–‡ä»¶é€šè¿‡åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /etc/nginx/sites-available/lady.lthero.top /etc/nginx/sites-enabled/</span><br></pre></td></tr></table></figure><p>æ›´æ”¹é…ç½®åï¼Œéœ€è¦é‡æ–°åŠ è½½ Nginx ä»¥åº”ç”¨æ–°çš„é…ç½®ï¼š</p><blockquote><p>æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œå¦‚æœæœ‰warn!ç›´æ¥çœ‹â€œé‡åˆ°çš„é—®é¢˜â€éƒ¨åˆ†ï¼Œé‡æ–°åŠ è½½é…ç½®æ˜¯ä¸ä¸€å®šèƒ½workçš„</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯</span></span><br><span class="line">sudo nginx -t  </span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½é…ç½®</span></span><br><span class="line">sudo systemctl reload nginx  </span><br><span class="line"><span class="comment"># å¦‚æœé‡æ–°åŠ è½½é…ç½®åæ— æ•ˆï¼Œå¯ä»¥å°è¯•é‡å¯nginx</span></span><br><span class="line">sudo systemctl restart nginx</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-5-éªŒè¯-https">æ­¥éª¤ 5: éªŒè¯ HTTPS</h2><p>åœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>https://lady.lthero.top</code> æ¥æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸã€‚ä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°ä¸€ä¸ªå®‰å…¨é”æ ‡å¿—ï¼Œè¡¨æ˜è¿æ¥æ˜¯é€šè¿‡ HTTPS åŠ å¯†çš„ã€‚</p><h2 id="æ­¥éª¤-6-è‡ªåŠ¨ç»­è®¢è¯ä¹¦">æ­¥éª¤ 6: è‡ªåŠ¨ç»­è®¢è¯ä¹¦</h2><p>Letâ€™s Encrypt çš„è¯ä¹¦æœ‰æ•ˆæœŸä¸º90å¤©ï¼Œå› æ­¤å»ºè®®è®¾ç½®è‡ªåŠ¨ç»­è®¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot renew</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤ä¼šæµ‹è¯•è¯ä¹¦ç»­è®¢è¿‡ç¨‹ã€‚å¦‚æœè¿™ä¸ªæµ‹è¯•æˆåŠŸï¼Œæ·»åŠ å®šæ—¶ä»»åŠ¡<code>crontab</code>ï¼š</p><p><code>crontab -e</code>å†å¡«å†™ä¸‹é¢å†…å®¹ï¼Œè¡¨ç¤ºæ¯æœˆç¬¬ä¸€å¤©ä¼šè‡ªåŠ¨æ‰§è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0 1 * * /usr/local/bin/certbot renew --manual --preferred-challenges dns --manual-auth-hook <span class="string">&quot;alidns&quot;</span> --manual-cleanup-hook <span class="string">&quot;alidns clean&quot;</span> --deploy-hook <span class="string">&quot;nginx -s reload&quot;</span></span><br></pre></td></tr></table></figure><p>ç»­ç­¾çš„è¯ä¹¦ä½ç½®<code>/etc/letsencrypt/renewal</code></p><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ çš„ç«™ç‚¹ <code>lady.lthero.top</code> ç°åœ¨åº”è¯¥èƒ½å¤Ÿå®‰å…¨åœ°ä½¿ç”¨ HTTPS è¿›è¡Œé€šä¿¡äº†ã€‚</p><p>å¦‚æœè¦æ¢ç¼–è¾‘å™¨ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select-editor</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;autoladyå®‰è£…ä¸é…ç½®&quot;&gt;Autoladyå®‰è£…ä¸é…ç½®&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;å‰æ’æé†’ï¼šæ³¨æ„èº«ä½“ï¼Œä»…é™æŠ€æœ¯äº¤æµï¼›&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨ä½ çš„ç³»ç»Ÿä¸­ï¼Œåˆ›å»ºä¸ªç›®å½• &lt;code&gt;autolady&lt;/code&gt;ï¼Œå†è¿›å…¥ç›®å½•ååˆ›å»º</summary>
      
    
    
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/tags/%E6%8A%98%E8%85%BE/"/>
    
  </entry>
  
  <entry>
    <title>æ—¥å¸¸å¼€å‘ä¸­ç”¨åˆ°çš„ä¸€äº›ä»£ç†é…ç½®æ–¹å¼</title>
    <link href="https://blog.lthero.cn/2025/01/03/UseProxyInWindows/"/>
    <id>https://blog.lthero.cn/2025/01/03/UseProxyInWindows/</id>
    <published>2025-01-03T08:56:55.000Z</published>
    <updated>2025-01-03T08:58:20.270Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ—¥å¸¸å¼€å‘ä¸­ç”¨åˆ°çš„ä¸€äº›ä»£ç†é…ç½®æ–¹å¼">æ—¥å¸¸å¼€å‘ä¸­ç”¨åˆ°çš„ä¸€äº›ä»£ç†é…ç½®æ–¹å¼</h1><blockquote><p>åŸæ–‡ï¼š<a href="https://keqingrong.cn/blog/2021-02-19-proxy-and-pac/">https://keqingrong.cn/blog/2021-02-19-proxy-and-pac/</a></p></blockquote><p>æœ¬æ–‡ä»‹ç»äº†å†…ç½‘å¼€å‘ä¼šç”¨åˆ°çš„ä¸€äº›ä»£ç†é…ç½®æ–¹å¼ï¼Œä»£ç†æœåŠ¡å™¨çš„åŸŸåã€IP åœ°å€å’Œç«¯å£å‡è®¾ä¸º <code>proxy.example.com</code>ã€<code>127.0.0.1</code>ã€<code>8080</code>ã€‚</p><h2 id="å¦‚ä½•éªŒè¯-http-ä»£ç†æ˜¯å¦è®¾ç½®æˆåŠŸ">å¦‚ä½•éªŒè¯ HTTP ä»£ç†æ˜¯å¦è®¾ç½®æˆåŠŸ</h2><p>é¦–å…ˆæ— æ³•ä½¿ç”¨ <code>ping</code> å‘½ä»¤ï¼Œå› ä¸º <code>ping</code> ä½¿ç”¨çš„æ˜¯ ICMP åè®®ï¼Œä¸æ˜¯ HTTP åè®®ã€‚</p><p>ç±» Unix ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ <code>curl</code> æµ‹è¯•æ˜¯å¦å¯ä»¥è®¿é—®å¤–ç½‘ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl https://www.baidu.com</span><br></pre></td></tr></table></figure><p>Windows å¯ä»¥ä½¿ç”¨ <code>Invoke-WebRequest</code> cmdlet å‘½ä»¤ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">Invoke-WebRequest</span> <span class="literal">-Uri</span> https://www.baidu.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ä»¥é€šè¿‡ Get-Help æŸ¥çœ‹ Invoke-WebRequest å‘½ä»¤çš„å¸®åŠ©è¯´æ˜</span></span><br><span class="line">&gt; <span class="built_in">Get-Help</span> <span class="built_in">Invoke-WebRequest</span></span><br></pre></td></tr></table></figure><h2 id="åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ä»£ç†">åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ä»£ç†</h2><blockquote><p>ä»£ç†ç›¸å…³çš„ç¯å¢ƒå˜é‡ï¼Œç†è®ºä¸Šä¸åŒºåˆ†å¤§å°å†™ï¼Œ<code>https_proxy</code> æˆ– <code>HTTPS_PROXY</code> éƒ½å¯ä»¥ç”Ÿæ•ˆï¼Œå…·ä½“å–å†³äºç¨‹åºå®ç°ã€‚ å¦‚æœå¸Œæœ›é…ç½®å¤šä¸ªä¸‰çº§åŸŸåä¸èµ°ä»£ç†ï¼Œæ¯”å¦‚ <code>a.example.com</code> / <code>b.example.com</code> / <code>c.example.com</code>ï¼Œé™¤äº†å°†å®ƒä»¬å…¨éƒ¨åŠ å…¥ <code>no_proxy</code>ï¼Œè¿˜å¯ä»¥ç®€åŒ–æˆäºŒçº§åŸŸå <code>example.com</code>ï¼ˆä¸æ”¯æŒ <code>*.example.com</code> å†™æ³•ï¼‰ï¼Œæ›´å¤šç»†èŠ‚å‚è€ƒ <a href="https://about.gitlab.com/blog/2021/01/27/we-need-to-talk-no-proxy/">We need to talk: Can we standardize NO_PROXY?</a>ã€‚</p></blockquote><h3 id="sh-compatible-shell-é€‚ç”¨äº-macos-linux-wsl-git-bash">sh-compatible Shellï¼ˆé€‚ç”¨äº macOS/Linux/WSL/Git Bashï¼‰</h3><p>è®¾ç½®ä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> http_proxy=http://proxy.example.com:8080</span><br><span class="line"><span class="built_in">export</span> https_proxy=http://proxy.example.com:8080</span><br><span class="line"><span class="built_in">export</span> all_proxy=http://proxy.example.com:8080</span><br><span class="line"><span class="built_in">export</span> no_proxy=localhost,127.0.0.1,example.com</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœå¸Œæœ›é…ç½®æŒç»­ç”Ÿæ•ˆï¼Œå¯ä»¥å†™å…¥åˆ° <code>.bashrc</code>/<code>.zshrc</code> ç­‰æ–‡ä»¶ä¸­ã€‚</p></blockquote><p>é™¤äº†ä½¿ç”¨ <code>proxy.example.com</code> åŸŸåï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¯¹åº” IP åœ°å€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> http_proxy=http://127.0.0.1:8080</span><br><span class="line"><span class="built_in">export</span> https_proxy=http://127.0.0.1:8080</span><br><span class="line"><span class="built_in">export</span> all_proxy=http://127.0.0.1:8080</span><br></pre></td></tr></table></figure><p>å–æ¶ˆä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> http_proxy</span><br><span class="line"><span class="built_in">unset</span> https_proxy</span><br><span class="line"><span class="built_in">unset</span> all_proxy</span><br><span class="line"><span class="built_in">unset</span> no_proxy</span><br></pre></td></tr></table></figure><h3 id="windows-powershell">Windows PowerShell</h3><p>è®¾ç½®ä»£ç†ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$env:http_proxy</span>=<span class="string">&quot;http://proxy.example.com:8080&quot;</span></span><br><span class="line"><span class="variable">$env:https_proxy</span>=<span class="string">&quot;http://proxy.example.com:8080&quot;</span></span><br><span class="line"><span class="variable">$env:no_proxy</span>=<span class="string">&quot;localhost,127.0.0.1,example.com&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœå¸Œæœ›é…ç½®æŒç»­ç”Ÿæ•ˆï¼Œå¯ä»¥å°†ç¯å¢ƒå˜é‡åŠ å…¥åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ã€‚</p></blockquote><p>å–æ¶ˆä»£ç†ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$env:http_proxy</span>=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="variable">$env:https_proxy</span>=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="variable">$env:no_proxy</span>=<span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><h3 id="windows-å‘½ä»¤æç¤ºç¬¦-cmd">Windows å‘½ä»¤æç¤ºç¬¦ï¼ˆcmdï¼‰</h3><p>è®¾ç½®ä»£ç†ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set http_proxy=http://proxy.example.com:8080</span><br><span class="line">set https_proxy=http://proxy.example.com:8080</span><br><span class="line">set no_proxy=localhost,127.0.0.1,example.com</span><br></pre></td></tr></table></figure><p>å–æ¶ˆä»£ç†ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set http_proxy=</span><br><span class="line">set https_proxy=</span><br><span class="line">set no_proxy=</span><br></pre></td></tr></table></figure><h3 id="git">git</h3><p>è®¾ç½®ä»£ç†ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy <span class="string">&#x27;socks5://127.0.0.1:8960&#x27;</span></span><br><span class="line">git config --global https.proxy <span class="string">&#x27;socks5://127.0.0.1:8960&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="npm-ä»£ç†é…ç½®">npm ä»£ç†é…ç½®</h2><p>è®¾ç½®ä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> proxy http://proxy.example.com:8080</span><br><span class="line">npm config <span class="built_in">set</span> https-proxy http://proxy.example.com:8080</span><br></pre></td></tr></table></figure><p>è®¾ç½®æˆåŠŸå <code>.npmrc</code> ä¼šæ–°å¢ä¸¤æ¡é…ç½®ï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">proxy</span>=http://proxy.example.com:<span class="number">8080</span></span><br><span class="line"><span class="attr">https-proxy</span>=http://proxy.example.com:<span class="number">8080</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œå…¬å¸å†…éƒ¨éƒ¨ç½²äº† npm ç§æœï¼Œåœ°å€å½¢å¦‚ <code>registry.npm.example.com</code>ï¼Œä»…å†…ç½‘èƒ½è®¿é—®ï¼Œå®‰è£…ã€å‘å¸ƒç§æœ‰åŒ…ä¸åº”è¯¥èµ°ä»£ç†ï¼Œå› æ­¤éœ€è¦åŠ ä¸Š <code>noproxy</code> é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> noproxy registry.npm.example.com</span><br></pre></td></tr></table></figure><p>ç›¸åº”åœ°ï¼Œ<code>.npmrc</code> çš„ä»£ç†é…ç½®æœ€ç»ˆå˜æˆï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">proxy</span>=http://proxy.example.com:<span class="number">8080</span></span><br><span class="line"><span class="attr">https-proxy</span>=http://proxy.example.com:<span class="number">8080</span></span><br><span class="line"><span class="attr">noproxy</span>=localhost,registry.npm.example.com</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¾¿å¯ä»¥åŒæ—¶ä½¿ç”¨å¤–ç½‘çš„ npm å®˜æ–¹æº/æ·˜å®æºå’Œå†…ç½‘çš„ npm ç§æœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®ä¸º npm å®˜æ–¹æº</span></span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmjs.org/</span><br><span class="line"><span class="comment"># æˆ–è€…è®¾ç½®ä¸ºæ·˜å®æº</span></span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org/</span><br><span class="line"></span><br><span class="line"><span class="comment"># `@example` ä¸‹çš„ç§æœ‰åŒ…å§‹ç»ˆä½¿ç”¨å†…ç½‘ npm æº</span></span><br><span class="line">npm config <span class="built_in">set</span> @example:registry http://registry.npm.example.com/</span><br></pre></td></tr></table></figure><p>å†æ¬¡æ¨èç§æœ‰åŒ…å‘½åä¸º <code>@scope/name</code> å½¢å¼ï¼Œå‚è§ä¹‹å‰çš„æ–‡ç«  <a href="https://keqingrong.cn/blog/2019-04-08-npm-issues/">npm ç§æœ‰åŒ…</a>ã€‚</p><p>å–æ¶ˆä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config delete proxy</span><br><span class="line">npm config delete https-proxy</span><br></pre></td></tr></table></figure><h2 id="yarn-1-x-ä»£ç†é…ç½®">Yarn 1.x ä»£ç†é…ç½®</h2><p>è®¾ç½®ä»£ç†ï¼Œå’Œ npm ç±»ä¼¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">yarn config <span class="built_in">set</span> proxy http://proxy.example.com:8080</span><br><span class="line">yarn config <span class="built_in">set</span> https-proxy http://proxy.example.com:8080</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœ SSL æŠ¥é”™ï¼Œå¯ä»¥ç¦ç”¨æ ¡éªŒ</span></span><br><span class="line">yarn config <span class="built_in">set</span> strict-ssl <span class="literal">false</span></span><br><span class="line"><span class="comment"># è®¾ç½®æ·˜å®æº</span></span><br><span class="line">yarn config <span class="built_in">set</span> registry https://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure><p>å–æ¶ˆä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn config <span class="built_in">unset</span> proxy</span><br><span class="line">yarn config <span class="built_in">unset</span> https-proxy</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šYarn æ²¡æœ‰å®ç° <code>noproxy</code>ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ <code>yarn config set noproxy registry.npm.example.com</code>ï¼Œå…¶å†…éƒ¨ä½¿ç”¨çš„è¯·æ±‚åº“ <a href="https://github.com/request/request/blob/master/lib/getProxyFromURI.js">request</a> åªæ”¯æŒä»ç¯å¢ƒå˜é‡ <code>process.env.no_proxy</code> è·å–ä¸èµ°ä»£ç†çš„ URL é…ç½®ï¼Œå¹¶ä¸”å¦‚æœå·²ç»è®¾ç½®äº† npm æˆ–è€… Yarn çš„ <code>proxy</code> é…ç½®é¡¹ï¼ˆYarn ä¼šé»˜è®¤è¯»å– npm é…ç½®ï¼‰ï¼Œ<code>process.env.no_proxy</code> ä¼šè¢«å¿½ç•¥ã€‚å› æ­¤åœ¨ä»£ç†é…ç½®æ—¶ï¼Œå¦‚æœéœ€è¦æ’é™¤æŸäº›åœ°å€ï¼Œå¿…é¡»åˆ é™¤ npm æˆ–è€… Yarn çš„ä»£ç†é…ç½®ï¼Œæ”¹ä¸ºä½¿ç”¨å‘½ä»¤è¡Œç¯å¢ƒå˜é‡ã€‚</p><ul><li>é—®é¢˜è¿½è¸ª <a href="https://github.com/yarnpkg/yarn/issues/5048">Yarn ignores no_proxy environment variable when proxy property set #5048</a></li><li>ç›¸å…³ PR <a href="https://github.com/yarnpkg/yarn/pull/5757">feat(request): add noProxy setting for configuration (#5048) #5757</a></li></ul><h2 id="yarn-2-berry-ä»£ç†é…ç½®">Yarn 2 Berry ä»£ç†é…ç½®</h2><p>è®¾ç½®ä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn config <span class="built_in">set</span> httpProxy http://proxy.example.com:8080</span><br><span class="line">yarn config <span class="built_in">set</span> httpsProxy http://proxy.example.com:8080</span><br></pre></td></tr></table></figure><p>è®¾ç½® npm registry æºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn config <span class="built_in">set</span> npmRegistryServer https://registry.npm.taobao.org/</span><br><span class="line">yarn config <span class="built_in">set</span> npmScopes.example.npmRegistryServer http://registry.npm.example.com/</span><br><span class="line">yarn config <span class="built_in">set</span> npmScopes.local.npmRegistryServer http://registry.npm.example.com/</span><br></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨äº† HTTP è€Œé HTTPS çš„æºï¼Œä¼šæŠ¥ <strong>Unsafe http requests must be explicitly whitelisted in your configuration</strong> é”™è¯¯ï¼Œå¯ä»¥å°†åœ°å€åŠ å…¥ç™½åå•ï¼š</p><p>macOS/Linuxï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn config <span class="built_in">set</span> unsafeHttpWhitelist --json <span class="string">&#x27;[&quot;*.example.com&quot;, &quot;example.com&quot;]&#x27;</span></span><br></pre></td></tr></table></figure><p>åœ¨ Windows å‘½ä»¤è¡Œä¸­è¾“å…¥ JSON å‚æ•°æœ‰æ‰€ä¸åŒï¼Œéœ€è¦å¯¹åŒå¼•å·è¿›è¡Œè½¬ä¹‰ï¼š</p><p>Windows PowerShellï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yarn config <span class="built_in">set</span> unsafeHttpWhitelist <span class="literal">--json</span> <span class="string">&#x27;[\&quot;*.example.com\&quot;, \&quot;example.com\&quot;]&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä¸åŒ…å«ç©ºæ ¼ï¼Œå¤–å±‚çš„å•å¼•å·å¯ä»¥çœç•¥</span></span><br><span class="line">yarn config <span class="built_in">set</span> unsafeHttpWhitelist <span class="literal">--json</span> [\<span class="string">&quot;*.example.com\&quot;</span>]</span><br><span class="line">yarn config <span class="built_in">set</span> unsafeHttpWhitelist <span class="literal">--json</span> [\<span class="string">&quot;*.example.com\&quot;</span>,\<span class="string">&quot;example.com\&quot;</span>]</span><br></pre></td></tr></table></figure><p>Windows å‘½ä»¤æç¤ºç¬¦ï¼ˆcmdï¼‰ï¼Œå­—ç¬¦ä¸²åªæ”¯æŒåŒå¼•å·ä¸æ”¯æŒå•å¼•å·ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn config set unsafeHttpWhitelist --json &quot;[\&quot;*.example.com\&quot;, \&quot;example.com\&quot;]&quot;</span><br></pre></td></tr></table></figure><h2 id="git-ä»£ç†é…ç½®">Git ä»£ç†é…ç½®</h2><p>Git ä»“åº“é€šå¸¸æ”¯æŒå¤šä¸ªåè®®ï¼š</p><ul><li><code>http://</code> å¯¹åº” <code>http.proxy</code></li><li><code>https://</code> å¯¹åº” <code>https.proxy</code></li><li><code>git://</code> å¯¹åº” <code>core.gitproxy</code></li></ul><p>å¦‚æœé€šè¿‡ SSH çš„æ–¹å¼è®¿é—® Git ä»“åº“ï¼Œåˆ™ç›´æ¥ä¿®æ”¹ SSH é…ç½®ã€‚</p><p>è®¾ç½®å…¨å±€ä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy http://proxy.example.com:8080</span><br><span class="line">git config --global https.proxy http://proxy.example.com:8080</span><br><span class="line">git config --global core.gitproxy &lt;è‡ªè¡Œå‚è€ƒ git æ–‡æ¡£&gt;</span><br></pre></td></tr></table></figure><p>å–æ¶ˆå…¨å±€ä»£ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> core.gitproxy</span><br></pre></td></tr></table></figure><p>å¦‚æœåªæ˜¯å¸Œæœ›æŸä¸ªé¡¹ç›®è®¾ç½®ä»£ç†ï¼Œçœç•¥ <code>--global</code> å‚æ•°å³å¯ã€‚</p><h2 id="gradle-ä»£ç†é…ç½®">Gradle ä»£ç†é…ç½®</h2><p>åœ¨ <code>gradle.properties</code> ä¸­è®¾ç½®ä»£ç†ï¼ˆå¯ä»¥æ˜¯é¡¹ç›®ä¸­çš„ <code>gradle.properties</code> æˆ–è€…ç”¨æˆ· HOME ç›®å½•çš„ <code>.gradle/gradle.properties</code>ï¼‰ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">systemProp.http.proxyHost</span>=<span class="string">proxy.example.com</span></span><br><span class="line"><span class="attr">systemProp.http.proxyPort</span>=<span class="string">8080</span></span><br><span class="line"><span class="attr">systemProp.http.nonProxyHosts</span>=<span class="string">localhost|127.0.0.1|10.*|*.example.com</span></span><br><span class="line"></span><br><span class="line"><span class="attr">systemProp.https.proxyHost</span>=<span class="string">proxy.example.com</span></span><br><span class="line"><span class="attr">systemProp.https.proxyPort</span>=<span class="string">8080</span></span><br><span class="line"><span class="attr">systemProp.https.nonProxyHosts</span>=<span class="string">localhost|127.0.0.1|10.*|*.example.com</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†åŠ é€Ÿä¾èµ–ä¸‹è½½ï¼Œå¯èƒ½è¿˜éœ€è¦è®¾ç½®é•œåƒæºï¼š</p><p>åœ¨ç”¨æˆ· HOME ç›®å½•çš„ <code>.gradle</code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»º <code>init.gradle</code> æ–‡ä»¶ï¼Œå³ <code>~/.gradle/init.gradle</code>ï¼ˆWindows ç¯å¢ƒä¸‹ä¸º <code>%USERPROFILE%\.gradle\init.gradle</code>ï¼‰ã€‚</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        maven &#123;</span><br><span class="line">            url <span class="string">&#x27;http://maven.example.com/content/groups/public&#x27;</span></span><br><span class="line">            content &#123;</span><br><span class="line">                includeGroup <span class="string">&quot;com.example&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/public&#x27;</span> &#125;</span><br><span class="line">        maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/jcenter&#x27;</span> &#125;</span><br><span class="line">        maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/google&#x27;</span> &#125;</span><br><span class="line">        mavenLocal()</span><br><span class="line">        mavenCentral()</span><br><span class="line">        jcenter()</span><br><span class="line">        google()</span><br><span class="line">        maven &#123; url <span class="string">&#x27;https://www.jitpack.io&#x27;</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å»ºè®®ä¿®æ”¹å…¨å±€çš„ Gradle é…ç½®ï¼Œå¦‚æœä¿®æ”¹é¡¹ç›®ä¸­çš„é…ç½®ä¸ä¸€å®šç”Ÿæ•ˆï¼Œæ¯”å¦‚ï¼š</p><ul><li><code>&lt;React Native project&gt;/android/build.gradle</code></li><li><code>&lt;React Native project&gt;/node_modules/react-native-screens/android/build.gradle</code></li><li><code>&lt;React Native project&gt;/node_modules/react-native-safe-area-context/android/build.gradle</code></li></ul><h2 id="maven-ä»£ç†é…ç½®">Maven ä»£ç†é…ç½®</h2><p>åœ¨ <code>settings.xml</code> ä¸­è®¾ç½®ä»£ç†ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">proxies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">proxy</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>http-proxy<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">active</span>&gt;</span>true<span class="tag">&lt;/<span class="name">active</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">protocol</span>&gt;</span>http<span class="tag">&lt;/<span class="name">protocol</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">host</span>&gt;</span>proxy.example.com<span class="tag">&lt;/<span class="name">host</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">port</span>&gt;</span>8080<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">nonProxyHosts</span>&gt;</span>localhost|127.0.0.1|10.*|*.example.com<span class="tag">&lt;/<span class="name">nonProxyHosts</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">proxy</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">proxy</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>https-proxy<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">active</span>&gt;</span>true<span class="tag">&lt;/<span class="name">active</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">protocol</span>&gt;</span>https<span class="tag">&lt;/<span class="name">protocol</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">host</span>&gt;</span>proxy.example.com<span class="tag">&lt;/<span class="name">host</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">port</span>&gt;</span>8080<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">nonProxyHosts</span>&gt;</span>localhost|127.0.0.1|10.*|*.example.com<span class="tag">&lt;/<span class="name">nonProxyHosts</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">proxy</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">proxies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æµè§ˆå™¨ä»£ç†é…ç½®">æµè§ˆå™¨ä»£ç†é…ç½®</h2><h3 id="æ‰‹åŠ¨ä»£ç†é…ç½®">æ‰‹åŠ¨ä»£ç†é…ç½®</h3><ul><li>Windowsï¼šåœ¨ IE ä¸­å–æ¶ˆå‹¾é€‰ã€è‡ªåŠ¨æ£€æµ‹è®¾ç½®ã€‘å’Œã€ä½¿ç”¨è‡ªåŠ¨é…ç½®è„šæœ¬ã€‘ï¼Œå‹¾é€‰ã€ä¸º LAN ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ã€‘å’Œã€å¯¹äºæœ¬åœ°åœ°å€ä¸ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ã€‘ï¼Œå¡«å…¥æœåŠ¡å™¨åœ°å€å’Œç«¯å£ã€‚</li><li>æ‰‹æœºï¼šæ‰“å¼€ç”µè„‘çƒ­ç‚¹ï¼Œæ‰‹æœºè¿æ¥ä»¥åä¿®æ”¹ WiFi é…ç½®ï¼Œé€‰æ‹©ã€HTTP ä»£ç†-é…ç½®ä»£ç†ã€‘ï¼Œå‹¾é€‰ã€æ‰‹åŠ¨ã€‘ï¼Œå¡«å…¥æœåŠ¡å™¨åœ°å€å’Œç«¯å£ã€‚</li></ul><h3 id="è‡ªåŠ¨ä»£ç†é…ç½®">è‡ªåŠ¨ä»£ç†é…ç½®</h3><ul><li>Windowsï¼šåœ¨ IE ä¸­å‹¾é€‰ã€ä½¿ç”¨è‡ªåŠ¨é…ç½®è„šæœ¬ã€‘ï¼Œå¡«å…¥ PAC æ–‡ä»¶åœ°å€ã€‚ï¼ˆä¸è¦å‹¾é€‰ã€è‡ªåŠ¨æ£€æµ‹è®¾ç½®ã€‘å’Œã€ä¸º LAN ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ã€‘ï¼‰</li><li>æ‰‹æœºï¼šæ‰“å¼€ç”µè„‘çƒ­ç‚¹ï¼Œæ‰‹æœºè¿æ¥ä»¥åä¿®æ”¹ WiFi é…ç½®ï¼Œé€‰æ‹©ã€HTTP ä»£ç†-é…ç½®ä»£ç†ã€‘ï¼Œå‹¾é€‰ã€è‡ªåŠ¨ã€‘ï¼Œå¡«å…¥ PAC æ–‡ä»¶åœ°å€ã€‚</li></ul><p>è‡ªåŠ¨ä»£ç†é…ç½®ä¾èµ– PAC æ–‡ä»¶ï¼ŒPAC æ–‡ä»¶åœ°å€ä»ä½•è€Œæ¥ï¼Œè§ä¸‹æ–‡ã€‚</p><h3 id="pac-æ–‡ä»¶">PAC æ–‡ä»¶</h3><p>PAC å³ Proxy Auto Configï¼Œæœ€æ—©ç”± Netscape Navigator 2.0 å¼•å…¥åˆ° Web æµè§ˆå™¨ä¸­ï¼Œå¤§éƒ¨åˆ†æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿéƒ½æ”¯æŒï¼Œä»¥ä¸‹æ˜¯ä¸€æ®µæ–‡ä»¶ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// proxy.pac</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">FindProxyForURL</span>(<span class="params">url, host</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title function_">dnsDomainIs</span>(host, <span class="string">&#x27;.public.example.com&#x27;</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;PROXY 127.0.0.1:8080&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    <span class="title function_">shExpMatch</span>(host, <span class="string">&#x27;localhost&#x27;</span>) ||</span><br><span class="line">    <span class="title function_">shExpMatch</span>(host, <span class="string">&#x27;127.0.0.1&#x27;</span>) ||</span><br><span class="line">    <span class="title function_">shExpMatch</span>(host, <span class="string">&#x27;10.*&#x27;</span>) ||</span><br><span class="line">    <span class="title function_">shExpMatch</span>(host, <span class="string">&#x27;192.168.*&#x27;</span>) ||</span><br><span class="line">    <span class="title function_">shExpMatch</span>(url, <span class="string">&#x27;https://gitlab.example-inc.com/*&#x27;</span>) ||</span><br><span class="line">    <span class="title function_">shExpMatch</span>(url, <span class="string">&#x27;https://oa.example-inc.com/*&#x27;</span>) ||</span><br><span class="line">    <span class="title function_">shExpMatch</span>(url, <span class="string">&#x27;https://mail.example-inc.com/*&#x27;</span>) ||</span><br><span class="line">    <span class="title function_">dnsDomainIs</span>(host, <span class="string">&#x27;.example.com&#x27;</span>) ||</span><br><span class="line">    <span class="title function_">dnsDomainIs</span>(host, <span class="string">&#x27;.test.com&#x27;</span>)</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;DIRECT&#x27;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;PROXY 127.0.0.1:8080&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“å¦‚ä½•ç¼–å†™å¯ä»¥å‚è€ƒ <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Proxy_servers_and_tunneling/Proxy_Auto-Configuration_(PAC)_file">Proxy Auto-Configuration (PAC) file - MDN</a>ã€‚</p><p>PAC æ–‡ä»¶ç¼–å†™å®Œæˆåéœ€è¦æ‰˜ç®¡åˆ°é™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Šï¼Œä»¥ä¾¿é€šè¿‡æŸä¸ªåœ°å€è®¿é—®ï¼Œæ¯”å¦‚ <code>http://static.example.com/proxy.pac</code>ã€‚</p><h3 id="è®©-nginx-æ”¯æŒ-pac-æ–‡ä»¶">è®© Nginx æ”¯æŒ PAC æ–‡ä»¶</h3><p>Nginx é»˜è®¤ä¸æ”¯æŒ PAC æ–‡ä»¶ï¼Œç›´æ¥å°† <code>proxy.pac</code> æ”¾åˆ° Nginx çš„ <code>html</code> ç›®å½•ä¸‹ï¼Œè®¿é—® <code>http://static.example.com/proxy.pac</code> è¿”å›çš„åª’ä½“ç±»å‹ä¸º <code>application/octet-stream</code>ï¼Œæµè§ˆå™¨æ— æ³•å°†å…¶è¯†åˆ«ä¸ºä»£ç†é…ç½®æ–‡ä»¶ã€‚</p><p>éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ Nginx çš„ <code>mime.types</code> é…ç½®ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">application/x-ns-proxy-<span class="attribute">autoconfig</span>                pac;</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">application/x-javascript-<span class="attribute">config</span>                  pac;</span><br></pre></td></tr></table></figure><p>è‡³äºé»˜è®¤è¿”å›çš„ <code>application/octet-stream</code>ï¼Œå–å†³äº Nginx çš„ <code>default_type</code> é…ç½®ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">default_type</span>  application/octet-stream;</span><br></pre></td></tr></table></figure><h2 id="å¾®ä¿¡å¼€å‘è€…å·¥å…·ä»£ç†é…ç½®">å¾®ä¿¡å¼€å‘è€…å·¥å…·ä»£ç†é…ç½®</h2><p>å¦‚æœç³»ç»Ÿè®¾ç½®è¿‡ä»£ç†ï¼Œåˆ™ç›´æ¥åœ¨ã€ä»£ç†è®¾ç½®ã€‘ä¸­å‹¾é€‰ã€ä½¿ç”¨ç³»ç»Ÿä»£ç†ã€‘ï¼›å¦åˆ™ï¼Œé€‰æ‹©ã€æ‰‹åŠ¨è®¾ç½®ä»£ç†ã€‘ï¼Œå¡«å…¥ä»£ç†æœåŠ¡å™¨åœ°å€å’Œç«¯å£ã€‚</p><h2 id="ç›¸å…³é“¾æ¥">ç›¸å…³é“¾æ¥</h2><ul><li>npm<ul><li><a href="https://docs.npmjs.com/cli/v7/using-npm/config">config - npm docs</a></li><li><a href="https://docs.npmjs.com/cli/v7/commands/npm-config">npm config - npm docs</a></li></ul></li><li>Yarn<ul><li><a href="https://yarnpkg.com/cli/config/set">yarn config set - Yarn</a></li><li><a href="https://yarnpkg.com/cli/config/unset">yarn config unset - Yarn</a></li></ul></li><li>Java<ul><li><a href="https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/net/doc-files/net-properties.html">Networking Properties</a></li><li><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html">Java Networking and Proxies</a></li></ul></li><li>Gradle<ul><li><a href="https://docs.gradle.org/current/userguide/build_environment.html#sec:accessing_the_web_via_a_proxy">Accessing the web through a HTTP proxy - Gradle</a></li><li><a href="https://docs.gradle.org/current/userguide/declaring_repositories.html">Declaring repositories</a></li><li><a href="https://docs.gradle.org/current/userguide/init_scripts.html">Initialization Scripts</a></li></ul></li><li>Maven<ul><li><a href="https://maven.apache.org/guides/mini/guide-proxies.html">Configuring a proxy - Maven</a></li><li><a href="https://maven.apache.org/ref/3.6.3/maven-settings/settings.html">Maven Settings</a></li></ul></li><li>PAC<ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Proxy_servers_and_tunneling">Proxy servers and tunneling - MDN</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Proxy_servers_and_tunneling/Proxy_Auto-Configuration_(PAC)_file">Proxy Auto-Configuration (PAC) file - MDN</a></li><li><a href="https://en.wikipedia.org/wiki/Proxy_auto-config">Proxy auto-config - Wikipedia</a></li></ul></li><li>HTTP_PROXY, HTTPS_PROXY, NO_PROXY<ul><li><a href="https://superuser.com/questions/944958/are-http-proxy-https-proxy-and-no-proxy-environment-variables-standard">Are HTTP_PROXY, HTTPS_PROXY and NO_PROXY environment variables standard?</a></li><li><a href="https://github.com/curl/curl/issues/1208">Please document syntax and semantics of NO_PROXY environment variable. #1208 - curl</a></li><li><a href="https://about.gitlab.com/blog/2021/01/27/we-need-to-talk-no-proxy/">We need to talk: Can we standardize NO_PROXY?</a></li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ—¥å¸¸å¼€å‘ä¸­ç”¨åˆ°çš„ä¸€äº›ä»£ç†é…ç½®æ–¹å¼&quot;&gt;æ—¥å¸¸å¼€å‘ä¸­ç”¨åˆ°çš„ä¸€äº›ä»£ç†é…ç½®æ–¹å¼&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;åŸæ–‡ï¼š&lt;a href=&quot;https://keqingrong.cn/blog/2021-02-19-proxy-and-pac/&quot;&gt;https://ke</summary>
      
    
    
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/tags/%E6%8A%98%E8%85%BE/"/>
    
  </entry>
  
  <entry>
    <title>ã€é˜¿é‡Œcdnã€‘è¢«æ¶æ„åˆ·æµé‡!</title>
    <link href="https://blog.lthero.cn/2024/12/31/FUCK-U-CDN-STEALER/"/>
    <id>https://blog.lthero.cn/2024/12/31/FUCK-U-CDN-STEALER/</id>
    <published>2024-12-31T08:42:46.000Z</published>
    <updated>2024-12-31T09:26:48.408Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é˜¿é‡Œcdnè¢«æ¶æ„åˆ·æµé‡">é˜¿é‡Œcdnè¢«æ¶æ„åˆ·æµé‡</h1><h2 id="è¯´æ˜">è¯´æ˜</h2><p>æœ¬äººåœ¨ github éƒ¨ç½²äº†é™æ€ç½‘é¡µåšå®¢ï¼Œä½¿ç”¨é˜¿é‡Œäº‘çš„ cdn è¿›è¡ŒåŠ é€Ÿï¼Œæœ€è¿‘å‘ç° cdn æµé‡å¼‚å¸¸</p><p>å¼‚å¸¸è¡¨ç°ï¼šæ™šä¸Š 20 ç‚¹åˆ° 2 ç‚¹æœŸé—´åˆ·äº† 4GB æµé‡ï¼Œè®¿é—® 10w+æ¬¡ï¼›å¹¶ä¸æ˜¯æ¯å¤©éƒ½æœ‰ï¼Œæœ€è¿‘æ˜¯éš”ä¸€å‘¨å·¦å³å‘ç”Ÿä¸€æ¬¡</p><h2 id="å¤„ç†">å¤„ç†</h2><p>å¥½åœ¨é˜¿é‡Œäº‘æä¾›äº†æŸ¥è¯¢ ip çš„æ¥å£ï¼ˆæ¥å£è¿˜è¢«è—èµ·æ¥äº†ï¼‰</p><p><a href="https://next.api.aliyun.com/api/Cdn/2018-05-10/DescribeDomainTopClientIpVisit">https://next.api.aliyun.com/api/Cdn/2018-05-10/DescribeDomainTopClientIpVisit</a></p><p>è¿”å›ç»“æœå¦‚ä¸‹</p><p><em>ä»…ä¸€å¤©å†…çš„è®¿é—®æƒ…å†µ</em></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;ClientIpList&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;Acc&quot;</span><span class="punctuation">:</span> <span class="number">172871</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Traffic&quot;</span><span class="punctuation">:</span> <span class="number">1932827800</span><span class="punctuation">,</span> #Byte<span class="punctuation">,</span>å¤§æ¦‚ <span class="number">2</span>GB</span><br><span class="line">  <span class="attr">&quot;Rank&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;ClientIp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.202.114.36&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h2 id="åè›‹-ip">åè›‹ ip</h2><p><strong>1.202.114.36</strong></p><p><strong>1.202.114.242</strong></p><p><strong>219.143.174.174</strong></p><p>åŒ—äº¬ç”µä¿¡çš„</p><h2 id="åç»­å¤„ç†">åç»­å¤„ç†</h2><p>1ã€åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°æŠŠè¿™ä¸ªipæ®µå°æ‰ï¼ˆæ·»åŠ åˆ°é»‘åå•ï¼‰</p><p>2ã€å¯¹æ•´ä¸ªåŸŸåæ·»åŠ é™é€Ÿå’Œé™æµé‡è®¾ç½®</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;é˜¿é‡Œcdnè¢«æ¶æ„åˆ·æµé‡&quot;&gt;é˜¿é‡Œcdnè¢«æ¶æ„åˆ·æµé‡&lt;/h1&gt;
&lt;h2 id=&quot;è¯´æ˜&quot;&gt;è¯´æ˜&lt;/h2&gt;
&lt;p&gt;æœ¬äººåœ¨ github éƒ¨ç½²äº†é™æ€ç½‘é¡µåšå®¢ï¼Œä½¿ç”¨é˜¿é‡Œäº‘çš„ cdn è¿›è¡ŒåŠ é€Ÿï¼Œæœ€è¿‘å‘ç° cdn æµé‡å¼‚å¸¸&lt;/p&gt;
&lt;p&gt;å¼‚å¸¸è¡¨ç°ï¼šæ™šä¸Š 20 ç‚¹åˆ° 2 ç‚¹æœŸé—´åˆ·äº†</summary>
      
    
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/categories/%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="cdnç›—ç”¨" scheme="https://blog.lthero.cn/tags/cdn%E7%9B%97%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title>ã€VPSé¢æ¿ã€‘å“ªå’é¢æ¿å®‰è£…</title>
    <link href="https://blog.lthero.cn/2024/12/25/Install-VPS-Dashboard/"/>
    <id>https://blog.lthero.cn/2024/12/25/Install-VPS-Dashboard/</id>
    <published>2024-12-25T12:43:21.000Z</published>
    <updated>2025-01-02T13:14:03.641Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å“ªå’é¢æ¿å®‰è£…è¿‡ç¨‹">å“ªå’é¢æ¿å®‰è£…è¿‡ç¨‹</h1><blockquote><p>ç”¨åˆ°çš„é¡¹ç›®ï¼š<a href="https://nezha.wiki/">https://nezha.wiki/</a></p></blockquote><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241225204400503.png" alt="å®ç°æ•ˆæœå›¾"></p><h2 id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢</h2><p>å®‰è£…åˆ†ä¸¤ä¸ªéƒ¨åˆ†ï¼ˆæ§åˆ¶ç«¯dashboardï¼Œè¢«æ§ç«¯agentï¼‰</p><p>å…¶ä¸­æ§åˆ¶ç«¯çš„è½¯ä»¶å®‰è£…åœ¨ä¸€å°æœºå™¨Aä¸Šå³å¯ï¼Œè¢«æ§åˆ¶ç«¯çš„è®¾å¤‡(B,C,D)å‘Aå®šæœŸå‘é€æ•°æ®</p><h2 id="åœ¨æ§åˆ¶ç«¯ä¸­å®‰è£…dashboard">åœ¨æ§åˆ¶ç«¯ä¸­å®‰è£…Dashboard</h2><p>åœ¨é¢æ¿æœåŠ¡å™¨ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å®‰è£…è„šæœ¬ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://raw.githubusercontent.com/nezhahq/scripts/refs/heads/main/install.sh -o nezha.sh &amp;&amp; <span class="built_in">chmod</span> +x nezha.sh &amp;&amp; sudo ./nezha.sh</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ çš„æœåŠ¡å™¨ä½äºä¸­å›½å¤§é™†ï¼Œå¯ä»¥ä½¿ç”¨é•œåƒï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://gitee.com/naibahq/scripts/raw/main/install.sh -o nezha.sh &amp;&amp; <span class="built_in">chmod</span> +x nezha.sh &amp;&amp; sudo CN=<span class="literal">true</span> ./nezha.sh</span><br></pre></td></tr></table></figure><p>ä»¥ Docker å®‰è£…ä¸ºä¾‹ï¼Œå®‰è£…å®ŒæˆåæŒ‰æç¤ºè¾“å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ul><li><code>è¯·è¾“å…¥ç«™ç‚¹æ ‡é¢˜:</code> - è‡ªå®šä¹‰ç«™ç‚¹æ ‡é¢˜ã€‚</li><li><code>è¯·è¾“å…¥æš´éœ²ç«¯å£:</code> - å…¬å¼€è®¿é—®ç«¯å£ï¼ˆé»˜è®¤ 8008ï¼Œå¯è‡ªå®šä¹‰ï¼‰</li><li><code>è¯·æŒ‡å®šå®‰è£…å‘½ä»¤ä¸­é¢„è®¾çš„ nezha-agent é€šä¿¡åŸŸååœ°å€</code> ï¼ˆä¾‹å¦‚ <a href="http://example.com:443">example.com:443</a>ï¼‰<ul><li>è¿™é‡Œä¸è¦å†™8008äº†ï¼Œä½¿ç”¨<code>åŸŸå:444</code>å³å¯ï¼Œå¦‚<code>dash.lthero.top:444</code></li></ul></li></ul><p>è¾“å…¥å®Œæˆåï¼Œç­‰å¾…æ‹‰å– Docker é•œåƒ</p><p>å®‰è£…ç»“æŸåï¼Œå¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ å¯ä»¥é€šè¿‡åŸŸåå’Œç«¯å£å·è®¿é—® Dashboardï¼Œä¾‹å¦‚ï¼š</p><p><code>http://dash.example.com:8008</code></p><p>å¦‚æœéœ€è¦å†æ¬¡è¿è¡Œå®‰è£…è„šæœ¬ï¼Œå¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./nezha.sh</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ç®¡ç†è„šæœ¬</p><h3 id="ç™»å½•åˆ°-dashboard-é…ç½®ç•Œé¢">ç™»å½•åˆ° Dashboard é…ç½®ç•Œé¢</h3><p>åå°ç®¡ç†ç•Œé¢çš„è·¯å¾„ä¸º <code>/dashboard</code>ï¼Œä½ åªéœ€è®¿é—®ï¼š</p><p><code>http://dash.example.com:8008/dashboard</code></p><p>é¦–æ¬¡ç™»å½•çš„é»˜è®¤ç”¨æˆ·åå’Œå¯†ç å‡ä¸º <code>admin</code></p><p>å»ºè®®å®‰è£…åç«‹å³è¿›å…¥ç®¡ç†é¡µé¢ï¼šç‚¹å‡»å¤´åƒ â†’ â€œä¸ªäººä¿¡æ¯â€ â†’ â€œæ›´æ–°ä¸ªäººèµ„æ–™â€ä¿®æ”¹å¯†ç ã€‚</p><h2 id="httpså®‰è£…">HTTPSå®‰è£…</h2><h3 id="è„šæœ¬ä¸‹è½½">è„šæœ¬ä¸‹è½½</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/lthero-big/QcHTTPS/refs/heads/main/install_https.sh -O install_https.sh </span><br></pre></td></tr></table></figure><p>è„šæœ¬å°†ä¿å­˜åœ¨æœ¬åœ° ï¼Œinstall_https.sh ï¼Œæ‚¨å¯ä»¥éšæ—¶æ‰§è¡Œ</p><h3 id="è„šæœ¬æ‰§è¡Œ">è„šæœ¬æ‰§è¡Œ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install_https.sh</span><br></pre></td></tr></table></figure><p>éšåè¾“å…¥</p><ul><li>åŸŸåï¼Œå¦‚<code>dash.lthero.top</code></li><li>ç«¯å£ï¼Œ<code>8008</code></li><li>é‚®ç®±ï¼Œè‡ªå·±çš„</li></ul><p>ç„¶åç­‰è¯ä¹¦ä¸‹æ¥å</p><p>ä¿®æ”¹è¿™ä¸ªé…ç½®æ–‡ä»¶<code>vim /etc/nginx/sites-available/dash.lthero.top</code></p><h3 id="nginx-é…ç½®ç¤ºä¾‹">Nginx é…ç½®ç¤ºä¾‹</h3><blockquote><p>å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨CloudFlareçš„æœåŠ¡ï¼Œä¸‹é¢çš„ä»£ç é»˜è®¤ä¸ºâ€œä½ ä½¿ç”¨nginxä½œä¸ºæœ€å¤–å±‚â€ï¼Œéœ€è¦æŒ‰ä¸‹é¢çš„æ³¨é‡Šï¼Œåˆ é™¤ï¼ˆæ³¨é‡Šæ‰ï¼‰ä¸€äº›ä»£ç </p></blockquote><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ Nginx é…ç½®åå‘ä»£ç†çš„ç¤ºä¾‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl http2;</span><br><span class="line">    listen [::]:443 ssl http2;</span><br><span class="line">    <span class="comment"># http2 on; # Nginx &gt; 1.25.1ï¼Œè¯·æ³¨é‡Šä¸Šé¢ä¸¤è¡Œï¼Œå¯ç”¨æ­¤è¡Œ</span></span><br><span class="line"></span><br><span class="line">    server_name dashboard.example.com; <span class="comment"># æ›¿æ¢ä¸ºä½ çš„åŸŸå</span></span><br><span class="line">    ssl_certificate          /data/letsencrypt/fullchain.pem; <span class="comment"># åŸŸåè¯ä¹¦è·¯å¾„</span></span><br><span class="line">    ssl_certificate_key      /data/letsencrypt/key.pem;       <span class="comment"># åŸŸåç§é’¥è·¯å¾„</span></span><br><span class="line">    ssl_stapling on;</span><br><span class="line">    ssl_session_timeout 1d;</span><br><span class="line">    ssl_session_cache shared:SSL:10m; <span class="comment"># å¦‚æœä¸å…¶ä»–é…ç½®å†²çªï¼Œè¯·æ³¨é‡Šæ­¤é¡¹</span></span><br><span class="line">    ssl_protocols TLSv1.2 TLSv1.3;</span><br><span class="line"></span><br><span class="line">    underscores_in_headers on;</span><br><span class="line">    set_real_ip_from 0.0.0.0/0; <span class="comment"># æ›¿æ¢ä¸ºä½ çš„ CDN å›æº IP åœ°å€æ®µ</span></span><br><span class="line">    real_ip_header CF-Connecting-IP; <span class="comment"># æ›¿æ¢ä¸ºä½ çš„ CDN æä¾›çš„ç§æœ‰ headerï¼Œæ­¤å¤„ä¸º CloudFlare é»˜è®¤</span></span><br><span class="line">    <span class="comment"># å¦‚æœä½ ä½¿ç”¨nginxä½œä¸ºæœ€å¤–å±‚ï¼ŒæŠŠä¸Šé¢ä¸¤è¡Œæ³¨é‡Šæ‰</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># grpc ç›¸å…³    </span></span><br><span class="line">    location ^~ /proto.NezhaService/ &#123;</span><br><span class="line">        grpc_set_header Host <span class="variable">$host</span>;</span><br><span class="line">        grpc_set_header nz-realip <span class="variable">$http_CF_Connecting_IP</span>; <span class="comment"># æ›¿æ¢ä¸ºä½ çš„ CDN æä¾›çš„ç§æœ‰ headerï¼Œæ­¤å¤„ä¸º CloudFlare é»˜è®¤</span></span><br><span class="line">        <span class="comment"># grpc_set_header nz-realip $remote_addr; # å¦‚æœä½ ä½¿ç”¨nginxä½œä¸ºæœ€å¤–å±‚ï¼Œå°±æŠŠä¸Šé¢ä¸€è¡Œæ³¨é‡Šæ‰ï¼Œå¯ç”¨æ­¤è¡Œ</span></span><br><span class="line">        grpc_read_timeout 600s;</span><br><span class="line">        grpc_send_timeout 600s;</span><br><span class="line">        grpc_socket_keepalive on;</span><br><span class="line">        client_max_body_size 10m;</span><br><span class="line">        grpc_buffer_size 4m;</span><br><span class="line">        grpc_pass grpc://dashboard;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># websocket ç›¸å…³</span></span><br><span class="line">    location ~* ^/api/v1/ws/(server|terminal|file)(.*)$ &#123;</span><br><span class="line">        proxy_set_header Host <span class="variable">$host</span>;</span><br><span class="line">        proxy_set_header nz-realip <span class="variable">$http_cf_connecting_ip</span>; <span class="comment"># æ›¿æ¢ä¸ºä½ çš„ CDN æä¾›çš„ç§æœ‰ headerï¼Œæ­¤å¤„ä¸º CloudFlare é»˜è®¤</span></span><br><span class="line">        <span class="comment"># proxy_set_header nz-realip $remote_addr; # å¦‚æœä½ ä½¿ç”¨nginxä½œä¸ºæœ€å¤–å±‚ï¼Œå°±æŠŠä¸Šé¢ä¸€è¡Œæ³¨é‡Šæ‰ï¼Œå¯ç”¨æ­¤è¡Œ</span></span><br><span class="line">        proxy_set_header Origin https://<span class="variable">$host</span>;</span><br><span class="line">        proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        proxy_set_header Connection <span class="string">&quot;upgrade&quot;</span>;</span><br><span class="line">        proxy_read_timeout 3600s;</span><br><span class="line">        proxy_send_timeout 3600s;</span><br><span class="line">        proxy_pass http://127.0.0.1:8008;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># web</span></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_set_header Host <span class="variable">$host</span>;</span><br><span class="line">        proxy_set_header nz-realip <span class="variable">$http_cf_connecting_ip</span>; <span class="comment"># æ›¿æ¢ä¸ºä½ çš„ CDN æä¾›çš„ç§æœ‰ headerï¼Œæ­¤å¤„ä¸º CloudFlare é»˜è®¤</span></span><br><span class="line">        <span class="comment"># proxy_set_header nz-realip $remote_addr; # å¦‚æœä½ ä½¿ç”¨nginxä½œä¸ºæœ€å¤–å±‚ï¼Œå°±æŠŠä¸Šé¢ä¸€è¡Œæ³¨é‡Šæ‰ï¼Œå¯ç”¨æ­¤è¡Œ</span></span><br><span class="line">        proxy_read_timeout 3600s;</span><br><span class="line">        proxy_send_timeout 3600s;</span><br><span class="line">        proxy_buffer_size 128k;</span><br><span class="line">        proxy_buffers 4 256k;</span><br><span class="line">        proxy_busy_buffers_size 256k;</span><br><span class="line">        proxy_max_temp_file_size 0;</span><br><span class="line">        proxy_pass http://127.0.0.1:8008;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">upstream dashboard &#123;</span><br><span class="line">    server 127.0.0.1:8008;</span><br><span class="line">    keepalive 512;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name dash.lthero.top;</span><br><span class="line">    <span class="built_in">return</span> 301 https://$server_name<span class="variable">$request_uri</span>;  <span class="comment"># å¼ºåˆ¶é‡å®šå‘æ‰€æœ‰ HTTP è¯·æ±‚åˆ° HTTPS</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æˆ‘çš„è®¾ç½®</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">listen</span> [::]:<span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> dash.lthero.top; <span class="comment"># æ›¿æ¢ä¸ºä½ çš„åŸŸå</span></span><br><span class="line">    <span class="attribute">ssl_certificate</span>          /etc/letsencrypt/live/dash.lthero.top/fullchain.pem; <span class="comment"># åŸŸåè¯ä¹¦è·¯å¾„</span></span><br><span class="line">    <span class="attribute">ssl_certificate_key</span>      /etc/letsencrypt/live/dash.lthero.top/privkey.pem; <span class="comment"># åŸŸåç§é’¥è·¯å¾„</span></span><br><span class="line">    <span class="attribute">ssl_stapling</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">ssl_session_timeout</span> <span class="number">1d</span>;</span><br><span class="line">    <span class="attribute">ssl_session_cache</span> shared:SSL:<span class="number">10m</span>; <span class="comment">#</span></span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">underscores_in_headers</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># grpc ç›¸å…³    </span></span><br><span class="line">    <span class="section">location</span><span class="regexp"> ^~</span> /proto.NezhaService/ &#123;</span><br><span class="line">        <span class="attribute">grpc_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">grpc_set_header</span> nz-realip <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">grpc_read_timeout</span> <span class="number">600s</span>;</span><br><span class="line">        <span class="attribute">grpc_send_timeout</span> <span class="number">600s</span>;</span><br><span class="line">        <span class="attribute">grpc_socket_keepalive</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">client_max_body_size</span> <span class="number">10m</span>;</span><br><span class="line">        <span class="attribute">grpc_buffer_size</span> <span class="number">4m</span>;</span><br><span class="line">        <span class="attribute">grpc_pass</span> grpc://dashboard;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># websocket ç›¸å…³</span></span><br><span class="line">    <span class="section">location</span> <span class="regexp">~* ^/api/v1/ws/(server|terminal|file)(.*)$</span> &#123;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> nz-realip <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Origin https://<span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="string">&quot;upgrade&quot;</span>;</span><br><span class="line">        <span class="attribute">proxy_read_timeout</span> <span class="number">3600s</span>;</span><br><span class="line">        <span class="attribute">proxy_send_timeout</span> <span class="number">3600s</span>;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://127.0.0.1:8008;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># web</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> nz-realip <span class="variable">$remote_addr</span>; </span><br><span class="line">        <span class="attribute">proxy_read_timeout</span> <span class="number">3600s</span>;</span><br><span class="line">        <span class="attribute">proxy_send_timeout</span> <span class="number">3600s</span>;</span><br><span class="line">        <span class="attribute">proxy_buffer_size</span> <span class="number">128k</span>;</span><br><span class="line">        <span class="attribute">proxy_buffers</span> <span class="number">4</span> <span class="number">256k</span>;</span><br><span class="line">        <span class="attribute">proxy_busy_buffers_size</span> <span class="number">256k</span>;</span><br><span class="line">        <span class="attribute">proxy_max_temp_file_size</span> <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://127.0.0.1:8008;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">upstream</span> dashboard &#123;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">127.0.0.1:8008</span>; <span class="comment"># 8008æœåŠ¡ç«¯å£</span></span><br><span class="line">    <span class="attribute">keepalive</span> <span class="number">512</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> dash.lthero.top;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;  <span class="comment"># å¼ºåˆ¶é‡å®šå‘æ‰€æœ‰ HTTP è¯·æ±‚åˆ° HTTPS</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œé‡å¯nginxå³å¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -t  <span class="comment"># æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯</span></span><br><span class="line">sudo systemctl reload nginx  <span class="comment"># é‡æ–°åŠ è½½é…ç½®</span></span><br><span class="line"><span class="comment"># å¦‚æœé‡æ–°åŠ è½½é…ç½®åæ— æ•ˆï¼Œå¯ä»¥å°è¯•é‡å¯nginx</span></span><br><span class="line">sudo systemctl restart nginx</span><br></pre></td></tr></table></figure><h2 id="åœ¨è¢«æ§ç«¯å®‰è£…agent">åœ¨è¢«æ§ç«¯å®‰è£…agent</h2><p>å“ªå’ç›‘æ§æ”¯æŒåœ¨ Windowsã€macOS å’Œ Linux ä¸Šä¸€é”®å®‰è£… Agent</p><h3 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h3><p>åœ¨å®‰è£…å‰ï¼Œéœ€è¦æå‰åœ¨ç®¡ç†é¢æ¿ä¸­è®¾ç½®é€šä¿¡åŸŸåï¼Œè¯¥åŸŸåä¸å»ºè®®æ¥å…¥ CDNã€‚</p><p>æœ¬æ–‡æ¡£ä»¥ç¤ºä¾‹<strong>é€šä¿¡åŸŸå</strong> â€œ<a href="http://dash.example.com:444">dash.example.com:444</a>â€ ä¸ºä¾‹</p><ol><li>åœ¨åå°ç®¡ç†é¢æ¿ç‚¹å‡»å¤´åƒï¼Œè¿›å…¥â€œç³»ç»Ÿè®¾ç½®â€é¡µã€‚</li><li>åœ¨â€œAgentå¯¹æ¥åœ°å€ã€åŸŸå/IP:ç«¯å£ã€‘â€é¡¹ä¸­å¡«å…¥é€šä¿¡åŸŸåå’Œç«¯å£ â€œ<a href="http://dash.example.com:444">dash.example.com:444</a>â€<ul><li>ä¸è¦ç”¨8008äº†ï¼Œæ¢ä¸ªç«¯å£å°±è¡Œ</li></ul></li><li>ç‚¹å‡»â€œç¡®è®¤â€ä¿å­˜è®¾ç½®</li></ol><h3 id="ä¸€é”®å®‰è£…æ­¥éª¤">ä¸€é”®å®‰è£…æ­¥éª¤</h3><ol><li>åœ¨ <code>æœåŠ¡å™¨</code> é¡µé¢ä¸­ï¼Œç‚¹å‡» <code>å®‰è£…å‘½ä»¤</code> å¹¶é€‰æ‹©å¯¹åº”æ“ä½œç³»ç»Ÿï¼Œå®‰è£…å‘½ä»¤å°†è‡ªåŠ¨å¤åˆ¶åˆ°ä½ çš„å‰ªè´´æ¿ã€‚</li><li>åœ¨è¢«æ§ç«¯æœåŠ¡å™¨ä¸­è¿è¡Œå®‰è£…å‘½ä»¤ï¼Œç­‰å¾…å®‰è£…å®Œæˆåè¿”å›åˆ° <code>æœåŠ¡å™¨</code> é¡µé¢æŸ¥çœ‹æ˜¯å¦ä¸Šçº¿ã€‚</li><li>å¦‚æœå®‰è£…æˆåŠŸï¼Œé¡µé¢ä¸­å°†è‡ªåŠ¨å¼¹å‡ºæ–°çš„æœåŠ¡å™¨ï¼Œä½ å¯ä»¥ç‚¹å‡»ç¼–è¾‘æŒ‰é’®ä¸ºå…¶è®¾ç½®åç§°ã€‚</li></ol><h2 id="æŸ¥çœ‹-agent-è¿è¡Œæ—¥å¿—">æŸ¥çœ‹ Agent è¿è¡Œæ—¥å¿—</h2><p>åœ¨é…ç½®æ–‡ä»¶ä¸­å¯ç”¨ debug æ¨¡å¼ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ Agent çš„è¿è¡ŒçŠ¶æ€å’Œæ—¥å¿—ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status nezha-agent-*</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°å¤šä¸ªè¿è¡Œç»“æœï¼Œè¯´æ˜ä½ è¿è¡Œäº†å¤šæ¬¡agent</p><blockquote><p><code>/opt/nezha/agent/</code> ä¸‹é¢æœ‰å¤šå°‘ä¸ªconfig*.jsonå°±å¯¹åº”äº†ç›¸åº”çš„é…ç½®ä¸ªæ•°</p></blockquote><h2 id="å¸è½½-agent">å¸è½½ Agent</h2><p>å¸è½½ Agent åŒ…æ‹¬åœæ­¢æœåŠ¡ã€å¸è½½æœåŠ¡ï¼Œä»¥åŠåˆ é™¤ç›¸å…³æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯ Ubuntu ç³»ç»Ÿçš„å¸è½½æ­¥éª¤ï¼š</p><ol><li><p>åœæ­¢å¹¶å¸è½½æœåŠ¡ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/nezha/agent/nezha-agent service uninstall</span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤ Agent æ–‡ä»¶å¤¹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf /opt/nezha/agent/</span><br></pre></td></tr></table></figure></li></ol><p>å¦‚æœå®‰è£…äº†å¤šä¸ªæœåŠ¡å¹¶æƒ³è¦å…¨éƒ¨å¸è½½ï¼Œå¯ä»¥ä½¿ç”¨ Agent å®‰è£…è„šæœ¬çš„å¸è½½åŠŸèƒ½ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./agent.sh uninstall</span><br></pre></td></tr></table></figure><h1 id="æ•°æ®è¿ç§»-å¤‡ä»½æ¢å¤">æ•°æ®è¿ç§»ã€å¤‡ä»½æ¢å¤</h1><p>æ–°ã€æ—§æœåŠ¡å™¨è¦ä½¿ç”¨ç›¸åŒçš„åŸŸåä»¥åŠç«¯å£ï¼Œä¿è¯æ— ç¼è¿‡æ¸¡</p><ol><li><strong>åœæ­¢é¢æ¿æœåŠ¡</strong><br>åœ¨æ—§æœåŠ¡å™¨ä¸­è¿è¡Œä¸€é”®è„šæœ¬ï¼Œé€‰æ‹© <code>åœæ­¢é¢æ¿</code>ã€‚</li><li><strong>å¤‡ä»½æ•°æ®</strong><br>æ‰“åŒ…æ—§æœåŠ¡å™¨ä¸­çš„ <code>/opt/nezha</code> æ–‡ä»¶å¤¹ï¼Œå¹¶å°†å…¶å¤åˆ¶åˆ°æ–°æœåŠ¡å™¨ç›¸åŒä½ç½®ã€‚</li><li><strong>æ¢å¤æ•°æ®</strong><br>åœ¨æ–°æœåŠ¡å™¨ä¸­è§£å‹ <code>/opt/nezha</code> æ–‡ä»¶å¤¹è‡³ç›¸åŒè·¯å¾„ã€‚</li><li><strong>å¯åŠ¨é¢æ¿æœåŠ¡</strong><br>åœ¨æ–°æœåŠ¡å™¨ä¸­è¿è¡Œä¸€é”®è„šæœ¬ï¼Œé€‰æ‹© <code>å¯åŠ¨é¢æ¿</code>ã€‚</li></ol><h3 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</h3><ul><li>ç¡®ä¿ <code>/opt/nezha</code> æ–‡ä»¶å¤¹åŠå…¶å†…å®¹çš„æƒé™å’Œæ‰€æœ‰æƒåœ¨æ–°æœåŠ¡å™¨ä¸Šæ­£ç¡®è®¾ç½®ã€‚</li><li>æ•°æ®è¿ç§»å®Œæˆåï¼Œå¯ä»¥é€šè¿‡è®¿é—® Dashboard ç•Œé¢éªŒè¯è¿ç§»æ˜¯å¦æˆåŠŸã€‚</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å“ªå’é¢æ¿å®‰è£…è¿‡ç¨‹&quot;&gt;å“ªå’é¢æ¿å®‰è£…è¿‡ç¨‹&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”¨åˆ°çš„é¡¹ç›®ï¼š&lt;a href=&quot;https://nezha.wiki/&quot;&gt;https://nezha.wiki/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;h</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>è¶…ä½æˆæœ¬PS5è¿œç¨‹ä¸²æµ</title>
    <link href="https://blog.lthero.cn/2024/12/23/PS5RemotePlay/"/>
    <id>https://blog.lthero.cn/2024/12/23/PS5RemotePlay/</id>
    <published>2024-12-23T05:04:53.000Z</published>
    <updated>2025-01-07T11:06:03.132Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è¶…ä½æˆæœ¬ps5è¿œç¨‹ä¸²æµ">è¶…ä½æˆæœ¬PS5è¿œç¨‹ä¸²æµ!</h1><blockquote><p>æ€è·¯ï¼š<strong>ç½‘ç»œéƒ¨åˆ†</strong>ä½¿ç”¨zerotieråˆ›å»ºè™šæ‹Ÿå±€åŸŸç½‘ï¼Œè®©PS5åœ¨è™šæ‹Ÿå±€åŸŸç½‘å†…ï¼Œä»è€Œè¢«å…¶å®ƒè®¾å¤‡è®¿é—®ï¼›<strong>æ§åˆ¶éƒ¨åˆ†</strong>ä½¿ç”¨å¼€æºçš„è½¯ä»¶chiakiï¼ˆpxplayä¹Ÿè¡Œï¼Œä½†å®ƒæ”¶è´¹ï¼‰æ³¨æ„ï¼Œchiakiæœ‰å¤šç‰ˆæœ¬ï¼Œç›®å‰ä½¿ç”¨<strong>chiaki-ng</strong></p></blockquote><p>å¼€æºé¡¹ç›®ï¼š<a href="https://github.com/streetpea/chiaki-ng">chiaki-ng</a></p><p><strong>ç‰¹æ€§ï¼š</strong></p><ul><li>æ”¯æŒWindows/MacOS/Android/Linuxâ€¦</li><li>å¯ä»¥è°ƒæ•´ç ç‡ï¼Œæ”¯æŒè¿œç¨‹å”¤é†’ã€Xboxæ‰‹æŸ„ï¼</li><li>æ”¯æŒDSåŸç”Ÿéœ‡åŠ¨å’Œçº¿æ€§æ¿æœºï¼</li></ul><p><strong>chiaki</strong>è™½å¥½ï¼Œä½†éœ€è¦è®¾å¤‡å¤„äºåŒä¸€å±€åŸŸç½‘å†…</p><blockquote><p>å¦‚æœåªåœ¨å±€åŸŸç½‘å†…ä½¿ç”¨ï¼Œè¯·åˆ†åˆ«ä¸‹è½½å¯¹åº”å®¢æˆ·ç«¯é£Ÿç”¨å³å¯ï¼›åç»­æ•™ç¨‹å¯ä»¥è·³è¿‡~</p></blockquote><hr><p>ä½†ï¼Œå¦‚æœæƒ³åœ¨ä¸åŒçš„ç½‘è¿æ¥ï¼Œè¦ä¹ˆéœ€è¦å…¬ç½‘ï¼Œè¦ä¹ˆå¯ä»¥<strong>åˆ›å»ºâ€œè™šæ‹Ÿå±€åŸŸç½‘â€(VLAN)ï¼Œ<strong>éœ€è¦è½¯ä»¶(zerotier)è®©è®¾å¤‡éƒ½å¤„åœ¨åŒä¸€ä¸ª</strong>è™šæ‹Ÿå±€åŸŸç½‘</strong>å†…ï¼Œè¿™æ ·å°±èƒ½ä½¿ç”¨chiakiå•¦~</p><p>ä¸‹é¢çš„æ•™ç¨‹åˆ†ä¸ºå››å¤§éƒ¨åˆ†ï¼š</p><ol><li>æ³¨å†Œzerotierä¸åˆ›å»ºè™šæ‹Ÿå±€åŸŸç½‘</li><li>è·¯ç”±å™¨å®‰è£…zerotierä¸é…ç½®è™šæ‹Ÿå±€åŸŸç½‘</li><li>å®¢æˆ·ç«¯åŠ å…¥è™šæ‹Ÿå±€åŸŸç½‘</li><li>å¼€ç©ï¼</li></ol><hr><h2 id="1-æ³¨å†Œzerotierä¸åˆ›å»ºvlan">1.æ³¨å†Œzerotierä¸åˆ›å»ºVLAN</h2><p>åœ¨zerotierå®˜ç½‘ <a href="https://zerotier.com/">https://zerotier.com/</a> ä¸Šæ³¨å†Œè´¦å·</p><p>éšåï¼Œç‚¹å‡»&quot;create a network&quot;</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_22-18-55.png" alt="åˆ›å»ºç½‘ç»œ"></p><h4 id="none"></h4><p>ç„¶åç‚¹å‡»åˆ›å»ºå‡ºæ¥çš„ç½‘ç»œï¼ŒNameå¯ä»¥éšä¾¿èµ·ï¼ŒAccessControl<strong>æœ€å¥½ä½¿ç”¨â€™Privateâ€™</strong></p><blockquote><p>å³ï¼šæ‰€æœ‰è¦åŠ å…¥è¿™ä¸ªè™šæ‹Ÿå±€åŸŸç½‘çš„è®¾å¤‡éœ€è¦ä½ æ‰‹åŠ¨è®¤è¯å®¡æ ¸ï¼›</p></blockquote><p><strong>è®°ä¸‹è¿™é‡Œçš„Network ID</strong>ï¼Œå®ƒå°±æ˜¯ä½ çš„è™šæ‹Ÿå±€åŸŸç½‘IDå•¦ï¼Œåé¢éœ€è¦ç”¨ä¸Š</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_22-21-33.png" alt="é€‰æ‹©Private"></p><h4 id="none"></h4><p>æ¥ä¸‹æ¥ï¼Œå¯ä»¥æ›´æ¢è™šæ‹Ÿå±€åŸŸç½‘çš„ipæ®µï¼Œå½“ç„¶ï¼Œä½¿ç”¨ç³»ç»Ÿåˆ†é…çš„ä¹Ÿå¯ä»¥å•¦</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_22-24-29.png" alt="å¯ä»¥æ›´æ¢è™šæ‹Ÿå±€åŸŸç½‘çš„ipæ®µ"></p><p>zerotierå®˜ç½‘çš„æ‰€æœ‰æ“ä½œä¼šè‡ªåŠ¨æ›´æ–°ï¼Œæ‰€ä»¥ä¸ç”¨æ‰‹åŠ¨ä¿å­˜</p><h2 id="2-è·¯ç”±å™¨å®‰è£…zerotierä¸é…ç½®vlan">2.è·¯ç”±å™¨å®‰è£…zerotierä¸é…ç½®VLAN</h2><p>è¿™ä¸€æ­¥æ˜¯æ¯”è¾ƒåŠé€€çš„ï¼Œç”±äºps5æ— æ³•å®‰è£…zerotierï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½æ›²çº¿æ•‘å›½ï¼›</p><blockquote><p>åœ¨è·¯ç”±å™¨ï¼ˆåˆ·äº†openwrtç³»ç»Ÿæˆ–å…¶å®ƒç³»ç»Ÿï¼‰ä¸Šå®‰è£…zerotier</p></blockquote><ul><li>è‡ªåŠ¨ï¼šä¸€èˆ¬åœ¨openwrtç³»ç»Ÿçš„åº”ç”¨å•†åº—å¯ä»¥æœç´¢å¹¶ä¸‹è½½åˆ°ï¼ˆç”šè‡³é»˜è®¤å®‰è£…ï¼‰</li><li>åŠè‡ªåŠ¨ï¼šzerotierå®˜æ–¹æä¾›äº†æ¯”è¾ƒæ–¹ä¾¿çš„å®‰è£…æ–¹å¼ï¼Œä¸€æ¡å‘½ä»¤å³å¯å®Œæˆï¼ˆè¿™é‡Œé»˜è®¤æ‚¨å·²ç»ä¼šä½¿ç”¨sshå·¥å…·å¹¶è¿å…¥è·¯ç”±å™¨ï¼‰</li></ul><blockquote><p>curl -s <a href="https://install.zerotier.com/">https://install.zerotier.com/</a> | sudo bash</p></blockquote><h3 id="åŠ å…¥è™šæ‹Ÿå±€åŸŸç½‘">åŠ å…¥è™šæ‹Ÿå±€åŸŸç½‘</h3><p>åœ¨è·¯ç”±å™¨ä¸ŠåŠ å…¥åˆ°åˆ›å»ºçš„è™šæ‹Ÿå±€åŸŸç½‘</p><blockquote><p>zerotier-cli join fadxxxxx5eb45a9</p></blockquote><p>éšåï¼Œåœ¨zerotierå®˜ç½‘ä¸Šæˆæƒè¿™ä¸ªè®¾å¤‡çš„æ¥å…¥ï¼Œå°†è®¾å¤‡å‰é¢çš„AuthåŒæ„ï¼Œæ­¤è®¾å¤‡å°±åŠ å…¥è™šæ‹Ÿå±€åŸŸç½‘æˆåŠŸäº†ï¼Œå³ä¾§å¯ä»¥çœ‹åˆ°è¿™ä¸ªè®¾å¤‡çš„è™šæ‹Ÿip</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_22-37-03.png" alt="åŒæ„è®¾å¤‡æ¥å…¥"></p><h4 id="none"></h4><h3 id="é…ç½®è™šæ‹Ÿå±€åŸŸç½‘">é…ç½®è™šæ‹Ÿå±€åŸŸç½‘</h3><p>ä½†ç›®å‰åªè®©è·¯ç”±å™¨åŠ å…¥äº†è¿™ä¸ªè™šæ‹Ÿå±€åŸŸç½‘ï¼Œ<strong>ä¸ºäº†è®©psä¹Ÿèƒ½å…¥ç½‘</strong>ï¼Œæˆ‘ä»¬éœ€è¦å…ˆ<strong>è®¾ç½®NAT</strong></p><ul><li>åœ¨zerotierç½‘é¡µï¼Œæ‰¾åˆ°**â€œManage Routesâ€**æ¨¡å—ï¼Œå°†psæ‰€åœ¨çš„çœŸå®å±€åŸŸç½‘æ®µï¼ˆå¦‚æˆ‘è¿™é‡Œå†™çš„æ˜¯192.168.8.0/24ï¼‰å¡«å†™åœ¨Destinationï¼Œå°†è·¯ç”±å™¨çš„è™šæ‹Ÿipå¡«å†™åœ¨Via</li></ul><blockquote><p>ä»è€Œè®©ä½ çœŸå®å±€åŸŸç½‘å†…çš„æ‰€æœ‰è®¾å¤‡ï¼Œéƒ½èƒ½è¢«è™šæ‹Ÿå±€åŸŸç½‘è®¿é—®ï¼Œè€Œè·¯ç”±å™¨å°±å……å½“äº†â€ä¸­é—´äººâ€œ</p></blockquote><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_22-35-32.png" alt="è®¾ç½®NAT"></p><p>ç‚¹å‡»Submitæäº¤ã€‚</p><p>æœ€åä¸€æ­¥ï¼Œéœ€è¦åœ¨è·¯ç”±å™¨çš„zerotierç®¡ç†é¡µé¢ï¼Œ<strong>è‡ªåŠ¨å…è®¸å®¢æˆ·ç«¯NAT</strong></p><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_22-44-15.png" alt="è‡ªåŠ¨å…è®¸å®¢æˆ·ç«¯NAT"></p><p>å³å®Œæˆè™šæ‹Ÿå±€åŸŸç½‘çš„é…ç½®ï¼›</p><hr><h2 id="3-å®¢æˆ·ç«¯åŠ å…¥è™šæ‹Ÿå±€åŸŸç½‘">3.å®¢æˆ·ç«¯åŠ å…¥è™šæ‹Ÿå±€åŸŸç½‘</h2><p>è¿˜æ˜¯åœ¨zerotierå®˜ç½‘ï¼Œä¸‹è½½pcå¯¹åº”çš„å®¢æˆ·ç«¯ï¼Œå¦‚æœæ˜¯å®‰å“ï¼Œå»ºè®®ç”¨<a href="https://github.com/kaaass/ZerotierFix">å®‰å“zerotierå¥½ç”¨ç‰ˆ</a></p><p>åœ¨pcä¸‹è½½zerotieråï¼Œéœ€è¦åŠ å…¥è™šæ‹Ÿå±€åŸŸç½‘ï¼Œè¿˜æ˜¯ä½¿ç”¨ä¸Šé¢çš„NetworkIDï¼Œå¹¶ä¸”ä»ç„¶éœ€è¦æ‰‹åŠ¨ç¡®è®¤åŠ å…¥ã€‚</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_23-15-54.png" alt="pcåŠ å…¥ç½‘ç»œ"></p><p>ç”µè„‘ä¸Šä¼šå®‰è£…ä¸€ä¸ªè™šæ‹Ÿç½‘å¡ï¼Œå¦‚æœå¼¹å‡ºæ¥é€‰é¡¹æ¡†éƒ½ç‚¹æ˜¯ã€‚</p><p>å…¶å®ƒå¹³å°ä¹Ÿæ˜¯ç±»ä¼¼æ“ä½œï¼Œå®‰è£…å¥½å¯¹åº”çš„å®¢æˆ·ç«¯ååŠ å…¥ç½‘ç»œå³å¯ã€‚</p><hr><h2 id="4-å¼€ç©">4.å¼€ç©ï¼</h2><blockquote><p>ä¸ºäº†ä½“ç°å‡ºè™šæ‹Ÿå±€åŸŸç½‘çš„ç”¨å¤„ï¼Œæœ€å¥½è®©ç”µè„‘ä¸pså¤„äºä¸åŒçš„çœŸå®å±€åŸŸç½‘ä¸­ï¼Œæ¯”å¦‚è®©ç”µè„‘è¿æ¥æ‰‹æœºçƒ­ç‚¹ï¼›</p></blockquote><h3 id="ç”µè„‘ç«¯ä¸²æµ">ç”µè„‘ç«¯ä¸²æµ</h3><p>ç”µè„‘ä¸Šä¸‹è½½chiaki-ngï¼Œé“¾æ¥-&gt;<a href="https://github.com/streetpea/chiaki-ng">chiaki-ng</a> <a href="https://github.com/streetpea/chiaki-ng">https://github.com/streetpea/chiaki-ng</a> ï¼Œæ‰¾åˆ°<a href="https://github.com/streetpea/chiaki-ng/releases/download/v1.9.3/chiaki-ng-windows-installer.exe">chiaki-ng-windows-installer.exe</a>ï¼ˆå…è´¹ï¼‰</p><p>æ‰“å¼€chiaki-ngåï¼Œç‚¹å‡»å³ä¸Šè§’â€+â€œå·ï¼Œè¾“å…¥ps5çš„çœŸå®å±€åŸŸç½‘ipï¼ˆæ¯”å¦‚192.168.8.5ï¼‰</p><blockquote><p>è®°å¾—å—ï¼Œå‰é¢æŠŠæ•´ä¸ª192.168.8.0/24ç½‘æ®µéƒ½åŠ å…¥åˆ°è™šæ‹Ÿå±€åŸŸç½‘äº†</p></blockquote><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_23-21-51.png" alt="img"></p><p>ç„¶åéœ€è¦æ·»åŠ æ³¨å†Œç”¨æˆ·ï¼ˆå…¶å®å°±æ˜¯éœ€è¦ç™»å½•psè´¦å·ï¼‰ï¼Œä½†<strong>ä¸è¦ç›´æ¥å¡«å†™ä½ PSNçš„IDï¼Œå®ƒéœ€è¦å¡«å†™base64æ ¼å¼</strong></p><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_23-27-15.png" alt="å¡«å†™è½¬ç åçš„IDå’Œè¿œç¨‹PIN"></p><p>ä½¿ç”¨<a href="https://psn.flipscreen.games/">IDè½¬æ¢å·¥å…·</a> <a href="https://psn.flipscreen.games">https://psn.flipscreen.games</a> å¾—åˆ°è½¬ç åçš„IDï¼Œè®°å¾—è¦å¤åˆ¶chiakiè¿™ä¸€ä¸ªï¼Œpsplayæ˜¯å¦ä¸€ä¸ªè½¯ä»¶çš„ï¼ˆpsplayæ”¶è´¹ï¼‰</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_23-28-14.png" alt="å¤åˆ¶chiakiçš„é‚£ä¸€ä¸²ç å­"></p><p>å¦å¤–ï¼Œéœ€è¦åœ¨psçš„â€œè®¾ç½®â€-&gt;â€œç³»ç»Ÿâ€-&gt;â€œè¿œç¨‹æ¸¸ç©â€œå¼€å¯è¿œç¨‹æ¸¸ç©ï¼Œå¹¶ä¸”æ‰¾åˆ°PINç ï¼ˆæœ‰æ—¶æ•ˆï¼‰ï¼Œå°†PINå¡«å†™åœ¨è½¯ä»¶ä¸Šã€‚</p><p><strong>éšåå³æ·»åŠ å¤§æˆåŠŸï¼ï¼ï¼</strong></p><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_23-33-12.png" alt="psè®¾å¤‡æ·»åŠ æˆåŠŸ"></p><ul><li>å¦‚æœä¸»æœºå¤„äºå¼€æœºçŠ¶æ€ï¼ˆç™½è‰²ï¼‰ï¼Œç›´æ¥åŒå‡»å°±èƒ½å¼€å§‹è¿œç¨‹ä¸²æµäº†</li><li>å¦‚æœä¸»æœºå¤„äºå¾…æœºçŠ¶æ€ï¼ˆé»„è‰²ï¼‰ï¼Œéœ€è¦é€‰æ‹©â€Wakeupâ€œå‘é€å”¤é†’æ“ä½œï¼Œç„¶åå†è¿›è¡Œè¿œç¨‹ä¸²æµ</li><li>ä¸»æœºå®Œå…¨å…³æœºçš„çŠ¶æ€ä¸‹æ— æ³•è¢«å”¤é†’ï¼Œæ›´æ— æ³•ä¸²æµï¼›ï¼ˆå¯ä»¥è¯•è¯•<strong>æ‰‹æŒ‡æœºå™¨äºº</strong>ï¼Ÿï¼‰</li></ul><h3 id="ç”µè„‘ç«¯æ¼”ç¤ºæ•ˆæœ">ç”µè„‘ç«¯æ¼”ç¤ºæ•ˆæœ</h3><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2025-01-06_23-44-10.png" alt="ç”µè„‘ç«¯æ¼”ç¤ºæ•ˆæœ"></p><p>æŒ‰ctrl+oå¯ä»¥é€‰æ‹©å‡ºæ¥ä¸²æµï¼Œå…¶å®ƒçš„è®¾ç½®ï¼ˆåŒ…å«åˆ†è¾¨ç‡ã€ç ç‡è¯·è‡ªè¡Œè°ƒæ•´ï¼‰</p><p>---------------------------------------------</p><h3 id="å®‰å“">å®‰å“</h3><p>å¦‚æœæ˜¯å®‰å“ï¼Œå¯ä»¥åœ¨googleå•†åº—ä¸‹è½½åˆ°chiaki-upï¼ˆå…è´¹ï¼‰</p><p>å®‰å“éœ€è¦å…ˆæ‰“å¼€zerotierå¹¶åŠ å…¥è™šæ‹Ÿç½‘ç»œï¼Œå¹¶ä¸”ä¿æŒåŠ å…¥ç½‘ç»œçš„çŠ¶æ€ï¼ˆä¼šåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç½‘å¡ï¼‰</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/Screenshot_2025-01-06-23-39-18-332-edit_net.kaaass.zerotierfix.jpg" alt="zerotierè¿æ¥åˆ°è™šæ‹Ÿå±€åŸŸç½‘"></p><p>å†æ‰“å¼€chiaki-upï¼Œç‚¹å‡»å³ä¸‹è§’æ·»åŠ ps5ï¼Œæ–¹æ³•ä¸ç”µè„‘ç«¯ç›¸ä¼¼ï¼›</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/Screenshot_2025-01-06-23-38-41-202-edit_com.gameblabla.chiaki.jpg" alt="chiaki-upæ·»åŠ ä¸»æœº"></p><h3 id="æ‰‹æœºç«¯æ¼”ç¤ºæ•ˆæœ">æ‰‹æœºç«¯æ¼”ç¤ºæ•ˆæœ</h3><p>å¯ä»¥ç”¨è“ç‰™è¿æ¥dsï¼Œå†<strong>å°†å±å¹•ä¸Šçš„è™šæ‹Ÿæ§åˆ¶å…³é—­</strong></p><p><img src="https://cdn.lthero.cn/post_images/course/ML/Screenshot_2025-01-06-23-53-26-538_com.gameblabla.chiaki.jpg" alt="æ‰‹æœºæ¼”ç¤ºæ•ˆæœ"></p><hr><p>è‡³æ­¤ï¼Œæ•™ç¨‹åº”è¯¥å°±ç»“æŸäº†ï¼›</p><h2 id="å»¶è¿Ÿé—®é¢˜">å»¶è¿Ÿé—®é¢˜</h2><p>æˆ‘ä¸æœ‹å‹æµ‹è¯•è¿‡ï¼Œç›¸éš”150å…¬é‡Œå·¦å³ï¼Œ<strong>å»¶è¿Ÿç¨³å®š10ms~15ms</strong>ï¼›å¹¶ä¸”ä¸²æµæ—¶å¯ä»¥æ­£å¸¸ä½¿ç”¨çº¿æ€§æ¿æœºã€éœ‡åŠ¨ç­‰åŠŸèƒ½ï¼›ä½“éªŒè¿˜æ˜¯ä¸é”™çš„ã€‚</p><p>å¦å¤–ï¼Œzerotieré»˜è®¤ä½¿ç”¨p2pæ‰“æ´ï¼Œå¦‚æœæ‰“æ´æˆåŠŸï¼Œå»¶è¿Ÿä¼šå¾ˆä½è€Œä¸”ç¨³å®šï¼›</p><blockquote><p>ä½†å¦‚æœä¸€ç›´æ— æ³•çš„æ´æˆåŠŸï¼Œå…¶å®è¿˜å¯ä»¥å°è¯•èµ°ä¸­è½¬æœåŠ¡å™¨ï¼</p></blockquote><p>ä½†å¦‚ä½•æ­å»ºmoonä¸­è½¬æœåŠ¡å™¨ï¼Œå¯æƒœè¿™é‡Œçš„ç©ºç™½å¤„å¤ªå°ï¼Œå†™ä¸ä¸‹~</p><p><strong>æœ€åï¼Œæå‰ç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼</strong></p><h1 id="åŸæ–‡">åŸæ–‡</h1><blockquote><p>è¿™é‡Œæ˜¯æœ€åˆå†™çš„</p></blockquote><h2 id="ç½‘ç»œéƒ¨åˆ†">ç½‘ç»œéƒ¨åˆ†</h2><p>zerotierçš„å®‰è£…ä¸ä½¿ç”¨å…·ä½“å¯ä»¥æŸ¥çœ‹å¦ä¸€ç¯‡æ–‡ç« </p><ol><li>åœ¨zerotieråˆ›å»ºä¸€ä¸ªè™šæ‹Ÿå±€åŸŸç½‘fx2811dwx(éšä¾¿å†™çš„)</li><li>åœ¨n1ç›’å­ä¸Šï¼ˆåˆ·äº†openwrtç³»ç»Ÿï¼Œå¹¶å®‰è£…äº†zerotieræ’ä»¶ï¼‰å¯åŠ¨zerotierï¼Œå¹¶åŠ å…¥åˆ°è™šæ‹Ÿå±€åŸŸç½‘fx2811dwxï¼Œéœ€è¦åœ¨zerotieræ§åˆ¶å°åŒæ„è®¾å¤‡åŠ å…¥</li><li>ä¸ºäº†è®©PS5ä¹ŸåŠ å…¥åˆ°è¿™ä¸ªç½‘ç»œï¼Œéœ€è¦åœ¨n1ç›’å­ä¸Šï¼Œå…è®¸ Zerotier çš„æ‹¨å…¥å®¢æˆ·ç«¯è®¿é—®è·¯ç”±å™¨ LAN èµ„æº<ol><li>éœ€è¦åœ¨ Zerotier ç®¡ç†é¡µé¢è®¾å®šåˆ° LAN ç½‘æ®µçš„è·¯ç”±è¡¨</li><li>æ¯”å¦‚n1ç›’å­çš„è™šæ‹Ÿipæ˜¯10.22.22.15ï¼Œn1ç›’å­çš„çœŸå®å±€åŸŸç½‘ipæ˜¯192.168.6.15ã€‚éœ€è¦åœ¨zerotierç®¡ç†é¡µé¢ï¼Œå°†LANç½‘æ®µ192.168.6.0/24 äº¤ç»™10.22.22.15è¿›è¡Œè½¬å‘</li><li>åœ¨PS5ä¸Šï¼Œå°†ç½‘ç»œè®¾ç½®çš„ç½‘å…³ï¼ˆä»¥åŠä¸»DNSï¼‰è®¾ç½®ä¸ºn1ç›’å­çš„çœŸå®å±€åŸŸç½‘ip</li></ol></li></ol><p>å¦‚æœæ²¡é—®é¢˜ï¼Œæ­¤æ—¶åŒä¸€ä¸ªè™šæ‹Ÿå±€åŸŸç½‘ä¸‹çš„è®¾å¤‡ï¼Œå¯ä»¥pingé€šPS5ï¼ˆå‡è®¾å®ƒçš„çœŸå®å±€åŸŸç½‘ipæ˜¯192.168.6.5ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒPS5æ˜¯ä¸éœ€è¦å®‰è£…zerotieræˆ–è®¾ç½®è™šæ‹Ÿipçš„ï¼Œè½¬å‘çš„æ“ä½œå·²ç»äº¤ç»™äº†n1ç›’å­</p><blockquote><p>å¦‚æœç½‘ç»œä¸ç¨³å®šï¼Œzerotieræ— æ³•åˆ›å»ºç›´è¿p2pï¼Œæ­¤æ—¶éœ€è¦ä¸­è½¬æœåŠ¡å™¨ï¼ˆä¹Ÿå«moonæœåŠ¡å™¨ï¼‰ï¼Œå…·ä½“æ“ä½œåœ¨å¦ä¸€ç¯‡zerotieræ–‡ç« æœ‰å†™</p></blockquote><h3 id="æ³¨æ„">æ³¨æ„</h3><p>é™¤äº†ä½¿ç”¨<strong>zerotier</strong>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸ä¼¼çš„<strong>tailscale</strong>ã€<strong>çšæœˆè¿</strong>ç­‰è™šæ‹Ÿå±€åŸŸç½‘åˆ›å»ºå·¥å…·ï¼›</p><p>ç½‘ä¸Šä¹Ÿæœ‰ä½¿ç”¨dmzè½¬å‘çš„æ–¹æ³•ï¼ˆéœ€è¦æœ‰å…¬ç½‘ï¼‰ï¼Œä½†æ­¤æ–¹æ³•ä¼šæš´éœ²ç«¯å£ï¼Œä¸å¤ªæ¨è</p><h2 id="æ“æ§éƒ¨åˆ†">æ“æ§éƒ¨åˆ†</h2><blockquote><p>PC/å®‰å“/è‹¹æœ éœ€è¦å®‰è£…è½¯ä»¶chiaki</p><p>é¡¹ç›®ï¼š<a href="https://github.com/streetpea/chiaki-ng">https://github.com/streetpea/chiaki-ng</a></p></blockquote><p>å‡å¦‚åœ¨PCä¸Šä¸‹è½½å¥½chiakiè½¯ä»¶ï¼Œæ­¤æ—¶å‡è®¾PCä¹Ÿåœ¨n1ç›’å­ç›¸åŒçš„â€œçœŸå®å±€åŸŸç½‘ä¸‹â€ï¼ˆå³PCå¯ä»¥pingé€šPS5ï¼‰ï¼Œå¦‚æœchiakiæœªå‘ç°PS5ï¼Œå¯ä»¥è‡ªé€‰æ·»åŠ </p><p>å…¶ä¸­é€‰é¡¹å¦‚ä¸‹</p><ol><li>ipè¦è®¾ç½®ä¸ºPS5çš„çœŸå®å±€åŸŸç½‘ipï¼ˆ192.168.6.5ï¼‰</li><li>å†™çœŸå®çš„PSNçš„IDï¼Œç„¶åç‚¹å‡»public lookupï¼Œå¯ä»¥è‡ªåŠ¨å¡«å†™IDå¯¹åº”çš„base64æ ¼å¼ã€‚æˆ–è€…ç”¨è¿™ä¸ªç½‘ç«™å¯ä»¥å°†PSNçš„IDè½¬ç https://psn.flipscreen.games/</li><li>ä»¥åŠpairå¯¹åº”çš„ç å­ï¼Œåœ¨â€œç³»ç»Ÿâ€-&gt;â€œè¿œç¨‹æ¸¸ç©â€-&gt;&quot;é…å¯¹&quot;é‡Œæ‰¾ï¼Œç å­æœ‰æ•ˆ5åˆ†é’Ÿ</li></ol><p>å¦‚æœæ²¡é—®é¢˜ï¼Œå³å¯æ·»åŠ æˆåŠŸï¼Œéšåå³å¯å¼€å§‹ä¸²æµ</p><h3 id="æ³¨æ„">æ³¨æ„</h3><p>chiakiæ˜¯æ”¯æŒdsæ‰‹æŸ„åŸç”Ÿéœ‡åŠ¨çš„ï¼Œä½†éœ€è¦æœ‰çº¿è¿æ¥åˆ°ç”µè„‘ï¼Œå¦‚æœå‘ç°æœ‰çº¿è¿æ¥åè¿˜æ²¡éœ‡åŠ¨ï¼Œå¯ä»¥ä¸‹è½½Playstation accessoriesï¼ˆå®˜æ–¹è½¯ä»¶ï¼‰å¹¶å°†æ‰‹æŸ„é©±åŠ¨æ›´æ–°ï¼Œç†è®ºä¸Šä¸éœ€è¦ä¸€ç›´åå°æ‰“å¼€accessorieså°±å¯ä»¥ç”¨åŸç”Ÿéœ‡åŠ¨ï¼ˆå¦‚æœè½¯ä»¶å…³é—­åŸç”Ÿéœ‡åŠ¨å°±ä¸èƒ½ç”¨ï¼Œå°±ä¸€ç›´æ‰“å¼€accessorieså¥½äº†ï¼‰</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;è¶…ä½æˆæœ¬ps5è¿œç¨‹ä¸²æµ&quot;&gt;è¶…ä½æˆæœ¬PS5è¿œç¨‹ä¸²æµ!&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;æ€è·¯ï¼š&lt;strong&gt;ç½‘ç»œéƒ¨åˆ†&lt;/strong&gt;ä½¿ç”¨zerotieråˆ›å»ºè™šæ‹Ÿå±€åŸŸç½‘ï¼Œè®©PS5åœ¨è™šæ‹Ÿå±€åŸŸç½‘å†…ï¼Œä»è€Œè¢«å…¶å®ƒè®¾å¤‡è®¿é—®ï¼›&lt;strong&gt;æ§åˆ¶éƒ¨åˆ†&lt;/strong&gt;</summary>
      
    
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/categories/%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/tags/%E6%8A%98%E8%85%BE/"/>
    
    <category term="PS5" scheme="https://blog.lthero.cn/tags/PS5/"/>
    
  </entry>
  
  <entry>
    <title>æ”¶é›†è®ºæ–‡ä¸­çš„å¥½è¯­å¥ä¸å›¾è¡¨</title>
    <link href="https://blog.lthero.cn/2024/12/03/SomeGreatSentences/"/>
    <id>https://blog.lthero.cn/2024/12/03/SomeGreatSentences/</id>
    <published>2024-12-03T07:05:01.000Z</published>
    <updated>2025-01-09T14:30:10.186Z</updated>
    
    <content type="html"><![CDATA[<p>1</p><h1 id="sok-watermarking-for-ai-generated-content">SoK: Watermarking for AI-Generated Content</h1><h3 id="ç¬¬ä¸€ç« èŠ‚-introduction">ç¬¬ä¸€ç« èŠ‚ï¼ˆIntroductionï¼‰</h3><blockquote><p>â€œDistinguishing between human-created and AI-generated content is becoming increasingly challenging, necessitating the development of effective techniques to maintain transparency,accountability, and the responsible use of GenAI.â€</p></blockquote><p>åŒºåˆ†äººç±»åˆ›é€ çš„å†…å®¹å’Œäººå·¥æ™ºèƒ½ç”Ÿæˆçš„å†…å®¹æ­£å˜å¾—è¶Šæ¥è¶Šå…·æœ‰æŒ‘æˆ˜æ€§ï¼Œéœ€è¦å¼€å‘æœ‰æ•ˆçš„æŠ€æœ¯æ¥ä¿æŒé€æ˜åº¦ã€é—®è´£åˆ¶å’Œè´Ÿè´£ä»»åœ°ä½¿ç”¨GenAIã€‚</p><blockquote><p>â€œWhile watermarking is not a <strong>silver bullet</strong> for addressing all risks associated with GenAI, it can play a crucial role in enhancing AI safety and trustworthiness by combating misinformation and deception.â€</p></blockquote><p>è™½ç„¶æ°´å°å¹¶ä¸æ˜¯è§£å†³ä¸äººå·¥æ™ºèƒ½ç›¸å…³çš„æ‰€æœ‰é£é™©çš„<strong>çµä¸¹å¦™è¯</strong>ï¼Œä½†å®ƒå¯ä»¥é€šè¿‡æ‰“å‡»é”™è¯¯ä¿¡æ¯å’Œæ¬ºéª—ï¼Œåœ¨æé«˜äººå·¥æ™ºèƒ½çš„å®‰å…¨æ€§å’Œå¯ä¿¡åº¦æ–¹é¢å‘æŒ¥å…³é”®ä½œç”¨ã€‚</p><img src="C:/Users/12904/AppData/Roaming/Typora/typora-user-images/image-20241203151752811.png" alt="image-20241203151752811" style="zoom: 67%;" /><p><strong>é¦–å…ˆ</strong>ï¼ŒæŠ›å‡ºé—®é¢˜ï¼šæˆ‘ä»¬éœ€è¦ä¸€ä¸ªèƒ½åŒºåˆ†AIGCå’Œäººå·¥ç”Ÿæˆå†…å®¹çš„æŠ€æœ¯</p><p><strong>å…¶æ¬¡</strong>ï¼Œè¯´å‡ºç›®å‰ä½¿ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶çªå‡ºå®ƒä»¬çš„ç¼ºç‚¹ï¼›</p><ul><li>å¯èƒ½çš„æ–¹æ¡ˆä¸€ï¼šè®°å½•æ‰€æœ‰AIGCçš„å†…å®¹ï¼›ä½†ç¼ºç‚¹æœ‰ä¸‰ï¼Œ1ã€éœ€è¦å¤§é‡å­˜å‚¨ç©ºé—´ä¸è·¨ç»„ç»‡åè°ƒï¼›2ã€éšç§ä¿æŠ¤é—®é¢˜ï¼›3ã€æ— æ³•åº”ç”¨äºå¼€æºæ¨¡å‹</li><li>å¯èƒ½çš„æ–¹æ¡ˆäºŒï¼šä½¿ç”¨post-hocçš„æ£€æµ‹æ–¹å¼ï¼›é€šè¿‡AIGCçš„ç‰¹å¾æ¥åŒºåˆ†ï¼›ç¼ºç‚¹ï¼Œè¿™ç±»æ£€æµ‹æ–¹å¼æœ‰æ—¶é—´å±€é™æ€§ï¼Œéšç€AIGCæŠ€æœ¯å¿«é€Ÿå‡çº§ï¼Œç”Ÿæˆå†…å®¹ä¸çœŸå®å†…å®¹è¶Šå‘éš¾çš„è¢«åˆ’åˆ†å‡ºæ¥ã€‚</li></ul><p><strong>æœ€å</strong>ï¼ŒæŠ›å‡ºé¢„æœŸçš„è§£å†³æ–¹æ¡ˆï¼šæ°´å°ã€‚</p><ul><li>ä¸å…¶è¢«åŠ¨åœ°å¯¹ç”Ÿæˆå†…å®¹æ£€æµ‹ï¼Œä¸å¦‚â€œä¸»åŠ¨å‡ºå‡»â€</li><li>ä¼˜ç‚¹ï¼šæ°´å°æŠ€æœ¯ä¸å—GenAIæ¨¡å‹ä¸æ–­å‘å±•çš„èƒ½åŠ›çš„é™åˆ¶ï¼Œè€Œæ˜¯æä¾›äº†ä¸€ç§<strong>æ·±æ€ç†Ÿè™‘çš„ã€æŒä¹…çš„</strong>è¯†åˆ«æ‰‹æ®µ</li><li>ä¼˜ç‚¹ï¼šæ°´å°å¯ä»¥åœ¨ä»¥åæ£€æµ‹åˆ°ï¼Œå…è®¸åœ¨<strong>ä¸ä¾èµ–äºå›ºæœ‰æˆ–ç»Ÿè®¡å·®å¼‚çš„æƒ…å†µä¸‹è¿›è¡ŒéªŒè¯</strong>ï¼Œä»è€Œæä¾›äº†ä¸€ç§æ›´æœ‰å¼¹æ€§çš„æ–¹æ³•æ¥åŒºåˆ†æœºå™¨ç”Ÿæˆçš„å†…å®¹å’Œäººç±»å·¥ä½œ</li><li>ä¸Šè¿°ä¸¤ä¸ªä¼˜ç‚¹ï¼Œæ­£å¥½è§£å†³äº†æ–¹æ¡ˆä¸€ä¸æ–¹æ¡ˆäºŒçš„ç¼ºç‚¹</li></ul><blockquote><p>â€œUnlike methods that <strong>passively</strong> attempt to detect incidental differences between human and AI generated content, watermarking involves <strong>actively</strong> embedding an imperceptible signal within GenAI output at the time of its generationâ€</p></blockquote><p>ä¸<strong>è¢«åŠ¨åœ°</strong>å°è¯•æ£€æµ‹äººç±»å’Œäººå·¥ç”Ÿæˆå†…å®¹ä¹‹é—´å¶ç„¶å·®å¼‚çš„æ–¹æ³•ä¸åŒï¼Œæ°´å°æ¶‰åŠåœ¨ç”ŸæˆGenAIè¾“å‡ºæ—¶<strong>ä¸»åŠ¨åµŒå…¥</strong>éš¾ä»¥å¯Ÿè§‰çš„ä¿¡å·ã€‚</p><p>éšåï¼Œå†™ä¸€æ®µæœ¬æ–‡åé¢å‡ ä¸ªç« èŠ‚çš„å·¥ä½œæ€»è§ˆ</p><h3 id="ç¬¬äºŒç« èŠ‚">ç¬¬äºŒç« èŠ‚</h3><p><strong>é¦–å…ˆ</strong>ï¼Œä»‹ç»äº†post-hoc çš„åˆ†ç±»</p><p>1ã€zero-shotæ£€æµ‹ï¼Œæ”¶é›†ç»Ÿè®¡ç‰¹å¾æ¥åˆ¤æ–­ï¼›</p><p>2ã€training-basedæ£€æµ‹ï¼Œä½¿ç”¨â€œåŒ…å«äººç±»ä¸AIGCâ€çš„æ•°æ®é›†è¿›è¡Œè®­ç»ƒï¼›</p><p>post-hocæ£€æµ‹æ–¹æ³•æ‹¥æœ‰è¾ƒå·®çš„æ€§èƒ½ï¼Œæ­¤å¤–å¯¹äºä¸åœ¨æ•°æ®é›†ä¸­çš„æ–°æ¨¡å‹ï¼Œæ­¤æ£€æµ‹æ–¹å¼å³ä¼šå¤±è´¥</p><p><strong>å…¶æ¬¡</strong>ï¼Œç®€å•ä»‹ç»äº†æ°´å°çš„å†å²ä¸åˆ†ç±»ï¼ˆå¯è§ï¼Œä¸å¯è§ï¼‰</p><p><strong>éšå</strong>ï¼Œå¼ºè°ƒGenAIæ—¶ä»£å¯¹æ°´å°çš„æ€¥éœ€æ€§ï¼Œä»ä»¥ä¸‹äº”ç‚¹</p><p>1ã€Combating Misinformation</p><p>åœ¨äººå·¥æ™ºèƒ½ç”Ÿæˆçš„å†…å®¹ä¸­æ·»åŠ æ°´å°å¯ä»¥å¸®åŠ©<strong>è¿½è¸ªä¿¡æ¯æ¥æº</strong>ï¼Œä»è€Œæœ‰åŠ©äºè¯†åˆ«é”™è¯¯ä¿¡æ¯å’Œè™šå‡ä¿¡æ¯ã€‚</p><p>2ã€Enhancing Fraud Detection</p><p>ç”Ÿæˆæ¨¡å‹å¯ä»¥äº§ç”Ÿå®šåˆ¶çš„è¯ˆéª—ä¿¡æ¯ï¼Œä½¿ä¼ ç»Ÿçš„æ£€æµ‹æ–¹æ³•ä¸é‚£ä¹ˆæœ‰æ•ˆã€‚æ°´å°å¯ä»¥åœ¨è¯†åˆ«å’Œå‡è½»è¿™ç§å¤æ‚çš„éª—å±€ä¼å›¾æ–¹é¢å‘æŒ¥å…³é”®ä½œç”¨ï¼ŒåŠ å¼ºåéª—å±€çš„åŠªåŠ›</p><p>3ã€Deterring Academic Dishonesty.</p><p>æ°´å°å¯ä»¥å¸®åŠ©é˜²æ­¢åœ¨ä¸€äº›é¢†åŸŸä½œå¼Šï¼Œæ¯”å¦‚å­¦ç”Ÿè®ºæ–‡ï¼Œåœ¨è¿™äº›é¢†åŸŸéªŒè¯æ–‡æœ¬æ˜¯äººç±»å†™çš„</p><p>4ã€Avoiding Training Data Contamination</p><p>å¦‚æœæ¨¡å‹ä¸ç»æ„åœ°åœ¨å®ƒä»¬è‡ªå·±ç”Ÿæˆçš„è¾“å‡ºä¸Šè¿›è¡Œäº†è®­ç»ƒï¼Œå°±ä¼šå¯¼è‡´â€œæ¨¡å‹å´©æºƒâ€ï¼Œåœ¨é€€åŒ–æ•°æ®ä¸Šè¿›è¡Œè¿­ä»£è®­ç»ƒä¼šé™ä½ç”Ÿæˆå†…å®¹çš„æ•´ä½“è´¨é‡ã€‚æ°´å°å¯ä»¥å¸®åŠ©æ ‡è®°äººå·¥æ™ºèƒ½ç”Ÿæˆçš„å†…å®¹</p><p>5ã€Providing Signatures and Attribution.</p><p>æ°´å°å¯ä»¥ä½œä¸ºç­¾åï¼Œå…è®¸ç”¨æˆ·éªŒè¯å†…å®¹æ˜¯ç”±ç‰¹å®šæ¨¡å‹ç”Ÿæˆçš„ã€‚æ­¤å¤–ï¼Œæ°´å°å¯ä»¥å¸®åŠ©è¯æ˜å½’å› äºæ¨¡å‹çš„æœ‰å®³å†…å®¹æ˜¯å¦çœŸçš„ç”±è¯¥æ¨¡å‹ç”Ÿæˆã€‚</p><p><strong>æœ€å</strong>ï¼Œå¼ºè°ƒäº†æ”¿åºœä¸å·¥ä¸šå±Šçš„æ”¿ç­–</p><p>1ã€æ”¿åºœï¼šåŒ…å«ç¾å›½ã€æ¬§ç›Ÿã€ä¸­å›½ç­‰å›½å®¶å¯¹AIçš„æ³•è§„é™åˆ¶</p><p>2ã€å·¥ä¸šå±Šï¼šC2PAä¸Google SynthID</p><h3 id="ç¬¬ä¸‰ç« èŠ‚-what-s-a-watermark">ç¬¬ä¸‰ç« èŠ‚ï¼ˆWhatâ€™s a Watermarkï¼‰</h3><h4 id="3-1è´¨é‡">3.1è´¨é‡</h4><p><strong>é¦–å…ˆ</strong>ï¼Œä»‹ç»æ°´å°çš„æ„æˆï¼ˆåµŒå…¥&amp;æå–ï¼‰ä¸¤å¤§éƒ¨åˆ†</p><p>è®¾æƒ³ä¸ªåº”ç”¨åœºæ™¯ï¼ˆåœ¨AIGCæ—¶ä»£ï¼‰ï¼Œä½¿ç”¨æ¨¡å‹Må’Œæç¤ºè¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ï€</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ï€</span></span></span></span>ç”Ÿæˆä¸€ä¸ªå†…å®¹<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>ï¼ˆè§†é¢‘ã€éŸ³é¢‘ã€æ–‡æœ¬ã€å›¾åƒï¼‰ï¼Œéšåä½¿ç”¨ä¸€ä¸ªæ°´å°æ¨¡å—<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>m</mi><mi>a</mi><mi>r</mi><msup><mi>k</mi><mi>M</mi></msup><mo stretchy="false">(</mo><mi>Ï€</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Watermark^M(\pi)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ï€</span><span class="mclose">)</span></span></span></span>-&gt;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>è¡¨ç¤ºåœ¨æ°´å°æ¨¡å—ä¸‹ç”Ÿæˆçš„å†…å®¹</p><p>å¹¶æ ¹æ®æ°´å°ç±»å‹ï¼Œåˆ’åˆ†æˆzero-bitæ°´å°ä¸multi-bit æ°´å°($ m \in {0,1} ^k<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">)</mo><mtext>ï¼Œåˆ™æ›´æ–°åçš„æ¼”ç¤ºå…¬å¼æ˜¯</mtext></mrow><annotation encoding="application/x-tex">)ï¼Œåˆ™æ›´æ–°åçš„æ¼”ç¤ºå…¬å¼æ˜¯</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">)</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord cjk_fallback">åˆ™</span><span class="mord cjk_fallback">æ›´</span><span class="mord cjk_fallback">æ–°</span><span class="mord cjk_fallback">å</span><span class="mord cjk_fallback">çš„</span><span class="mord cjk_fallback">æ¼”</span><span class="mord cjk_fallback">ç¤º</span><span class="mord cjk_fallback">å…¬</span><span class="mord cjk_fallback">å¼</span><span class="mord cjk_fallback">æ˜¯</span></span></span></span>Watermark^M(m,\pi)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">-&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span></span></span>x$</p><p>ç›¸åº”çš„ï¼Œè¿˜æœ‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mi>e</mi><mi>t</mi><mi>e</mi><mi>c</mi><mi>t</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Detect(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ°´å°ï¼Œç›¸åº”çš„ä¹Ÿåˆ†æˆäº†</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mi>e</mi><mi>t</mi><mi>e</mi><mi>c</mi><mi>t</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Detect(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> -&gt; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi><mo separator="true">,</mo><mi>f</mi><mi>a</mi><mi>l</mi><mi>s</mi><mi>e</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{true,  false\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mclose">}</span></span></span></span> è¿›è¡Œzero-bitæ°´å°åˆ¤æ–­</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mi>e</mi><mi>t</mi><mi>e</mi><mi>c</mi><mi>t</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Detect(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> -&gt; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">}</mo><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">\{0,1\}^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span> è¿›è¡Œæ°´å°recover</li></ul><p>å¦å¤–ï¼Œè¿˜æœ‰ä¸€ç§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>b</mi><mi>u</mi><mi>t</mi><mi>e</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Attribute(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">t</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">b</span><span class="mord mathdefault">u</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>-&gt; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi><mo separator="true">,</mo><mi>f</mi><mi>a</mi><mi>l</mi><mi>s</mi><mi>e</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{true,  false\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mclose">}</span></span></span></span></p><blockquote><p>Detect is used, for instance, to identify misinformation being spread by malicious users of the model,Attribute is used to accuse the model owner of producing problematic content</p></blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mi>e</mi><mi>t</mi><mi>e</mi><mi>c</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">Detect</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span></span></span></span>ç”¨äºè¯†åˆ«æ¨¡å‹æ¶æ„ç”¨æˆ·ä¼ æ’­çš„é”™è¯¯ä¿¡æ¯ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>b</mi><mi>u</mi><mi>t</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">Attribute</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">t</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">b</span><span class="mord mathdefault">u</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span></span></span></span>ç”¨äºæŒ‡è´£æ¨¡å‹æ‰€æœ‰è€…äº§ç”Ÿæœ‰é—®é¢˜çš„å†…å®¹</p><p><strong>å…¶æ¬¡</strong>ï¼Œä»‹ç»æ°´å°å¯¹è´¨é‡çš„å½±å“</p><p>ç»éªŒè´¨é‡éªŒè¯å’Œå¯è¯æ˜æ€§è´¨é‡éªŒè¯(heuristic versus provable)</p><ul><li><p>heuristicçš„æ›´åå‘äºç»éªŒå‘ï¼Œæ°´å°å¯èƒ½ä¼šä¸¥é‡å½±å“å®éªŒä¸­æœªæ•è·çš„æç¤ºæˆ–ä»»åŠ¡çš„è´¨é‡ã€‚æ­¤å¤–ï¼Œå®éªŒä¸­ä½¿ç”¨çš„è´¨é‡åº¦é‡å¯èƒ½å­˜åœ¨åå·®æˆ–ä¸å¯é ã€‚</p></li><li><p>provableå¯è¯æ˜è´¨é‡æ¦‚å¿µé€‚ç”¨äºä»»ä½•å¯èƒ½çš„æç¤ºï¼Œå¹¶ç¡®ä¿æ°´å°å¼•å…¥çš„ä»»ä½•åå·®æ˜¯æœ‰é™çš„ï¼Œç”šè‡³ä¸å­˜åœ¨ã€‚</p></li></ul><p>å•ååº”å’Œå¤šååº”(single-response versus multi-response)</p><p>ä¸€äº›ä¿è¯ä»…é€‚ç”¨äºæ°´å°æ¨¡å‹çš„å•ä¸ªå“åº”ã€‚ï¼ˆä¾‹å¦‚ï¼Œä¸€äº›ç»éªŒè´¨é‡éªŒè¯æ–¹æ³•ï¼Œä½å¤±çœŸå’Œæ— å¤±çœŸï¼‰</p><p>ä¾‹å¦‚ï¼Œå›¾åƒæ°´å°å¯èƒ½ä¼šå¯¼è‡´æ¨¡å‹<strong>åªè¾“å‡ºç‹—çš„å›¾åƒï¼Œä½†è¿™äº›å›¾åƒè´¨é‡æé«˜</strong>ã€‚è¯¥æ°´å°å°†<strong>æ»¡è¶³å•å“åº”è´¨é‡æ¦‚å¿µ</strong>ï¼Œå› ä¸ºè¿™ç§åå·®åªä¼šå‡ºç°åœ¨å¤šä¸ªå“åº”ä¸­ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œå…¶ä»–æ¦‚å¿µè¡¨æ˜ï¼Œä»»ä½•æ•°é‡çš„æ°´å°å“åº”éƒ½æ˜¯é«˜è´¨é‡çš„ï¼ˆä¾‹å¦‚ï¼Œæ›´å¼ºçš„ç»éªŒè´¨é‡éªŒè¯æ–¹æ³•å’Œä¸å¯æ£€æµ‹æ€§ï¼‰</p><p><strong>ç»éªŒè´¨é‡éªŒè¯</strong>(Empirical Quality Validation)</p><p><strong>ä½¿ç”¨å…¶å®ƒæ¨¡å‹</strong>æ¥ç»™æ°´å°å†…å®¹çš„è´¨é‡è¿›è¡Œæ‰“åˆ†ï¼ˆHPSv2ï¼‰ï¼Œæˆ–è€…<strong>è®©ç”¨æˆ·æ¥æ¯”è¾ƒ</strong>æ°´å°ä¸æ— æ°´å°å†…å®¹çš„è´¨é‡ï¼Œä½†å®é™…ä¸Šï¼Œâ€œç»éªŒè´¨é‡â€å¹¶æ²¡æœ‰å¤§è§„æ¨¡çš„ä½¿ç”¨ï¼Œé™¤äº†SynthID</p><p>SynthIDåœ¨è¯­æ³•ã€ç›¸å…³æ€§ã€æ­£ç¡®æ€§ã€æœ‰ç”¨æ€§å’Œæ•´ä½“è´¨é‡5ä¸ªç±»åˆ«ä¸­ï¼Œä½¿ç”¨äººå·¥è¯„ä»·æ¥è¯„ä»·æ°´å°çš„æ•ˆæœã€‚ä»–ä»¬è¿˜æ ¹æ®ç»éªŒè¯„ä¼°äº†ä»–ä»¬æå‡ºçš„æ–¹æ³•çš„æ£€å‡ºç‡ï¼Œå¹¶è¡¨æ˜å®ƒå…·æœ‰ä½å‡é˜³æ€§ç‡</p><p><strong>ç»éªŒè´¨é‡éªŒè¯</strong>é€šå¸¸ä¸ä¸‹é¢è¯¦ç»†è¯´æ˜çš„<strong>å¯è¯æ˜çš„è´¨é‡éªŒè¯</strong>ä¸€èµ·ä½¿ç”¨ã€‚</p><p>Distortion-free schemes ensure that the quality is preserved for any single  response from the model, but do not guarantee anything about the quality across multiple generations</p><p>æ— å¤±çœŸæ–¹æ¡ˆç¡®ä¿æ¨¡å‹çš„ä»»ä½•å•ä¸ªå“åº”éƒ½èƒ½ä¿æŒè´¨é‡ï¼Œä½†ä¸èƒ½ä¿è¯å¤šä»£çš„è´¨é‡</p><h4 id="3-2-å‡é˜³ç‡">3.2 å‡é˜³ç‡</h4><p>åœ¨æ°´å°æ–¹æ¡ˆä¸­ï¼Œæ£€æµ‹å™¨(Detector)çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§æ˜¯å…·æœ‰è¾ƒä½çš„è¯¯æŠ¥ç‡ï¼ˆfalse positive rate)</p><h4 id="3-3-å‡é˜³ç‡ä¸é²æ£’æ€§">3.3 å‡é˜³ç‡ä¸é²æ£’æ€§</h4><h4 id="3-4-ä¸å¯ä¼ªé€ æ€§-unforgeability">3.4 ä¸å¯ä¼ªé€ æ€§(Unforgeability)</h4><p>ä¸å¯ä¼ªé€ æ€§ä¿è¯äº†æ²¡æœ‰åµŒå…¥å¯†é’¥çš„æ”»å‡»è€…æ— æ³•ç”Ÿæˆçœ‹ä¼¼å¸¦æœ‰æ°´å°çš„å†…å®¹ï¼Œé™¤éæ˜¯å®Œå…¨å¤åˆ¶æ°´å°æ¨¡å‹çš„è¾“å‡ºå†…å®¹ã€‚</p><p><strong>ç‰¹æ€§</strong>ï¼šç¡®ä¿åªæœ‰æ‹¥æœ‰<strong>ç”Ÿæˆå¯†é’¥</strong>æˆ–<strong>åµŒå…¥å¯†é’¥</strong>çš„äººæ‰èƒ½åµŒå…¥æœ‰æ•ˆçš„æ°´å°ã€‚</p><p><strong>å®‰å…¨æ€§</strong>ï¼šé˜²æ­¢æ”»å‡»è€…ä¼ªé€ æ°´å°å†…å®¹ï¼Œè¯¯å¯¼ä»–äººè®¤ä¸º<strong>æŸå†…å®¹æ¥è‡ªç‰¹å®šæ¨¡å‹</strong>ã€‚</p><p><strong>å®é™…æ„ä¹‰</strong>ï¼š</p><ul><li>ä¸€ä¸ªå¥å…¨çš„æ°´å°æ–¹æ¡ˆå¿…é¡»ç¡®ä¿æ”»å‡»è€…åœ¨æ²¡æœ‰åµŒå…¥å¯†é’¥çš„æƒ…å†µä¸‹ï¼Œéš¾ä»¥ä¼ªé€ å¸¦æ°´å°çš„è¾“å‡ºã€‚</li><li>è¿™ä¸€ç‰¹æ€§ä¸ºæ°´å°ç³»ç»Ÿå¢åŠ äº†ä¸€å±‚å¯ä¿¡åº¦ï¼Œå°¤å…¶æ˜¯åœ¨æ¶‰åŠè´£ä»»è¿½ç©¶å’Œæ³•å¾‹å½±å“çš„åœºæ™¯ä¸­ã€‚</li></ul><blockquote><p>ä¼ªé€ æ”»å‡»é—®é¢˜ï¼šå¦‚æœæ”»å‡»ç€æ‹¿ç€åˆ«äººç”Ÿæˆçš„å›¾Aï¼Œè¿›è¡Œé€†å‘åå¾—åˆ°åˆå§‹å™ªå£°ï¼Œå†ç”Ÿæˆä¸€å¼ æœ‰å®³å›¾B</p></blockquote><p>è§£å†³æ–¹æ¡ˆï¼šå¯ä»¥é€šè¿‡C2PAè§£å†³ï¼Œå‡å¦‚å›¾Açš„æ°´å°å†…å®¹(C2PAå‡­è¯)å·²ç»è®°å½•äº†å›¾Açš„æç¤ºè¯ï¼Œå“ªæ€•é€šè¿‡å›¾Bæå–å‡ºäº†æ°´å°ï¼ˆå³C2PAå‡­è¯ï¼‰ï¼Œå¯ä»¥é€šè¿‡æç¤ºè¯çš„æ¯”å¯¹ï¼Œç®€å•åˆ¤æ–­å‡ºå›¾Bçš„å†…å®¹ä¸C2PAä¸­çš„ä¸åŒ¹é…ï¼Œè¯´æ˜å›¾åƒé­åˆ°äº†æ”»å‡»ã€‚</p><p>åœ¨æ°´å°çš„è®¾è®¡ä¸­ï¼Œ<strong>Attributeï¼ˆå½’å› ï¼‰<strong>ä¸</strong>Detectï¼ˆæ£€æµ‹ï¼‰<strong>æ˜¯ä¸¤ä¸ªå…³é”®çš„åŠŸèƒ½æ¨¡å—ï¼Œåˆ†åˆ«å¯¹åº”ä¸åŒçš„åº”ç”¨éœ€æ±‚å’Œå®‰å…¨æ€§ç›®æ ‡ã€‚ä»¥ä¸‹æ˜¯å¯¹ä¸¤è€…åŒºåˆ«çš„è¯¦ç»†è¯´æ˜ï¼Œå°¤å…¶æ˜¯</strong>Attribute</strong>çš„åŠŸèƒ½å’Œé‡è¦æ€§ï¼š</p><h5 id="attribute-å½’å› ">Attributeï¼ˆå½’å› ï¼‰</h5><ol><li><p><strong>æ ¸å¿ƒç›®æ ‡</strong>ï¼š<br><strong>å½’å› </strong>çš„æ ¸å¿ƒç›®æ ‡æ˜¯ç¡®å®šæŸä¸ªå†…å®¹æ˜¯å¦æ¥è‡ªä¸€ä¸ªç‰¹å®šçš„æ°´å°æ¨¡å‹ã€‚æ¢å¥è¯è¯´ï¼ŒAttributeåŠŸèƒ½ç”¨äºå¯¹å†…å®¹çš„æ¥æºè¿›è¡Œå¯é çš„è¿½æº¯å’Œè´£ä»»åˆ’åˆ†ã€‚</p></li><li><p><strong>å±æ€§ç‰¹ç‚¹</strong>ï¼š</p><ul><li><strong>ä¸å¯ä¼ªé€ æ€§ï¼ˆUnforgeabilityï¼‰</strong>ï¼š<br>å½’å› åŠŸèƒ½éœ€è¦ç¡®ä¿æ”»å‡»è€…åœ¨ä¸çŸ¥é“å½’å› å¯†é’¥ï¼ˆAttribute Key, (ak)ï¼‰çš„æƒ…å†µä¸‹ï¼Œ<strong>æ— æ³•ç”Ÿæˆå¸¦æœ‰æœ‰æ•ˆæ°´å°ä½†ä¸å±äºæ¨¡å‹çœŸå®è¾“å‡ºçš„å†…å®¹</strong>ã€‚è¿™ç§ä¸å¯ä¼ªé€ æ€§å¯¹äºè¿½è´£è‡³å…³é‡è¦ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦è¯æ˜æŸæ¨¡å‹ç”Ÿæˆäº†æœ‰å®³å†…å®¹æ—¶ã€‚</li><li><strong>ç‹¬ç«‹æ€§</strong>ï¼š<br>å½’å› ç®—æ³•åŠå…¶å¯†é’¥ (ak) æ˜¯ç‹¬ç«‹äºæ£€æµ‹åŠŸèƒ½çš„ï¼Œé¿å…äº†å½’å› å’Œæ£€æµ‹çš„ç›®æ ‡ç›¸äº’å¹²æ‰°ã€‚å½’å› çš„é‡ç‚¹åœ¨äºç²¾ç¡®æ€§å’Œä¸å¯ä¼ªé€ æ€§ï¼Œè€Œéé²æ£’æ€§ã€‚</li><li><strong>å…¬å¼€æ€§é€‰é¡¹</strong>ï¼š<br>åœ¨ä¸€äº›æ–¹æ¡ˆä¸­ï¼Œå¯ä»¥å…¬å¼€å½’å› å¯†é’¥ (ak) è€Œä¸å½±å“ä¸å¯ä¼ªé€ æ€§ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨æ•°å­—ç­¾åæŠ€æœ¯ï¼Œå¯ä»¥å…è®¸ä»»ä½•äººéªŒè¯å†…å®¹æ˜¯å¦æ¥è‡ªæŸæ¨¡å‹ï¼Œä½†æ— æ³•ä¼ªé€ è¿™ç§å†…å®¹ã€‚</li></ul></li><li><p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š</p><ul><li><strong>è´£ä»»è¿½æº¯</strong>ï¼š<br>å¦‚æœéœ€è¦å¯¹æ¨¡å‹ç”Ÿæˆçš„æœ‰å®³å†…å®¹è¿½è´£ï¼Œä¾‹å¦‚è¯æ˜æŸæ¨¡å‹è¾“å‡ºäº†è™šå‡æˆ–è¯¯å¯¼æ€§ä¿¡æ¯ï¼Œå½’å› åŠŸèƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚</li><li><strong>æ³•å¾‹å’Œä¼¦ç†ä¿éšœ</strong>ï¼š<br>å½“æ°´å°æ–¹æ¡ˆæ¶‰åŠæ•æ„Ÿå†…å®¹æ—¶ï¼Œå½’å› åŠŸèƒ½å¯ä»¥ä¸ºæ¨¡å‹çš„ä½¿ç”¨è€…æˆ–å¼€å‘è€…æä¾›æ˜ç¡®çš„è´£ä»»ç•Œå®šã€‚</li></ul></li></ol><p>å¯¹äºå¹³å°æ¥è¯´ï¼Œå¦‚æœæœ‰äººæƒ³è¯¬é™·æŸç§æœ‰å®³å†…å®¹ï¼ˆå‡è®¾æ˜¯ä¸ªå›¾ç‰‡Aï¼‰æ˜¯ä½¿ç”¨åä¸ºçš„æ¨¡å‹ç”Ÿæˆçš„ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯¹å›¾ç‰‡Aè¿›è¡Œå½’å› ï¼Œå¦‚æœèƒ½è§£å‡ºæ¥å®ƒçš„å¯†é’¥ï¼Œåˆ™ç¡®å®æ˜¯åä¸ºæ¨¡å‹ç”Ÿæˆçš„ï¼›å¦åˆ™ï¼Œå°±æ–­å®šä¸æ˜¯åä¸ºæ¨¡å‹ç”Ÿæˆçš„ï¼Œæ‰€ä»¥<strong>å½’å› çš„é‡ç‚¹åœ¨äºç²¾ç¡®æ€§å’Œä¸å¯ä¼ªé€ æ€§</strong></p><h5 id="detect-æ£€æµ‹">Detectï¼ˆæ£€æµ‹ï¼‰</h5><ol><li><p><strong>æ ¸å¿ƒç›®æ ‡</strong>ï¼š<br><strong>æ£€æµ‹</strong>åŠŸèƒ½çš„ç›®æ ‡æ˜¯ç¡®è®¤æŸä¸ªå†…å®¹æ˜¯å¦åŒ…å«æ°´å°ï¼Œè€Œä¸å…³å¿ƒå†…å®¹çš„å…·ä½“æ¥æºã€‚å®ƒé€šå¸¸è¢«è®¾è®¡ä¸º<strong>é²æ£’</strong>çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿å†…å®¹ç»è¿‡ä¸€å®šç¨‹åº¦çš„ä¿®æ”¹ï¼ˆå¦‚å°å¹…ç¯¡æ”¹æˆ–å™ªå£°æ·»åŠ ï¼‰ï¼Œæ£€æµ‹åŠŸèƒ½ä»ç„¶å¯ä»¥è¯†åˆ«å‡ºæ°´å°çš„å­˜åœ¨ã€‚</p></li><li><p><strong>å±æ€§ç‰¹ç‚¹</strong>ï¼š</p><ul><li><strong>é²æ£’æ€§ï¼ˆRobustnessï¼‰</strong>ï¼š<br>æ£€æµ‹åŠŸèƒ½å¼ºè°ƒåœ¨å†…å®¹è¢«è½»å¾®ä¿®æ”¹åï¼Œä»ç„¶èƒ½å¤Ÿè¯†åˆ«æ°´å°çš„èƒ½åŠ›ã€‚è¿™å¯¹é˜²æ­¢ç®€å•çš„æ”»å‡»å’Œç¯¡æ”¹å¾ˆé‡è¦ã€‚</li><li><strong>ä½è¯¯æŠ¥ç‡</strong>ï¼š<br>æ£€æµ‹éœ€è¦ç¡®ä¿å°½é‡å‡å°‘è¯¯æŠ¥ï¼ˆéæ°´å°å†…å®¹è¢«åˆ¤å®šä¸ºæœ‰æ°´å°ï¼‰å’Œæ¼æŠ¥ï¼ˆæœ‰æ°´å°å†…å®¹è¢«åˆ¤å®šä¸ºæ²¡æœ‰æ°´å°ï¼‰ã€‚</li></ul></li><li><p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š</p><ul><li><strong>å†…å®¹ç­›é€‰</strong>ï¼š<br>åœ¨å¤§è§„æ¨¡å†…å®¹åˆ†å‘ä¸­ï¼Œå¯ä»¥å¿«é€Ÿæ£€æµ‹å†…å®¹æ˜¯å¦å¸¦æœ‰æ°´å°ï¼Œä»è€Œå†³å®šæ˜¯å¦è¿›ä¸€æ­¥å¤„ç†ã€‚</li><li><strong>ç‰ˆæƒä¿æŠ¤</strong>ï¼š<br>ç”¨äºæ£€æŸ¥å†…å®¹æ˜¯å¦å±äºæŸæ°´å°æ¨¡å‹çš„è¾“å‡ºï¼Œä½†é€šå¸¸ä¸è¿½æº¯å…·ä½“çš„ç”Ÿæˆè´£ä»»ã€‚</li></ul></li></ol><h5 id="å½’å› ä¸æ£€æµ‹çš„ä¸»è¦åŒºåˆ«">å½’å› ä¸æ£€æµ‹çš„ä¸»è¦åŒºåˆ«</h5><table><thead><tr><th>ç‰¹æ€§</th><th><strong>Attributeï¼ˆå½’å› ï¼‰</strong></th><th><strong>Detectï¼ˆæ£€æµ‹ï¼‰</strong></th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒç›®æ ‡</strong></td><td>ç¡®å®šå†…å®¹æ¥æºï¼Œè¿½æº¯è´£ä»»</td><td>ç¡®è®¤å†…å®¹æ˜¯å¦å¸¦æœ‰æ°´å°</td></tr><tr><td><strong>å®‰å…¨æ€§éœ€æ±‚</strong></td><td>å¼ºè°ƒä¸å¯ä¼ªé€ æ€§</td><td>å¼ºè°ƒé²æ£’æ€§</td></tr><tr><td><strong>å¯†é’¥çš„ä½¿ç”¨</strong></td><td>ä½¿ç”¨å½’å› å¯†é’¥ï¼ˆAttribute Key, (ak)ï¼‰</td><td>ä½¿ç”¨æ£€æµ‹å¯†é’¥ï¼ˆDetect Key, (dtk)ï¼‰</td></tr><tr><td><strong>æ˜¯å¦å…è®¸å…¬å¼€å¯†é’¥</strong></td><td>å¯ä»¥å…¬å¼€ (ak)ï¼Œå‰ææ˜¯ä¿éšœä¸å¯ä¼ªé€ æ€§</td><td>å…¬å¼€ (dtk) å¯èƒ½å½±å“é²æ£’æ€§</td></tr><tr><td><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong></td><td>å†…å®¹å½’å› ã€è´£ä»»åˆ’åˆ†ã€æ³•å¾‹è¯æ˜</td><td>å¿«é€Ÿæ£€æµ‹ã€ç­›é€‰å†…å®¹ã€ç‰ˆæƒä¿æŠ¤</td></tr></tbody></table><p>å½’å› åŠŸèƒ½ï¼ˆAttributeï¼‰æ˜¯æ°´å°æ–¹æ¡ˆä¸­å®ç°<strong>ä¸å¯ä¼ªé€ æ€§</strong>çš„å…³é”®éƒ¨åˆ†ï¼Œæ—¨åœ¨æä¾›ä¸€ç§å¯é çš„æ–¹æ³•æ¥<strong>è¿½æº¯</strong>å†…å®¹æ¥æºå¹¶åˆ’åˆ†ç”Ÿæˆè´£ä»»ã€‚å®ƒçš„ç‹¬ç‰¹æ€§åœ¨äºï¼Œèƒ½å¤Ÿç¡®ä¿å³ä½¿æ”»å‡»è€…æœ‰æ„å°è¯•ï¼Œä¹Ÿæ— æ³•ä¼ªé€ æœ‰æ•ˆçš„å½’å› å†…å®¹ã€‚è¿™ç§ç‰¹æ€§ä½¿å½’å› åŠŸèƒ½åœ¨æ•æ„Ÿåœºæ™¯ï¼ˆå¦‚æ³•å¾‹è¯‰è®¼ã€å†…å®¹å½’è´£ï¼‰ä¸­æä¸ºé‡è¦ã€‚ä¸ä¹‹ç›¸å¯¹ï¼Œæ£€æµ‹åŠŸèƒ½æ›´åå‘äºåº”ç”¨å±‚é¢çš„æ°´å°å­˜åœ¨æ€§éªŒè¯ï¼Œå…¶æ ¸å¿ƒæ˜¯é²æ£’æ€§å’Œæ•ˆç‡ã€‚</p><p>æˆ‘ä»¬å¾—æ˜ç¡®æ°´å°çš„ç›®æ ‡ï¼Œæº¯æºæœ¬è´¨æ˜¯ä¸€ç§å½’å› ï¼Œè¦å¼ºè°ƒä¸å¯ä¼ªé€ æ€§</p><p>1ã€æœ‰äººç”¨åä¸ºæ¨¡å‹ç”Ÿæˆæœ‰å®³å†…å®¹ï¼Œéœ€è¦æº¯æºåˆ°ç”¨æˆ·ï¼Œéœ€è¦â€œå½’å› â€ï¼Œæ­¤æ—¶ä¸éœ€è¦æœ‰å¼ºé²æ£’æ€§</p><p>2ã€æœ‰äººæƒ³ç”¨æœ‰å®³å†…å®¹è¯¬é™·åä¸ºï¼Œéœ€è¦ä¸å¯ä¼ªé€ æ€§æ¥è¯æ˜ï¼Œè¯¥å†…å®¹ä¸æ˜¯åä¸ºç”Ÿæˆçš„ï¼Œéœ€è¦â€œå½’å› â€ï¼Œæ­¤æ—¶ä¸éœ€è¦æœ‰å¼ºé²æ£’æ€§</p><p>3ã€å¦‚æœéœ€è¦åˆ¤æ–­æŸä¸ªå†…å®¹æ˜¯å¦æ˜¯AIç”Ÿæˆï¼Œå¯ä»¥ç”¨â€œæ£€æµ‹â€ï¼Œéœ€è¦æœ‰å¼ºé²æ£’æ€§</p><p>**å½’å› ï¼ˆAttributeï¼‰<strong>å’Œ</strong>æ£€æµ‹ï¼ˆDetectï¼‰**çœ‹ä¼¼åœ¨åŠŸèƒ½ä¸Šæœ‰ä¸€å®šé‡å ï¼Œä½†å®ƒä»¬çš„ç›®æ ‡å’Œè®¾è®¡ä¾§é‡ç‚¹ä¸åŒï¼š</p><ol><li><p><strong>å½’å› ç¡®å®èƒ½å®Œæˆæ£€æµ‹</strong>ï¼š<br>å½’å› åŠŸèƒ½æœ¬è´¨ä¸ŠåŒ…å«äº†â€œæ£€æµ‹æ˜¯å¦å¸¦æœ‰æ°´å°â€çš„èƒ½åŠ›ã€‚æ—¢ç„¶å®ƒèƒ½åˆ¤æ–­æŸä¸ªå†…å®¹æ˜¯å¦æ¥è‡ªç‰¹å®šæ¨¡å‹ï¼Œé‚£ä¹ˆå®ƒè‡ªç„¶ä¹Ÿèƒ½åˆ¤æ–­å†…å®¹æ˜¯å¦åŒ…å«æ°´å°ã€‚ç„¶è€Œï¼Œå½’å› å¼ºè°ƒçš„æ˜¯<strong>ä¸å¯ä¼ªé€ æ€§</strong>ï¼Œå› æ­¤å®ƒå¯ä»¥ç‰ºç‰²ä¸€äº›å¯¹é²æ£’æ€§çš„éœ€æ±‚ã€‚</p></li><li><p><strong>æ£€æµ‹ä¸“æ³¨äºé²æ£’æ€§</strong>ï¼š<br>æ£€æµ‹çš„ç›®æ ‡æ˜¯å³ä¾¿å†…å®¹è¢«ç¯¡æ”¹ï¼ˆå¦‚æ·»åŠ å™ªå£°ã€è°ƒæ•´æ ¼å¼ï¼‰ï¼Œä»ç„¶èƒ½å¤Ÿè¯†åˆ«å‡ºæ°´å°å­˜åœ¨ã€‚è¿™ç§é²æ£’æ€§ä½¿å¾—æ£€æµ‹åŠŸèƒ½åœ¨ç‰ˆæƒä¿æŠ¤å’Œå†…å®¹ç­›é€‰ç­‰åœºæ™¯ä¸­éå¸¸é«˜æ•ˆã€‚</p></li></ol><hr><h5 id="åŒæ—¶æ»¡è¶³å½’å› å’Œæ£€æµ‹çš„éœ€æ±‚">åŒæ—¶æ»¡è¶³å½’å› å’Œæ£€æµ‹çš„éœ€æ±‚</h5><p>æ˜¯çš„ï¼Œå¯ä»¥è®¾è®¡ä¸€ç§æ··åˆæ–¹æ¡ˆï¼Œæ»¡è¶³ä¸¤è€…çš„éœ€æ±‚ã€‚å…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š</p><h6 id="åˆ†ç¦»å¯†é’¥å’Œç®—æ³•">åˆ†ç¦»å¯†é’¥å’Œç®—æ³•</h6><p>å¯ä»¥å°†å½’å› å’Œæ£€æµ‹åˆ†å¼€è®¾è®¡ï¼Œä½†åœ¨æ°´å°ç”Ÿæˆæ—¶ç»Ÿä¸€å®ç°ã€‚è¿™æ ·åœ¨æ£€æµ‹å’Œå½’å› æ—¶å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©ä¸åŒçš„ç®—æ³•å’Œå¯†é’¥ï¼š</p><ul><li><strong>å½’å› ç®—æ³•ä¸å¯†é’¥ï¼ˆAttribute and (ak)</strong>ï¼‰ï¼š<ul><li>å¼ºè°ƒä¸å¯ä¼ªé€ æ€§ï¼Œç¡®ä¿å†…å®¹æ¥æºå¯é ã€‚</li><li>å¯ä»¥è®¾è®¡ä¸ºæ›´ä¸¥æ ¼ï¼Œä½†å…è®¸ç‰ºç‰²é²æ£’æ€§ã€‚</li></ul></li><li><strong>æ£€æµ‹ç®—æ³•ä¸å¯†é’¥ï¼ˆDetect and (dtk)</strong>ï¼‰ï¼š<ul><li>å¼ºè°ƒé²æ£’æ€§ï¼Œç¡®ä¿å³ä½¿å†…å®¹è¢«ä¿®æ”¹ä¹Ÿèƒ½æ£€æµ‹å‡ºæ°´å°ã€‚</li><li>å…è®¸æ›´å®½æ¾çš„éªŒè¯æ¡ä»¶ã€‚</li></ul></li></ul><p>é€šè¿‡è¿™ç§è®¾è®¡ï¼Œå½’å› å’Œæ£€æµ‹å¯ä»¥åŸºäºåŒä¸€ä¸ªæ°´å°ç”Ÿæˆç®—æ³•ï¼Œä½†åœ¨å®é™…ä½¿ç”¨æ—¶æ ¹æ®éœ€æ±‚åˆ†åˆ«è°ƒç”¨ä¸åŒçš„åŠŸèƒ½ã€‚</p><hr><h6 id="ç»Ÿä¸€çš„æ°´å°ç”Ÿæˆæœºåˆ¶-åˆ†å±‚æ¬¡éœ€æ±‚æ»¡è¶³">ç»Ÿä¸€çš„æ°´å°ç”Ÿæˆæœºåˆ¶ï¼Œåˆ†å±‚æ¬¡éœ€æ±‚æ»¡è¶³</h6><p>è®¾è®¡ä¸€ä¸ªåŒæ—¶æ”¯æŒå½’å› å’Œæ£€æµ‹çš„æ°´å°æ–¹æ¡ˆï¼Œå…è®¸åœ¨ä¸åŒåœºæ™¯ä¸‹æƒè¡¡ä¸¤è€…ï¼š</p><ol><li><p><strong>æ°´å°ç”Ÿæˆé˜¶æ®µ</strong>ï¼š</p><ul><li>ä½¿ç”¨å•ä¸€ç®—æ³•ç”Ÿæˆæ°´å°ï¼Œæ°´å°ä¸­åŒ…å«æ—¢å¯ä¾›æ£€æµ‹çš„é²æ£’éƒ¨åˆ†ï¼ŒåˆåŒ…å«å½’å› æ‰€éœ€çš„ä¸å¯ä¼ªé€ éƒ¨åˆ†ã€‚</li><li>ä¾‹å¦‚ï¼ŒåŸºäº<strong>åŠ å¯†ç­¾å</strong>çš„æ–¹æ³•ï¼Œç”Ÿæˆçš„æ°´å°æ—¢åŒ…å«å…¬å¼€æ£€æµ‹çš„ä¿¡æ¯ï¼Œä¹ŸåŒ…å«åªæœ‰æŒæœ‰ç§å¯†å¯†é’¥æ‰èƒ½éªŒè¯çš„å½’å› ä¿¡æ¯ã€‚</li></ul></li><li><p><strong>æ£€æµ‹é˜¶æ®µ</strong>ï¼š</p><ul><li>ä½¿ç”¨æ£€æµ‹å¯†é’¥ (dtk) å¿«é€ŸéªŒè¯æ°´å°æ˜¯å¦å­˜åœ¨ã€‚</li><li>é‡ç‚¹åœ¨äºæ•ˆç‡å’Œé²æ£’æ€§ï¼Œé€‚åˆå¤§è§„æ¨¡å†…å®¹ç­›é€‰ã€‚</li></ul></li><li><p><strong>å½’å› é˜¶æ®µ</strong>ï¼š</p><ul><li>ä½¿ç”¨å½’å› å¯†é’¥ (ak) è¿›ä¸€æ­¥éªŒè¯å†…å®¹æ¥æºã€‚</li><li>é‡ç‚¹åœ¨äºä¸å¯ä¼ªé€ æ€§ï¼Œé€‚åˆå°èŒƒå›´é«˜ç²¾åº¦åˆ†æã€‚</li></ul></li></ol><hr><h6 id="åŠ¨æ€æ°´å°åˆ‡æ¢">åŠ¨æ€æ°´å°åˆ‡æ¢</h6><p>ç°ä»£æ°´å°ç®—æ³•å¯ä»¥æ ¹æ®åº”ç”¨åœºæ™¯åŠ¨æ€é€‰æ‹©åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼š</p><ul><li>åœ¨å¸¸è§„å†…å®¹ç­›é€‰ä¸­ï¼Œä½¿ç”¨é²æ£’çš„æ£€æµ‹ç®—æ³•ã€‚</li><li>å½“éœ€è¦è¿½æº¯è´£ä»»æ—¶ï¼Œå†åˆ‡æ¢åˆ°ä¸¥æ ¼çš„å½’å› ç®—æ³•ã€‚</li></ul><p>è¿™æ ·çš„åŠ¨æ€åˆ‡æ¢å¯ä»¥é€šè¿‡<strong>å¯†é’¥åˆ†çº§</strong>å’Œ<strong>ç®—æ³•æ¨¡å—åŒ–</strong>å®ç°ï¼Œç¡®ä¿å½’å› å’Œæ£€æµ‹åœ¨åŒä¸€ä¸ªæ°´å°ç³»ç»Ÿä¸­å…±å­˜ä¸”é«˜æ•ˆã€‚</p><hr><h6 id="å°ç»“">å°ç»“</h6><p>å½’å› å’Œæ£€æµ‹è™½ç„¶ç›®æ ‡ä¸åŒï¼Œä½†å®ƒä»¬å¯ä»¥é€šè¿‡ç»Ÿä¸€çš„æ°´å°ç”Ÿæˆæœºåˆ¶ã€åˆ†ç¦»çš„å¯†é’¥å’Œç®—æ³•å®ç°å…±å­˜ã€‚å…·ä½“æ¥è¯´ï¼š</p><ul><li>æ£€æµ‹æ»¡è¶³æ•ˆç‡å’Œé²æ£’æ€§éœ€æ±‚ã€‚</li><li>å½’å› æ»¡è¶³ä¸å¯ä¼ªé€ æ€§éœ€æ±‚ã€‚<br>é€šè¿‡åˆ†å±‚è®¾è®¡ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªç³»ç»Ÿä¸­åŒæ—¶å®ç°å½’å› å’Œæ£€æµ‹çš„éœ€æ±‚ï¼Œé€‚åº”ä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚</li></ul><h4 id="3-5-åµŒå…¥-æ¶ˆæ¯">3.5 åµŒå…¥â€œæ¶ˆæ¯â€</h4><p>æŒ‡åµŒå…¥ç”¨æˆ·ä¿¡æ¯ï¼Œæ¨¡å‹ä¿¡æ¯ï¼Œæç¤ºè¯ï¼Œç”Ÿæˆæ—¶é—´ç­‰è¿™ç§å®šåˆ¶åŒ–å†…å®¹ï¼Œç±»ä¼¼äºC2PA</p><h4 id="3-6-é«˜æ•ˆè®¡ç®—">3.6 é«˜æ•ˆè®¡ç®—</h4><p>å¸¦æ°´å°çš„ç”Ÿæˆè¿‡ç¨‹åº”è¯¥æ–½åŠ æœ€å°çš„è®¡ç®—å¼€é”€ï¼Œç¡®ä¿åœ¨è®¡ç®—ã€å†…å­˜ä½¿ç”¨å’Œååé‡æ–¹é¢ï¼Œè®¡ç®—æ•ˆç‡ä¸æœªå¸¦æ°´å°çš„ç”Ÿæˆè¿‡ç¨‹ç›¸å½“ã€‚æ˜¾è‘—çš„è®¡ç®—å¤æ‚æ€§ä¼šé˜»ç¢ç°å®ä¸–ç•Œçš„éƒ¨ç½²ï¼Œä½¿æ¨¡å‹å¯¹å®é™…åº”ç”¨ä¸é‚£ä¹ˆæœ‰å¸å¼•åŠ›ã€‚</p><p>æ£€æµ‹ã€è§£ç å’Œå½’å› çš„è®¡ç®—éœ€æ±‚ä¹Ÿåº”ä¿æŒåœ¨æœ€ä½é™åº¦ã€‚</p><h3 id="ç¬¬å››ç« èŠ‚-threat-models">ç¬¬å››ç« èŠ‚ ï¼ˆThreat Modelsï¼‰</h3><p>ä»‹ç»äº†ä¸€äº›æ”»å‡»æ–¹å¼</p><p>1ã€æ°´å°å»é™¤</p><p>2ã€ä¼ªé€ æ°´å°</p><p>æ”»å‡»è€…è¯•å›¾åˆ›å»ºè¢«é”™è¯¯åœ°åˆ†ç±»ä¸ºæ°´å°çš„å†…å®¹ï¼Œå°½ç®¡æ²¡æœ‰è¢«æŒ‡å®šçš„æ°´å°æ–¹æ¡ˆå¤„ç†ï¼Œä»è€Œå®ç°ä¸€äº›è¯¬é™·ï¼ˆå‚è€ƒç¬¬ä¸‰ç« èŠ‚çš„ä¸å¯ä¼ªé€ æ€§ï¼‰</p><p>3ã€ç§˜å¯†ä¿¡æ¯æå–</p><p>æ›´é«˜çº§çš„å¯¹æŠ—ç›®æ ‡<strong>æ˜¯æå–æ°´å°æ–¹æ¡ˆä¸­ä½¿ç”¨çš„å¯†é’¥</strong>ã€‚è¿™ç§æ”»å‡»æ¯”ç§»é™¤æˆ–é”»é€ æ”»å‡»è¦å›°éš¾å¾—å¤šã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¦‚æœæ”»å‡»è€…æˆåŠŸåœ°æå–äº†å¯†é’¥ï¼Œä»–ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°åˆ é™¤æˆ–ä¼ªé€ æ°´å°ã€‚ç„¶è€Œï¼Œé‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œæå–å¯†é’¥å¹¶ä¸æ˜¯æ‰§è¡Œåˆ é™¤æˆ–ä¼ªé€ æ”»å‡»çš„å…ˆå†³æ¡ä»¶</p><h1 id="phoneme-level-feature-discrepancies-a-key-to-detecting-sophisticated-speech-deepfakes">Phoneme-Level Feature Discrepancies: A Key to Detecting Sophisticated Speech Deepfakes</h1><p>Speech deep fakes are synthetic recordings that closely mimic a personâ€™s speech, making it challenging to verify the authenticity of information (Tan et al. 2024)</p><p>Advancements in deep learning technologies for generating realistic speech have made it increasingly difficult to detect these forgeries with conventional methods (Zhang et al. 2024).</p><p>2024å¹´çš„è®ºæ–‡ï¼Œè®²éŸ³é¢‘å¯ä»¥æ¨¡ä»¿äººç±»éŸ³é¢‘çš„é£é™©</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1&lt;/p&gt;
&lt;h1 id=&quot;sok-watermarking-for-ai-generated-content&quot;&gt;SoK: Watermarking for AI-Generated Content&lt;/h1&gt;
&lt;h3 id=&quot;ç¬¬ä¸€ç« èŠ‚-introduction&quot;&gt;ç¬¬ä¸€ç« èŠ‚ï¼ˆ</summary>
      
    
    
    
    <category term="AIGC" scheme="https://blog.lthero.cn/categories/AIGC/"/>
    
    
    <category term="AIGC" scheme="https://blog.lthero.cn/tags/AIGC/"/>
    
  </entry>
  
  <entry>
    <title>ã€Walloså®‰è£…ã€‘è®¢é˜…æœåŠ¡ç»Ÿè®¡</title>
    <link href="https://blog.lthero.cn/2024/12/01/InstallWallo/"/>
    <id>https://blog.lthero.cn/2024/12/01/InstallWallo/</id>
    <published>2024-12-01T13:31:20.000Z</published>
    <updated>2024-12-01T15:02:12.206Z</updated>
    
    <content type="html"><![CDATA[<h1 id="wallos">Wallos</h1><blockquote><p>æä¾›è®¢é˜…æœåŠ¡çš„ç»Ÿè®¡</p></blockquote><h1 id="é¡¹ç›®å®‰è£…">é¡¹ç›®å®‰è£…</h1><p>åˆ›å»ºç›®å½•ï¼Œä¸ºäº†å°†æ•°æ®åº“é•¿æœŸä¿å­˜åœ¨æœ¬åœ°</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> wallos</span><br></pre></td></tr></table></figure><p>docker composeæ–‡ä»¶</p><p>æ ¹æ®å®é™…éœ€æ±‚ï¼Œä¿®æ”¹æ˜ å°„ç«¯å£ç­‰ï¼Œå¦‚æ˜ å°„åˆ°å®¿ä¸»æœºçš„3001ç«¯å£</p><p>vim docker-compose.yml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">services:</span><br><span class="line">  wallos:</span><br><span class="line">    container_name: wallos</span><br><span class="line">    image: bellamy/wallos:latest</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;8282:80/tcp&quot;</span><br><span class="line">    environment:</span><br><span class="line">      TZ: &#x27;America/Toronto&#x27;</span><br><span class="line">    # Volumes store your data between container upgrades</span><br><span class="line">    volumes:</span><br><span class="line">      - &#x27;./db:/var/www/html/db&#x27;</span><br><span class="line">      - &#x27;./logos:/var/www/html/images/uploads/logos&#x27;</span><br><span class="line">    restart: unless-stopped</span><br></pre></td></tr></table></figure><p>è¿è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose up -d</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨httpè®¿é—®">ä½¿ç”¨HTTPè®¿é—®</h1><p>è¦å°†è¿è¡Œåœ¨Dockerå®¹å™¨ä¸­çš„æœåŠ¡é€šè¿‡åŸŸåè®¿é—®ï¼Œå¹¶ä½¿ç”¨Nginxä½œä¸ºåå‘ä»£ç†æ¥è½¬å‘åˆ°å®¿ä¸»æœºçš„8282ç«¯å£ï¼Œä½ éœ€è¦å®Œæˆå‡ ä¸ªæ­¥éª¤ã€‚è¿™åŒ…æ‹¬è®¾ç½®DNSè®°å½•ã€é…ç½®Nginxä»¥åŠç¡®ä¿ç½‘ç»œå®‰å…¨ã€‚ä¸‹é¢æ˜¯å…·ä½“æ­¥éª¤ï¼š</p><h2 id="æ­¥éª¤-1-è®¾ç½®dnsè®°å½•">æ­¥éª¤ 1: è®¾ç½®DNSè®°å½•</h2><p>ç¡®ä¿ä½ çš„åŸŸå <code>wo.lthero.top</code> çš„DNSè®°å½•æŒ‡å‘æ‰˜ç®¡Nginxçš„æœåŠ¡å™¨çš„IPåœ°å€ã€‚è¿™é€šå¸¸åœ¨ä½ çš„åŸŸåæ³¨å†Œå•†å¤„è¿›è¡Œè®¾ç½®ï¼š</p><ul><li><strong>Aè®°å½•</strong>ï¼šå°†åŸŸåæŒ‡å‘IPv4åœ°å€ã€‚</li><li><strong>AAAAè®°å½•</strong>ï¼šå°†åŸŸåæŒ‡å‘IPv6åœ°å€ï¼ˆå¦‚æœé€‚ç”¨ï¼‰ã€‚</li></ul><h2 id="æ­¥éª¤-2-å®‰è£…å¹¶å¯åŠ¨nginx">æ­¥éª¤ 2: å®‰è£…å¹¶å¯åŠ¨Nginx</h2><p>æ­¥éª¤ 1: æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨</p><p>æ‰“å¼€ç»ˆç«¯ï¼Œé¦–å…ˆä½¿ç”¨<code>apt</code>å‘½ä»¤æ›´æ–°ä½ çš„åŒ…åˆ—è¡¨ï¼Œä»¥ç¡®ä¿ä½ å®‰è£…çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„Nginxã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><p>æ­¥éª¤ 2: å®‰è£…Nginx</p><p>ä½¿ç”¨<code>apt</code>å®‰è£…Nginxã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install nginx</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-3-é…ç½®nginx">æ­¥éª¤ 3: é…ç½®Nginx</h2><p>ä½ éœ€è¦åœ¨Nginxä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æœåŠ¡å™¨å—ï¼ˆserver blockï¼‰ï¼Œæˆ–è€…åœ¨å·²æœ‰çš„é»˜è®¤é…ç½®ä¸­ä¿®æ”¹ï¼Œä»¥è®¾ç½®åå‘ä»£ç†ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºæœ¬çš„Nginxé…ç½®ç¤ºä¾‹ï¼Œå°†ä¼šæŠŠæ‰€æœ‰åˆ° <code>wo.lthero.top</code> çš„è¯·æ±‚è½¬å‘åˆ°æœ¬åœ°çš„8282ç«¯å£ï¼š</p><ol><li><p>æ‰“å¼€æˆ–åˆ›å»ºä¸€ä¸ªæ–°çš„Nginxé…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/nginx/sites-available/wo.lthero.top</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> wo.lthero.top;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:3001;</span><br><span class="line">        <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="string">&#x27;upgrade&#x27;</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_cache_bypass</span> <span class="variable">$http_upgrade</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé…ç½®åšäº†ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><code>listen 80;</code> å‘Šè¯‰Nginxç›‘å¬80ç«¯å£ï¼ˆHTTPæ ‡å‡†ç«¯å£ï¼‰ã€‚</li><li><code>server_name wo.lthero.top;</code> è®¾ç½®è¿™ä¸ªå—åº”å½“å“åº”çš„åŸŸåã€‚</li><li><code>proxy_pass http://localhost:8282;</code> æŒ‡å®šæ‰€æœ‰ä¼ å…¥çš„è¯·æ±‚è½¬å‘åˆ°æœ¬åœ°çš„8282ç«¯å£ã€‚</li><li><code>proxy_set_header</code> æŒ‡ä»¤å°†é‡è¦çš„HTTPå¤´ä¿¡æ¯è½¬å‘ç»™åç«¯åº”ç”¨ã€‚</li></ul></li><li><p>å¯ç”¨é…ç½®æ–‡ä»¶é€šè¿‡åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /etc/nginx/sites-available/wo.lthero.top /etc/nginx/sites-enabled/</span><br></pre></td></tr></table></figure></li><li><p>æ£€æŸ¥Nginxé…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -t</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œé‡å¯Nginxä»¥åº”ç”¨é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart nginx</span><br></pre></td></tr></table></figure></li></ol><h2 id="æ­¥éª¤-4-è°ƒæ•´é˜²ç«å¢™è§„åˆ™">æ­¥éª¤ 4: è°ƒæ•´é˜²ç«å¢™è§„åˆ™</h2><p>ç¡®ä¿ä½ çš„æœåŠ¡å™¨çš„é˜²ç«å¢™è§„åˆ™å…è®¸HTTPï¼ˆç«¯å£80ï¼‰å’ŒHTTPSï¼ˆç«¯å£443ï¼Œå¦‚æœä½ ä½¿ç”¨SSLï¼‰çš„æµé‡ã€‚å¦‚æœä½ æ­£åœ¨ä½¿ç”¨<code>ufw</code>ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow <span class="string">&#x27;Nginx Full&#x27;</span></span><br><span class="line">sudo ufw reload</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-5-æµ‹è¯•é…ç½®">æ­¥éª¤ 5: æµ‹è¯•é…ç½®</h2><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>http://wo.lthero.top</code> æˆ–ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·å¦‚ <code>curl</code> æ¥æµ‹è¯•ä½ çš„é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://wo.lthero.top</span><br></pre></td></tr></table></figure><p>ä½ åº”è¯¥èƒ½çœ‹åˆ°ä»Dockerå®¹å™¨ä¸­è¿è¡Œçš„æœåŠ¡å“åº”çš„å†…å®¹ã€‚</p><p>è¿™æ ·ï¼Œä½ å°±é…ç½®å¥½äº†Nginxä½œä¸ºåå‘ä»£ç†ï¼Œå°†åŸŸå <code>wo.lthero.top</code> çš„æµé‡è½¬å‘åˆ°å®¿ä¸»æœºçš„8282ç«¯å£ä¸Šçš„æœåŠ¡ã€‚å¦‚æœä½ å¸Œæœ›ä½¿ç”¨HTTPSï¼Œä½ è¿˜éœ€è¦è®¾ç½®SSLè¯ä¹¦ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨Letâ€™s Encryptå…è´¹è¯ä¹¦å¹¶é…ç½®HTTPSã€‚</p><h1 id="ä½¿ç”¨httpsè®¿é—®">ä½¿ç”¨HTTPSè®¿é—®</h1><p>è¦è®©ä½ çš„åŸŸå <code>wo.lthero.top</code> ä½¿ç”¨ HTTPSï¼Œä½ éœ€è¦è·å– SSL/TLS è¯ä¹¦ï¼Œå¹¶é…ç½® Nginx ä»¥ä½¿ç”¨è¿™äº›è¯ä¹¦æ¥åŠ å¯†ç½‘é¡µå†…å®¹ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æ­¥éª¤ï¼ŒåŒ…æ‹¬å¦‚ä½•ä½¿ç”¨ Letâ€™s Encrypt æä¾›çš„å…è´¹è¯ä¹¦è‡ªåŠ¨åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚</p><h2 id="æ­¥éª¤-1-å®‰è£…-certbot">æ­¥éª¤ 1: å®‰è£… Certbot</h2><p>Certbot æ˜¯ä¸€ä¸ªè‡ªåŠ¨è·å–å¹¶å®‰è£… Letâ€™s Encrypt è¯ä¹¦çš„å®¢æˆ·ç«¯ã€‚åœ¨ Ubuntu ä¸Šå®‰è£… Certbot åŠå…¶ Nginx æ’ä»¶éå¸¸ç®€å•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install certbot python3-certbot-nginx -y</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-2-è·å–å’Œå®‰è£…è¯ä¹¦">æ­¥éª¤ 2: è·å–å’Œå®‰è£…è¯ä¹¦</h2><p>ä½¿ç”¨ Certbot è·å–å¹¶ä¸ºä½ çš„åŸŸåå®‰è£…è¯ä¹¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot --nginx -d wo.lthero.top</span><br></pre></td></tr></table></figure><p>æ­¤å‘½ä»¤ä¼šè‡ªåŠ¨ä¸ºæŒ‡å®šçš„åŸŸå <code>wo.lthero.top</code> é…ç½® SSL è¯ä¹¦ï¼Œå¹¶æ›´æ–° Nginx é…ç½®ä»¥ä½¿ç”¨è¿™äº›è¯ä¹¦ã€‚Certbot ä¼šè¯¢é—®ä½ ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ç”µå­é‚®ä»¶åœ°å€ï¼ˆç”¨äºç´§æ€¥è”ç³»å’Œè¯ä¹¦ç»­è®¢æé†’ï¼‰ï¼Œä»¥åŠæ˜¯å¦é‡å®šå‘æ‰€æœ‰ HTTP è¯·æ±‚åˆ° HTTPSï¼ˆå¼ºçƒˆå»ºè®®å¯ç”¨ï¼‰ã€‚</p><p>ç”Ÿæˆçš„è¯ä¹¦ä½ç½®<code>/etc/letsencrypt/live/</code></p><h2 id="æ­¥éª¤-3-æ›´æ–°-nginx-é…ç½®">æ­¥éª¤ 3: æ›´æ–° Nginx é…ç½®</h2><p>å¦‚æœä½ æƒ³æ‰‹åŠ¨ç¼–è¾‘ Nginx é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼é…ç½®ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/nginx/sites-available/wo.lthero.top</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    server_name wo.lthero.top;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://localhost:8282;</span><br><span class="line">        proxy_http_version 1.1;</span><br><span class="line">        proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">        proxy_set_header Connection &#x27;upgrade&#x27;;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_cache_bypass $http_upgrade;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    listen 443 ssl; # managed by Certbot</span><br><span class="line">    ssl_certificate /etc/letsencrypt/live/wo.lthero.top/fullchain.pem; # managed by Certbot</span><br><span class="line">    ssl_certificate_key /etc/letsencrypt/live/wo.lthero.top/privkey.pem; # managed by Certbot</span><br><span class="line">    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot</span><br><span class="line">    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">    if ($host = wo.lthero.top) &#123;</span><br><span class="line">        return 301 https://$host$request_uri;</span><br><span class="line">    &#125; # managed by Certbot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    listen 80;</span><br><span class="line">    server_name wo.lthero.top;</span><br><span class="line">    return 404; # managed by Certbot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> wo.lthero.top;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;  <span class="comment"># å¼ºåˆ¶é‡å®šå‘æ‰€æœ‰ HTTP è¯·æ±‚åˆ° HTTPS</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> wo.lthero.top;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/wo.lthero.top/fullchain.pem;  <span class="comment"># è¯ä¹¦æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/wo.lthero.top/privkey.pem;  <span class="comment"># ç§é’¥æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_session_timeout</span> <span class="number">1d</span>;</span><br><span class="line">    <span class="attribute">ssl_session_cache</span> shared:MozSSL:<span class="number">10m</span>;  <span class="comment"># ç¼“å­˜ SSL ä¼šè¯ä»¥æå‡æ€§èƒ½</span></span><br><span class="line">    <span class="attribute">ssl_session_tickets</span> <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç°ä»£åŠ å¯†å¥—ä»¶é…ç½®</span></span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">ssl_ciphers</span> <span class="string">&#x27;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384&#x27;</span>;</span><br><span class="line">    <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…¶ä»– SSL ä¼˜åŒ–è®¾ç½®</span></span><br><span class="line">    <span class="attribute">ssl_stapling</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">ssl_stapling_verify</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…è®¸æœ€å¤§è¯·æ±‚ä½“å¤§å°ä¸º 1000MB</span></span><br><span class="line">    <span class="attribute">client_max_body_size</span> <span class="number">1000m</span>;  </span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:8282;</span><br><span class="line">        <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="string">&#x27;upgrade&#x27;</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_cache_bypass</span> <span class="variable">$http_upgrade</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé…ç½®ä¸ä»…å¯ç”¨äº† HTTPSï¼Œè¿˜åŒ…æ‹¬äº†ä¸€äº›ç°ä»£çš„å®‰å…¨å®è·µï¼Œå¦‚å¯ç”¨ HTTP/2ï¼Œé…ç½®åŠ å¯†å¥—ä»¶å’Œåè®®ç­‰ã€‚</p><blockquote><p>å…è®¸æœ€å¤§è¯·æ±‚ä½“å¤§å°ä¸º 1000MB</p><p>client_max_body_size 1000m;</p><p>è¿™è¡Œæœ€å¥½ä¸config.jsä¸­ä¿æŒä¸€è‡´ï¼Œå¦‚æœ<strong>nginxè®¾ç½®å°äº†ï¼Œä¼šå‡ºç°â€œä¸Šä¼ å¤±è´¥â€çš„ç»“æœï¼</strong></p></blockquote><h2 id="æ­¥éª¤-4-é‡æ–°åŠ è½½-nginx">æ­¥éª¤ 4: é‡æ–°åŠ è½½ Nginx</h2><p>å¯ç”¨é…ç½®æ–‡ä»¶é€šè¿‡åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /etc/nginx/sites-available/wo.lthero.top /etc/nginx/sites-enabled/</span><br></pre></td></tr></table></figure><p>æ›´æ”¹é…ç½®åï¼Œéœ€è¦é‡æ–°åŠ è½½ Nginx ä»¥åº”ç”¨æ–°çš„é…ç½®ï¼š</p><blockquote><p>æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œå¦‚æœæœ‰warn!ç›´æ¥çœ‹â€œé‡åˆ°çš„é—®é¢˜â€éƒ¨åˆ†ï¼Œé‡æ–°åŠ è½½é…ç½®æ˜¯ä¸ä¸€å®šèƒ½workçš„</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -t  <span class="comment"># æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯</span></span><br><span class="line">sudo systemctl reload nginx  <span class="comment"># é‡æ–°åŠ è½½é…ç½®</span></span><br><span class="line"><span class="comment"># å¦‚æœé‡æ–°åŠ è½½é…ç½®åæ— æ•ˆï¼Œå¯ä»¥å°è¯•é‡å¯nginx</span></span><br><span class="line">sudo systemctl restart nginx</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-5-éªŒè¯-https">æ­¥éª¤ 5: éªŒè¯ HTTPS</h2><p>åœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>https://wo.lthero.top</code> æ¥æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸã€‚ä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°ä¸€ä¸ªå®‰å…¨é”æ ‡å¿—ï¼Œè¡¨æ˜è¿æ¥æ˜¯é€šè¿‡ HTTPS åŠ å¯†çš„ã€‚</p><h2 id="æ­¥éª¤-6-è‡ªåŠ¨ç»­è®¢è¯ä¹¦">æ­¥éª¤ 6: è‡ªåŠ¨ç»­è®¢è¯ä¹¦</h2><p>Letâ€™s Encrypt çš„è¯ä¹¦æœ‰æ•ˆæœŸä¸º90å¤©ï¼Œå› æ­¤å»ºè®®è®¾ç½®è‡ªåŠ¨ç»­è®¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot renew</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤ä¼šæµ‹è¯•è¯ä¹¦ç»­è®¢è¿‡ç¨‹ã€‚å¦‚æœè¿™ä¸ªæµ‹è¯•æˆåŠŸï¼Œæ·»åŠ å®šæ—¶ä»»åŠ¡<code>crontab</code>ï¼š</p><p><code>crontab -e</code>å†å¡«å†™ä¸‹é¢å†…å®¹ï¼Œè¡¨ç¤ºæ¯æœˆç¬¬ä¸€å¤©ä¼šè‡ªåŠ¨æ‰§è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0 1 * * /usr/local/bin/certbot renew --deploy-hook <span class="string">&quot;nginx -s reload&quot;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡<code>which certbot</code>æŸ¥çœ‹å…·ä½“ç¨‹åºä½ç½®<code>/usr/local/bin/certbot</code></p><p>ç»­ç­¾çš„è¯ä¹¦ä½ç½®<code>/etc/letsencrypt/renewal</code></p><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ çš„ç«™ç‚¹ <code>wo.lthero.top</code> ç°åœ¨åº”è¯¥èƒ½å¤Ÿå®‰å…¨åœ°ä½¿ç”¨ HTTPS è¿›è¡Œé€šä¿¡äº†ã€‚</p><p>å¦‚æœè¦æ¢crontabç¼–è¾‘å™¨ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select-editor</span><br></pre></td></tr></table></figure><h2 id="è§£æåˆ°é˜¿é‡Œäº‘dnsçš„ç”³è¯·æ–¹æ³•">è§£æåˆ°é˜¿é‡Œäº‘DNSçš„ç”³è¯·æ–¹æ³•</h2><blockquote><p>å¦‚æœåŸŸåè§£æåœ¨é˜¿é‡Œäº‘ï¼Œå¯ä»¥å®‰è£…è¿™ä¸ªæ’ä»¶ä»è€Œå®Œæˆè¯ä¹¦ç”³è¯·ï¼Œ<a href="https://github.com/tengattack/certbot-dns-aliyun">https://github.com/tengattack/certbot-dns-aliyun</a></p></blockquote><h3 id="credentials-file">Credentials File</h3><p>åœ¨æŸä¸ªç†Ÿæ‚‰çš„ç›®å½•ä¸‹ï¼ŒæŠŠä¸‹é¢çš„å†…å®¹å†™å…¥<code>credentials.ini</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dns_aliyun_access_key = 12345678</span><br><span class="line">dns_aliyun_access_key_secret = 1234567890abcdef1234567890abcdef</span><br></pre></td></tr></table></figure><p>dns_aliyun_access_keyæ˜¯é˜¿é‡Œäº‘è´¦å·çš„AccessKey ID</p><p>dns_aliyun_access_key_secretæ˜¯é˜¿é‡Œäº‘è´¦å·çš„AccessKey Secret</p><p>è¿™ä¸¤ä¸ªå€¼å¯ä»¥åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°-&gt;ç”¨æˆ·å¤´åƒ-&gt;accesskeysæŒ‰æŒ‡å¼•è·å–AccessKey/SecretKey</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 600 /path/to/credentials.ini</span><br></pre></td></tr></table></figure><h3 id="obtain-certificates">Obtain Certificates</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">certbot certonly \</span><br><span class="line">    --authenticator=dns-aliyun \</span><br><span class="line">    --dns-aliyun-credentials=<span class="string">&#x27;/path/to/credentials.ini&#x27;</span> \</span><br><span class="line">    -d <span class="string">&quot;*.example.com,example.com&quot;</span></span><br></pre></td></tr></table></figure><p>ç”³è¯·ä¸‹æ¥çš„è¯ä¹¦ä½ç½®</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/letsencrypt/archive/</span><br></pre></td></tr></table></figure><p>é€‚åˆé˜¿é‡Œäº‘çš„è‡ªåŠ¨å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0 1 * * /usr/local/bin/certbot renew --manual --preferred-challenges dns --manual-auth-hook <span class="string">&quot;alidns&quot;</span> --manual-cleanup-hook <span class="string">&quot;alidns clean&quot;</span> --deploy-hook <span class="string">&quot;nginx -s reload&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;wallos&quot;&gt;Wallos&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;æä¾›è®¢é˜…æœåŠ¡çš„ç»Ÿè®¡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;é¡¹ç›®å®‰è£…&quot;&gt;é¡¹ç›®å®‰è£…&lt;/h1&gt;
&lt;p&gt;åˆ›å»ºç›®å½•ï¼Œä¸ºäº†å°†æ•°æ®åº“é•¿æœŸä¿å­˜åœ¨æœ¬åœ°&lt;/p&gt;
&lt;figure class=&quot;hig</summary>
      
    
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/categories/%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/tags/%E6%8A%98%E8%85%BE/"/>
    
  </entry>
  
  <entry>
    <title>ã€æµåª’ä½“ä¸€é”®è§£é”è„šæœ¬ã€‘</title>
    <link href="https://blog.lthero.cn/2024/12/01/SniproxySmartdnsInstaller/"/>
    <id>https://blog.lthero.cn/2024/12/01/SniproxySmartdnsInstaller/</id>
    <published>2024-12-01T09:54:42.000Z</published>
    <updated>2024-12-01T14:37:10.239Z</updated>
    
    <content type="html"><![CDATA[<h1 id="sniproxy-smartdns-ä¸€é”®é…ç½®è„šæœ¬">sniproxy &amp; smartdns ä¸€é”®é…ç½®è„šæœ¬</h1><blockquote><p>å¼€æºé¡¹ç›®ï¼š<a href="https://github.com/lthero-big/Smartdns_sniproxy_installer">https://github.com/lthero-big/Smartdns_sniproxy_installer</a></p></blockquote><h2 id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢</h2><p>æœ€è¿‘é»‘äº”ï¼Œä¹°äº†ä¸€äº›æœºå™¨ï¼Œä½†æœºå™¨è§£é”ä¸å¤ªæ»¡æ„å•Šï¼Œäºæ˜¯åœ¨è®ºå›å››å¤„æ‰¾æ•™ç¨‹ï¼Œæœ€è¿‘ä¸œæ‹¼å››å‡‘å‡ºäº†è¿™ä¸ªè„šæœ¬ï¼›</p><p>ç°æœ‰è„šæœ¬çš„ç—›ç‚¹ï¼š</p><p>1ã€ä¸èƒ½æ–¹ä¾¿çš„é…ç½®æµåª’ä½“å¹³å°ï¼Œsniproxyå’Œsmartdnsçš„é…ç½®éƒ½éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ï¼Œè€Œä¸”æ·»åŠ DNSæœºå™¨ä¹Ÿéœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œæœ‰ç‚¹å„¿éº»çƒ¦ï¼›<br>2ã€å¤§å¤šæ˜¯ä½¿ç”¨dnsmasqå’Œsniproxyç»“åˆçš„è„šæœ¬ï¼Œæ²¡æœ‰smartdnsçš„ã€‚</p><h3 id="çŸ¥è¯†">çŸ¥è¯†</h3><p>sniproxyï¼šä¸€ä¸ªé€æ˜ä»£ç†ï¼Œåå‘ä»£ç†æµåª’ä½“ç½‘ç«™ï¼ˆå¦‚Netflixï¼‰ï¼Œ80å’Œ443ç«¯å£ä¸å¾—è¢«å ç”¨ï¼Œä¸”éœ€è¦å¼€æ”¾</p><p>smartdnsï¼šä¸€ä¸ªDNSæœåŠ¡å™¨ï¼Œç”¨æ¥åˆ†æµDNSåŸŸåæ˜¯å¦èµ°sniproxyä»£ç†</p><h3 id="å¿…è¦å‡†å¤‡">å¿…è¦å‡†å¤‡</h3><ol><li>ä¸€å°æˆ–å¤šå°èƒ½è§£é”æµåª’ä½“çš„vpsï¼Œ<strong>ç®€ç§°â€œè§£é”æœºâ€</strong></li><li>æ²¡æœ‰vpsçš„å¯ä»¥ä½¿ç”¨å…è´¹æˆ–ä»˜è´¹çš„dnsè§£é”æœåŠ¡ï¼Œè¯·æ³¨å†ŒAliceå…è´¹çš„DNSè§£é”æœåŠ¡<a href="https://app.alice.ws/">Alice</a></li><li>ä¸€å°æˆ–å¤šå°ä¸èƒ½è§£é”æµåª’ä½“çš„vpsï¼Œ<strong>ç®€ç§°â€œè¢«è§£é”æœºâ€</strong></li></ol><h3 id="å®ç°æ•ˆæœ">å®ç°æ•ˆæœ</h3><ol><li>è®©ä¸€å°vpsåŒæ—¶è§£é”å¤šä¸ªåœ°åŒºçš„æµåª’ä½“ï¼ˆç¾å›½ã€æ–°åŠ å¡ã€æ—¥æœ¬ã€é¦™æ¸¯ï¼‰</li><li>å®ç°ä½¿ç”¨ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒåŒæ—¶è§£é”é¦™æ¸¯bç«™ï¼Œç¾å›½æ²¹ç®¡ï¼Œæ–°åŠ å¡ç½‘é£ä»¥åŠæ—¥æœ¬HBOç­‰</li></ol><p><img src="https://cdn.lthero.cn/post_images/course/ML/PixPin_2024-12-01_16-55-49.png" alt="PixPin_2024-12-01_16-55-49"></p><ol start="3"><li>å¿«é€Ÿæ·»åŠ ä¸åŒåœ°åŒº</li></ol><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241201195650422.png" alt="image-20241201195650422"></p><h3 id="å‚è€ƒé¡¹ç›®">å‚è€ƒé¡¹ç›®</h3><ol><li><a href="https://github.com/myxuchangbin/dnsmasq_sniproxy_install">https://github.com/myxuchangbin/dnsmasq_sniproxy_install</a></li><li><a href="https://github.com/bingotl/dns_unlock">https://github.com/bingotl/dns_unlock</a></li><li><a href="https://github.com/Jimmyzxk/DNS-Alice-Unlock">https://github.com/Jimmyzxk/DNS-Alice-Unlock</a></li><li><a href="https://www.nodeseek.com/post-180592-1">https://www.nodeseek.com/post-180592-1</a></li></ol><h3 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h3><ol><li>smartdns æ‹¥æœ‰æ›´å¿«æŸ¥è¯¢å’Œæ›´å¼ºçš„å¹¿å‘Šè¿‡æ»¤ç­‰åŠŸèƒ½</li><li>å¿«é€Ÿæ·»åŠ æ‚¨æƒ³è§£é”çš„åœ°åŒºï¼Œä¸€é”®é…ç½®ï¼Œä¸€é”®ä¿®æ”¹ï¼Œä¸ç”¨å†ä½¿ç”¨å¤æ‚çš„ç¼–è¾‘åŠŸèƒ½</li><li>å¿«é€Ÿé…ç½®æ‚¨æƒ³æ·»åŠ çš„è§£é”æœºæœåŠ¡å™¨ï¼Œæ–¹ä¾¿ä¿®æ”¹</li><li>è§£é”æœºå“ªæ€•å®•æœºä¹Ÿä¸å½±å“è¢«è§£é”æœºæ­£å¸¸ä½¿ç”¨</li></ol><hr><h2 id="è„šæœ¬ä¸‹è½½ä¸å®‰è£…">è„šæœ¬ä¸‹è½½ä¸å®‰è£…</h2><h3 id="è„šæœ¬ä¸‹è½½">è„šæœ¬ä¸‹è½½</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/lthero-big/Smartdns_sniproxy_installer/refs/heads/main/smtdns_install.sh -O smtdns_install.sh </span><br></pre></td></tr></table></figure><p>è„šæœ¬å°†ä¿å­˜åœ¨æœ¬åœ° ï¼Œå‘½åä¸ºsmtdns_install.sh ï¼Œæ‚¨å¯ä»¥éšæ—¶æ‰§è¡Œ</p><h3 id="è„šæœ¬æ‰§è¡Œ">è„šæœ¬æ‰§è¡Œ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash smtdns_install.sh</span><br></pre></td></tr></table></figure><hr><h2 id="é˜…è¯»é¡ºåº">é˜…è¯»é¡ºåº</h2><blockquote><p>å¦‚æœæ‚¨ä¸æƒ³é…ç½®è§£é”æœºï¼Œè¯·æ³¨å†ŒAliceå…è´¹çš„DNSè§£é”æœåŠ¡<a href="https://app.alice.ws/">Alice</a>ï¼Œç”³è¯·DNSè§£é”ã€‚éšåï¼Œè¯·é˜…è¯»â€œè¢«è§£é”æœºâ€ç¯‡ç« ï¼Œä½¿ç”¨<code>nameserver</code>æ·»åŠ DNSæœåŠ¡å™¨ã€‚</p><p>å¦‚æœæ‚¨æœ‰è‡ªå·±çš„è§£é”æœºï¼Œå¯ä»¥å…ˆé˜…è¯»â€œè§£é”æœºâ€ç¯‡ç« ï¼Œé…ç½®è‡ªå·±çš„è§£é”æœºï¼Œéšåä½¿ç”¨<code>address</code>æ·»åŠ DNSæœåŠ¡å™¨ã€‚</p></blockquote><hr><h2 id="è¢«è§£é”æœº">è¢«è§£é”æœº</h2><h3 id="åŠŸèƒ½è§£é‡Š">åŠŸèƒ½è§£é‡Š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-----------è¢«è§£é”æœº--------------</span><br><span class="line">1.  å®‰è£… SmartDNS</span><br><span class="line">2.  é‡æ–°é…ç½® SmartDNS</span><br><span class="line">3.  æ·»åŠ ä¸Šæ¸¸ DNS å¹¶åˆ†ç»„</span><br><span class="line">4.  æŸ¥çœ‹å·²é…ç½®çš„ä¸Šæ¸¸ DNS ç»„</span><br><span class="line">5.  æŸ¥çœ‹æµåª’ä½“å¹³å°åˆ—è¡¨</span><br><span class="line">6.  æ·»åŠ ä¸€å®¶æµåª’ä½“å¹³å°åˆ° SmartDNS</span><br><span class="line">7.  æ·»åŠ ä¸€ä¸ªåœ°åŒºæµåª’ä½“åˆ° SmartDNS</span><br><span class="line">8.  æ·»åŠ æ‰€æœ‰æµåª’ä½“å¹³å°åˆ° SmartDNS</span><br><span class="line">9.  æŸ¥çœ‹å·²ç»æ·»åŠ çš„æµåª’ä½“</span><br></pre></td></tr></table></figure><ol><li>è¾“å…¥1ï¼Œå®‰è£…smartdnsï¼›éšåä¼šè¯¢é—®<strong>æ˜¯å¦æ·»åŠ ä¸Šæ¸¸DNSå¹¶åˆ†çº§</strong><ol><li>å¦‚æœä½ å·²ç»æœ‰Aliceçš„è§£é”æœåŠ¡ï¼Œæˆ–è€…æ‚¨è‡ªå»ºäº†DNSæœåŠ¡å™¨ï¼Œç›´æ¥è¾“å…¥<code>y</code>ï¼›</li><li>éšåï¼Œä¼šè¢«é‚€è¯·è¾“å…¥<strong>ä¸Šæ¸¸æœåŠ¡å™¨ipåœ°å€</strong>ï¼Œä»¥åŠç»™å®ƒ<strong>å‘½å</strong>ï¼Œç®€çŸ­å³å¯æ–¹ä¾¿åŒºåˆ†<ol><li>å‡è®¾è¾“å…¥äº†<code>12.23.34.45</code>ï¼Œå‘½ä»¤ä¸º<code>alice-hk</code></li></ol></li><li>ç›´åˆ°è¾“å…¥<code>N</code>ï¼Œå®Œæˆsmartdnsçš„åˆå§‹é…ç½®</li></ol></li><li>è¾“å…¥2ï¼Œä¼šåˆ é™¤å·²æœ‰çš„smartdnsé…ç½®ï¼Œå¹¶é‡æ–°åˆ›å»º</li><li>è¾“å…¥3ï¼Œä¼šç»§ç»­æ·»åŠ ä¸Šæ¸¸ DNS</li><li>è¾“å…¥6/7/8ï¼Œæ·»åŠ æµåª’ä½“å¹³å°ï¼ˆæ³¨æ„æ˜¯ä¸€å®¶ï¼Œä¸€åœ°åŒºï¼Œè¿˜æ˜¯æ‰€æœ‰å¹³å°ï¼‰<ol><li>å‡è®¾è¾“å…¥7ï¼Œæƒ³å°†é¦™æ¸¯åœ°åŒºçš„æµåª’ä½“ï¼Œéƒ½è®©<code>alice-hk</code>è§£é”</li><li>è¯·è¾“å…¥<code>nameserver/address</code>ï¼Œå¦‚æœä½¿ç”¨Aliceè§£é”æœåŠ¡ï¼Œé€‰æ‹©<code>nameserver</code></li><li>ç›´åˆ°è¾“å…¥<code>N</code>ï¼Œå®Œæˆåœ°åŒºçš„æ·»åŠ </li></ol></li><li>è¾“å…¥9ï¼ŒæŸ¥çœ‹å·²ç»æ·»åŠ çš„æµåª’ä½“åŠå¯¹åº”çš„è§£é”æœåŠ¡å™¨</li></ol><h3 id="å…³äºnameserverä¸addressé€‰æ‹©">å…³äºnameserverä¸addressé€‰æ‹©</h3><ol><li><p>å¦‚æœä½¿ç”¨Aliceè§£é”æœåŠ¡ï¼Œé€‰æ‹©nameserver</p></li><li><p>å¦‚æœè‡ªå»ºçš„è§£é”æœºè¿è¡Œäº†smartdnsï¼Œé€‰æ‹©address</p></li><li><p>å¦‚æœè‡ªå»ºçš„è§£é”æœºä¸è¿è¡Œsmartdnsï¼Œé€‰æ‹©address</p></li></ol><h3 id="å¿«é€Ÿä¸Šæ‰‹">å¿«é€Ÿä¸Šæ‰‹</h3><p>ç¬¬ä¸€æ­¥ï¼šè¾“å…¥1ï¼Œå®‰è£…smartdnsï¼›éšåä¼šè¯¢é—®<strong>æ˜¯å¦æ·»åŠ ä¸Šæ¸¸DNSå¹¶åˆ†çº§</strong></p><ol><li>å¦‚æœä½ å·²ç»æœ‰Aliceçš„è§£é”æœåŠ¡ï¼Œæˆ–è€…æ‚¨è‡ªå»ºäº†DNSæœåŠ¡å™¨ï¼Œç›´æ¥è¾“å…¥<code>y</code>ï¼›</li><li>éšåï¼Œä¼šè¢«é‚€è¯·è¾“å…¥<strong>ä¸Šæ¸¸æœåŠ¡å™¨ipåœ°å€</strong>ï¼Œä»¥åŠç»™å®ƒ<strong>å‘½å</strong>ï¼Œç®€çŸ­å³å¯æ–¹ä¾¿åŒºåˆ†<ol><li>å‡è®¾è¾“å…¥äº†<code>12.23.34.45</code>ï¼Œå‘½ä»¤ä¸º<code>alice-hk</code></li></ol></li><li>ç›´åˆ°è¾“å…¥<code>N</code>ï¼Œå®Œæˆsmartdnsçš„åˆå§‹é…ç½®</li></ol><p>ç¬¬äºŒæ­¥ï¼šè¾“å…¥6/7/8ï¼Œæ·»åŠ æµåª’ä½“å¹³å°ï¼ˆæ³¨æ„æ˜¯ä¸€å®¶ï¼Œä¸€åœ°åŒºï¼Œè¿˜æ˜¯æ‰€æœ‰å¹³å°ï¼‰</p><ol><li>å‡è®¾è¾“å…¥7ï¼Œå¦‚æœä½¿ç”¨Aliceè§£é”æœåŠ¡ï¼Œæƒ³å°†é¦™æ¸¯åœ°åŒºçš„æµåª’ä½“éƒ½è®©<code>alice-hk</code>è§£é”ï¼Œé€‰æ‹©<code>nameserver</code></li><li>ç›´åˆ°è¾“å…¥<code>N</code>ï¼Œå®Œæˆåœ°åŒºçš„æ·»åŠ </li></ol><p><strong>ç¡®ä¿smartdnsæœåŠ¡å¯åŠ¨äº†å³å¯</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SmartDNS æœåŠ¡çŠ¶æ€ï¼šè¿è¡Œä¸­</span><br><span class="line">SmartDNS å¼€æœºè‡ªå¯ï¼šå·²å¯ç”¨</span><br><span class="line">system DNS æœåŠ¡çŠ¶æ€ï¼šå·²åœæ­¢</span><br><span class="line">system DNS å¼€æœºè‡ªå¯ï¼šæœªå¯ç”¨</span><br><span class="line">sniproxy æœåŠ¡çŠ¶æ€ï¼šå·²åœæ­¢</span><br><span class="line">sniproxy å¼€æœºè‡ªå¯ï¼šæœªå¯ç”¨</span><br></pre></td></tr></table></figure><hr><h2 id="è§£é”æœº">è§£é”æœº</h2><h3 id="åŠŸèƒ½è§£é‡Š">åŠŸèƒ½è§£é‡Š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-----------sniproxyç›¸å…³(è§£é”æœº)--------------</span><br><span class="line">11.  å®‰è£…å¹¶å¯åŠ¨ sniproxy</span><br><span class="line">12.  æ·»åŠ æµåª’ä½“å¹³å°åˆ° sniproxy</span><br><span class="line">13.  å¯åŠ¨/é‡å¯ sniproxy æœåŠ¡å¹¶å¼€æœºè‡ªå¯</span><br><span class="line">14.  åœæ­¢ sniproxy å¹¶å…³é—­å¼€æœºè‡ªå¯</span><br><span class="line">15.  ä¸€é”®å¯¹è¢«è§£é”æœºæ”¾å¼€ 80/443/53 ç«¯å£ </span><br><span class="line">16.  ä¸€é”®å¼€å¯æŒ‡å®š é˜²ç«å¢™(ufw) ç«¯å£ </span><br></pre></td></tr></table></figure><ol><li>è¾“å…¥11ï¼Œä¼šå®‰è£…sniproxyå¹¶ä¸€é”®æ·»åŠ ä¸€äº›å¸¸ç”¨çš„æµåª’ä½“å¹³å°ï¼ˆä¸ä¼šåŒ…å«æ‰€æœ‰çš„ï¼‰</li><li>è¾“å…¥12ï¼šæ·»åŠ æƒ³è¦çš„æµåª’ä½“å¹³å°åˆ° sniproxyï¼Œä¸ä¸Šé¢ä¸€æ ·ï¼Œå¯ä»¥é€‰æ‹©æ·»åŠ ä¸€ä¸ªå¹³å°æˆ–ä¸€ä¸ªåœ°åŒºçš„å¹³å°</li><li>è¾“å…¥13/14ï¼šæ§åˆ¶sniproxyæœåŠ¡</li><li>è¾“å…¥15ï¼š<strong>å¿…åš</strong>ï¼Œé˜²æ­¢è¢«ä»–äººåˆ©ç”¨ï¼Œéœ€è¦æ·»åŠ å¯¹<strong>è¢«è§£é”æœº</strong>çš„è®¿é—®æƒé™</li><li>è¾“å…¥16ï¼šé¢å¤–åŠŸèƒ½ï¼Œå¼€å¯æŸä¸ªé˜²ç«å¢™ç«¯å£</li></ol><h3 id="å¿«é€Ÿä¸Šæ‰‹">å¿«é€Ÿä¸Šæ‰‹</h3><p>ç¬¬ä¸€æ­¥ï¼šè¾“å…¥15ï¼Œæ·»åŠ å¯¹<strong>è¢«è§£é”æœº</strong>çš„è®¿é—®æƒé™ï¼Œéœ€è¦è¾“å…¥<strong>è¢«è§£é”æœºçš„ip</strong>å³å¯</p><p>ç¬¬äºŒæ­¥ï¼šè¾“å…¥11ï¼Œä¼šå®‰è£…sniproxyå¹¶ä¸€é”®æ·»åŠ ä¸€äº›å¸¸ç”¨çš„æµåª’ä½“å¹³å°</p><p>ç¬¬ä¸‰æ­¥ï¼šè¾“å…¥12ï¼šæ·»åŠ æƒ³è¦çš„æµåª’ä½“å¹³å°åˆ° sniproxyï¼›å¦‚æœä½ çš„æœºå™¨æ˜¯ç¾å›½æœºï¼Œåˆ™å¯ä»¥æ·»åŠ ç¾å›½çš„æµåª’ä½“æœåŠ¡åˆ°sniproxyä¸­ï¼Œsniproxyä¼šè‡ªåŠ¨é‡å¯ï¼›</p><p><strong>ç¡®ä¿ sniproxy æœåŠ¡å¯åŠ¨å³å¯</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SmartDNS æœåŠ¡çŠ¶æ€ï¼šå·²åœæ­¢</span><br><span class="line">SmartDNS å¼€æœºè‡ªå¯ï¼šæœªå¯ç”¨</span><br><span class="line">system DNS æœåŠ¡çŠ¶æ€ï¼šè¿è¡Œä¸­</span><br><span class="line">system DNS å¼€æœºè‡ªå¯ï¼šå·²å¯ç”¨</span><br><span class="line">sniproxy æœåŠ¡çŠ¶æ€ï¼šè¿è¡Œä¸­</span><br><span class="line">sniproxy å¼€æœºè‡ªå¯ï¼šå·²å¯ç”¨</span><br></pre></td></tr></table></figure><hr><h2 id="é«˜çº§ç©å®¶">é«˜çº§ç©å®¶</h2><p>å‰é¢åªè®©smartDNSè¿è¡Œåœ¨äº†è¢«è§£é”æœºä¸Šï¼Œå½“ç„¶ï¼Œsmartdnså¯ä»¥è¿è¡Œåœ¨è§£é”æœºä¸Šï¼Œä»è€Œå®ç°<strong>åµŒå¥—è§£é”</strong>ã€‚</p><p><strong>åµŒå¥—è§£é”</strong>ï¼šå°†ä¸Šæ¸¸çš„DNSæœåŠ¡å™¨æŒ‡å‘DNSå•†å®¶æä¾›çš„æœåŠ¡å™¨ï¼Œä»è€Œè®©è§£é”æœºä¸‹æ¸¸çš„æœåŠ¡å™¨éƒ½èƒ½äº«å—DNSå•†å®¶æä¾›çš„è§£é”æƒç›Šï¼ˆå¯èƒ½ä¼šè¿åå•†å®¶çš„è§„åˆ™ï¼‰</p><p>æœ¬è„šæœ¬å½“ç„¶å¯ä»¥ä½¿ç”¨åœ¨è§£é”æœºä¸Šï¼Œä¸‹é¢æ˜¯è§£é”æœºçš„smartdnsé…ç½®</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">server 13.23.33.43 IP -group sg -exclude-default-group</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœè§£é”æœºä½¿ç”¨è§£é”æœºIPï¼Œåˆ™ä¸‹æ¸¸çš„è¢«è§£é”æœºç½‘é£ä¼šå®šä½ä¸ºè§£é”æœºçš„ipï¼ˆå¦‚ç¾å›½ï¼‰</span></span><br><span class="line">address /netflix.com/xx.xx.xx.xx</span><br><span class="line">address /netflix.net/xx.xx.xx.xx</span><br><span class="line">address /nflximg.com/xx.xx.xx.xx</span><br><span class="line">address /nflximg.net/xx.xx.xx.xx</span><br><span class="line">address /nflxvideo.net/xx.xx.xx.xx</span><br><span class="line">address /nflxext.com/xx.xx.xx.xx</span><br><span class="line">address /nflxso.net/xx.xx.xx.xx</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt; å¦‚æœè§£é”æœºä½¿ç”¨ä¸Šæ¸¸çš„DNSå•†å®¶æä¾›çš„IPï¼Œåˆ™ä¸‹æ¸¸çš„è¢«è§£é”æœºç½‘é£ä¼šå®šä½ä¸ºä¸Šæ¸¸ipï¼ˆå¦‚æ–°åŠ å¡ï¼‰</span></span><br><span class="line">nameserver /netflix.com/sg</span><br><span class="line">nameserver /netflix.net/sg</span><br><span class="line">nameserver /nflximg.com/sg</span><br><span class="line">nameserver /nflximg.net/sg</span><br><span class="line">nameserver /nflxvideo.net/sg</span><br><span class="line">nameserver /nflxext.com/sg</span><br><span class="line">nameserver /nflxso.net/sg</span><br></pre></td></tr></table></figure><h1 id="nginx-smartdns">Nginx+smartDNS</h1><blockquote><p><a href="https://xcel.me/unlock_netflix_with_nginx_and_dnsmasq/">https://xcel.me/unlock_netflix_with_nginx_and_dnsmasq/</a></p></blockquote><p>è¯´åˆ°åä»£ï¼Œnginxä¹Ÿèƒ½æ‹¿æ¥åšè¿™äº‹å„¿ï¼Œè€Œä¸”å¥½å¤„æ˜¯443å’Œ80ç«¯å£å¯ä»¥è¢«ç»§ç»­ä½¿ç”¨</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;sniproxy-smartdns-ä¸€é”®é…ç½®è„šæœ¬&quot;&gt;sniproxy &amp;amp; smartdns ä¸€é”®é…ç½®è„šæœ¬&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼€æºé¡¹ç›®ï¼š&lt;a href=&quot;https://github.com/lthero-big/Smartdns_s</summary>
      
    
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/categories/%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/tags/%E6%8A%98%E8%85%BE/"/>
    
    <category term="æµåª’ä½“è§£é”" scheme="https://blog.lthero.cn/tags/%E6%B5%81%E5%AA%92%E4%BD%93%E8%A7%A3%E9%94%81/"/>
    
  </entry>
  
  <entry>
    <title>ã€DNSã€‘æµåª’ä½“è§£é”</title>
    <link href="https://blog.lthero.cn/2024/11/29/UnlockNetflixWithDNS/"/>
    <id>https://blog.lthero.cn/2024/11/29/UnlockNetflixWithDNS/</id>
    <published>2024-11-29T13:39:07.000Z</published>
    <updated>2024-12-01T05:04:46.468Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è‡ªåŠ¨-æµåª’ä½“ä¸€é”®ä¿®æ”¹è§£é”dnsè„šæœ¬">è‡ªåŠ¨-æµåª’ä½“ä¸€é”®ä¿®æ”¹è§£é”DNSè„šæœ¬</h1><p><strong>æ”¯æŒæ“ä½œç³»ç»Ÿ</strong>: Debian &amp; Ubuntu</p><h2 id="é¡¹ç›®ç®€ä»‹">é¡¹ç›®ç®€ä»‹</h2><p>è¯¥è„šæœ¬æ—¨åœ¨å¸®åŠ©ç”¨æˆ·é€šè¿‡ <strong>æµåª’ä½“è§£é” DNS</strong> å®ç°å¿«é€Ÿçš„ DNS åˆ†æµä¸å…¨å±€ DNS æ›¿æ¢ã€‚åªéœ€ç®€å•çš„å‡ ä¸ªæ­¥éª¤ï¼Œå³å¯è½»æ¾é…ç½®ä¸è§£é” DNSã€‚é€‚ç”¨äº VPS ç”¨æˆ·ï¼Œæ”¯æŒä¸€é”®é…ç½®ï¼Œæ— éœ€å¤æ‚è®¾ç½®ã€‚</p><h2 id="ä½¿ç”¨æŒ‡å—">ä½¿ç”¨æŒ‡å—</h2><h4 id="æ­¥éª¤-1-æ³¨å†Œ-alice-è´¦å·-é€‚ç”¨äºæ²¡æœ‰è§£é”dns-ipçš„ç”¨æˆ·">æ­¥éª¤ 1: æ³¨å†Œ Alice è´¦å·(é€‚ç”¨äºæ²¡æœ‰è§£é”DNS IPçš„ç”¨æˆ·)</h4><ol><li><p>è®¿é—® <a href="https://www.nodeseek.com/jump?to=https%3A%2F%2Fapp.alice.ws">Alice DNS å®˜ç½‘</a> è¿›è¡Œæ³¨å†Œï¼ˆå®˜æ–¹çš„è§£é”æ•™ç¨‹ï¼š<a href="https://blog.alice.ws/16%EF%BC%89">https://blog.alice.ws/16ï¼‰</a></p></li><li><p>åœ¨æ³¨å†Œåï¼Œå°†æ‚¨çš„ VPS IP åœ°å€æ·»åŠ è‡³ Alice ç™½åå•ã€‚</p><blockquote><p><strong>æ³¨æ„</strong>ï¼šæ­¤è¿‡ç¨‹å¯èƒ½éœ€è¦ 3-5 åˆ†é’Ÿç”Ÿæ•ˆã€‚</p></blockquote></li></ol><h4 id="æ­¥éª¤-2-è¿è¡Œä¸€é”®åˆ†æµè„šæœ¬">æ­¥éª¤ 2: è¿è¡Œä¸€é”®åˆ†æµè„šæœ¬</h4><ol><li><p>ä¸‹è½½å¹¶è¿è¡Œä»¥ä¸‹è„šæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/Jimmyzxk/DNS-Alice-Unlock/refs/heads/main/dns-unlock.sh &amp;&amp; bash dns-unlock.sh</span><br></pre></td></tr></table></figure></li></ol><hr><p>è¿è¡Œä¹‹å‰ï¼Œè¦ç¡®ä¿53ç«¯å£æ²¡è¢«å ç”¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹53ç«¯å£æ˜¯å¦è¢«å ç”¨</span></span><br><span class="line">sudo netstat -tulnp | grep :53</span><br><span class="line"><span class="comment"># å…³æ‰resolved</span></span><br><span class="line">sudo systemctl stop systemd-resolved</span><br><span class="line"><span class="comment"># ç¦æ­¢å¼€æœºè‡ªå¯resolved</span></span><br><span class="line">sudo systemctl <span class="built_in">disable</span> systemd-resolved</span><br></pre></td></tr></table></figure><h4 id="è§£é”æ–¹å¼-1-1ï¼šdns-åˆ†æµæ¨¡å¼-dnsmasq">è§£é”æ–¹å¼ 1-1ï¼šDNS åˆ†æµæ¨¡å¼(dnsmasq)</h4><ol><li>åœ¨è„šæœ¬èœå•ä¸­é€‰æ‹© <code>1</code>ã€‚</li><li>è„šæœ¬å°†è‡ªåŠ¨å®‰è£…å¹¶é…ç½® <code>dnsmasq</code>ï¼Œå®ç°å¤šåª’ä½“æµé‡çš„æ™ºèƒ½åˆ†æµã€‚</li><li>å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºæ˜¯å¦è¾“å…¥ä¸ªäººè§£é”IPï¼Œå›è½¦é»˜è®¤Alice,IPï¼Œè¾“å…¥yï¼Œå¡«å†™ä¸ªäººè§£é”IP ã€‚<ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä¼˜åŒ–æµåª’ä½“ï¼ˆå¦‚ Netflixã€Disneyç­‰ï¼‰è®¿é—®ä½“éªŒï¼Œç¡®ä¿å†…å®¹åŠ è½½æ›´å¿«ï¼Œè§£é”åŒºåŸŸå†…å®¹ã€‚</li></ul></li></ol><h4 id="é€‰æ‹©åˆ†æµåŒºåŸŸ-sg-hk">é€‰æ‹©åˆ†æµåŒºåŸŸï¼ˆSG / HKï¼‰</h4><ol><li><p>åœ¨è„šæœ¬èœå•ä¸­é€‰æ‹© <code>3</code>ï¼Œè¿›å…¥åˆ†æµåŒºåŸŸé€‰æ‹©ç•Œé¢ã€‚</p></li><li><p>è„šæœ¬æ”¯æŒè‡ªåŠ©é€‰æ‹©</p><p>SGï¼ˆæ–°åŠ å¡ï¼‰æˆ–HKï¼ˆé¦™æ¸¯ï¼‰</p><p>åŒºåŸŸè¿›è¡Œåˆ†æµä¼˜åŒ–ã€‚</p><ul><li><strong>SGï¼ˆæ–°åŠ å¡ï¼‰</strong>ï¼šé€‚ç”¨äºè¿æ¥ä¸œå—äºšåœ°åŒºçš„ç”¨æˆ·ï¼Œæä¾›æ›´ä¼˜çš„è·¯ç”±å’Œé€Ÿåº¦ã€‚</li><li><strong>HKï¼ˆé¦™æ¸¯ï¼‰</strong>ï¼šé€‚ç”¨äºè¿æ¥é¦™æ¸¯åŠå‘¨è¾¹åœ°åŒºçš„ç”¨æˆ·ï¼Œæä¾›ç¨³å®šä¸”å¿«é€Ÿçš„ç½‘ç»œè¿æ¥ã€‚</li><li>é€‰æ‹©å®Œæ¯•åï¼Œè„šæœ¬å°†æ ¹æ®é€‰æ‹©çš„åŒºåŸŸé…ç½®åˆé€‚çš„åˆ†æµç­–ç•¥ã€‚</li></ul></li></ol><hr><h4 id="è§£é”æ–¹å¼-1-2ï¼šdns-åˆ†æµæ¨¡å¼-smartdns">è§£é”æ–¹å¼ 1-2ï¼šDNS åˆ†æµæ¨¡å¼ï¼ˆsmartdnsï¼‰</h4><ol><li><p>åœ¨è„šæœ¬èœå•ä¸­é€‰æ‹© <code>2-1</code>ã€‚</p></li><li><p>æŒ‰ç…§æç¤ºæ˜¯å¦æ›¿æ¢ä¸ºä¸ªäººè§£é”DNSIPï¼ŒIP1/2å¯åŒä¸€ä¸ªï¼›</p></li><li><p>è„šæœ¬å°†è‡ªåŠ¨å®‰è£…å¹¶é…ç½®smartdnsï¼Œå®ç°å¤šåª’ä½“æµé‡çš„æ™ºèƒ½åˆ†æµã€‚</p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä¼˜åŒ–æµåª’ä½“ï¼ˆå¦‚ Netflixã€Disneyç­‰ï¼‰è®¿é—®ä½“éªŒï¼Œç¡®ä¿å†…å®¹åŠ è½½æ›´å¿«ï¼Œè§£é”åŒºåŸŸå†…å®¹ã€‚</li></ul></li></ol><hr><h4 id="è§£é”æ–¹å¼-2ï¼šå…¨å±€-dns-æ›¿æ¢æ¨¡å¼">è§£é”æ–¹å¼ 2ï¼šå…¨å±€ DNS æ›¿æ¢æ¨¡å¼</h4><ol><li>åœ¨è„šæœ¬èœå•ä¸­é€‰æ‹© <code>3-3</code>ã€‚</li><li>è¾“å…¥è‡ªå·±çš„è§£é”IPï¼Œä¸€é”®æ›¿æ¢ï¼Œå¹¶é”å®šresolv.confæ–‡ä»¶ã€‚<ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šéœ€è¦æ•´ä½“ä¼˜åŒ–ç½‘ç»œè§£æé€Ÿåº¦ï¼Œæå‡æ‰€æœ‰å·²è§£é”è‡ªåª’ä½“è¯·æ±‚ã€‚</li></ul></li></ol><h3 id="é…ç½®æ–‡ä»¶å‚è€ƒ">é…ç½®æ–‡ä»¶å‚è€ƒ</h3><p>ä¸‹é¢æ˜¯<code>/etc/dnsmasq.conf</code>ï¼Œé‡Œé¢åŒ…å«äº†ä¸åŒæµåª’ä½“è§£é”çš„é…ç½®æ–‡ä»¶ï¼Œå°†1.2.1.2ä¿®æ”¹æˆå¯¹åº”çš„DNSè§£é”æœºipå³å¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¦ç”¨è¯»å– /etc/resolv.conf</span></span><br><span class="line">no-resolv</span><br><span class="line"><span class="comment"># è®¾ç½®é»˜è®¤çš„ä¸Šæ¸¸ DNS</span></span><br><span class="line">server=1.0.0.1 <span class="comment"># ä¸» DNSï¼ŒCloudfare Public DNS</span></span><br><span class="line">server=8.8.8.8 <span class="comment"># å¤‡ç”¨ DNSï¼ŒGoogle Public DNS</span></span><br><span class="line">cache-size=2048</span><br><span class="line">local-ttl=60</span><br><span class="line">listen-address=127.0.0.1</span><br><span class="line"><span class="comment"># Netflix ä¸“ç”¨ DNS</span></span><br><span class="line">server=/netflix.ca/1.2.1.2</span><br><span class="line">server=/netflix.com/1.2.1.2</span><br><span class="line">server=/netflix.net/1.2.1.2</span><br><span class="line">server=/netflixinvestor.com/1.2.1.2</span><br><span class="line">server=/netflixtechblog.com/1.2.1.2</span><br><span class="line">server=/nflxext.com/1.2.1.2</span><br><span class="line">server=/nflximg.com/1.2.1.2</span><br><span class="line">server=/nflximg.net/1.2.1.2</span><br><span class="line">server=/nflxsearch.net/1.2.1.2</span><br><span class="line">server=/nflxso.net/1.2.1.2</span><br><span class="line">server=/nflxvideo.net/1.2.1.2</span><br><span class="line">server=/netflixdnstest0.com/1.2.1.2</span><br><span class="line">server=/netflixdnstest1.com/1.2.1.2</span><br><span class="line">server=/netflixdnstest2.com/1.2.1.2</span><br><span class="line">server=/netflixdnstest3.com/1.2.1.2</span><br><span class="line">server=/netflixdnstest4.com/1.2.1.2</span><br><span class="line">server=/netflixdnstest5.com/1.2.1.2</span><br><span class="line">server=/netflixdnstest6.com/1.2.1.2</span><br><span class="line">server=/netflixdnstest7.com/1.2.1.2</span><br><span class="line">server=/netflixdnstest8.com/1.2.1.2</span><br><span class="line">server=/netflixdnstest9.com/1.2.1.2</span><br><span class="line">server=/cinemax.com/1.2.1.2</span><br><span class="line">server=/forthethrone.com/1.2.1.2</span><br><span class="line"><span class="comment"># HBO DNSè§£é”</span></span><br><span class="line">server=/hbo.com/1.2.1.2</span><br><span class="line">server=/hboasia.com/1.2.1.2</span><br><span class="line">server=/hbogo.com/1.2.1.2</span><br><span class="line">server=/hbogoasia.com/1.2.1.2</span><br><span class="line">server=/hbogoasia.hk/1.2.1.2</span><br><span class="line">server=/hbomax.com/1.2.1.2</span><br><span class="line">server=/hbonow.com/1.2.1.2</span><br><span class="line">server=/maxgo.com/1.2.1.2</span><br><span class="line">server=/max.com/1.2.1.2</span><br><span class="line">server=/discomax.com/1.2.1.2</span><br><span class="line"><span class="comment"># Hoy DNSè§£é”</span></span><br><span class="line">server=/hoy.tv/1.2.1.2</span><br><span class="line"><span class="comment"># Bahamut Animeè§£é”</span></span><br><span class="line">server=/bahamut.com.tw/1.2.1.2</span><br><span class="line">server=/gamer.com.tw/1.2.1.2</span><br><span class="line">server=/gamer-cds.cdn.hinet.net/1.2.1.2</span><br><span class="line">server=/gamer2-cds.cdn.hinet.net/1.2.1.2</span><br><span class="line"><span class="comment"># Disney DNSè§£é”</span></span><br><span class="line">server=/disney.com/1.2.1.2</span><br><span class="line">server=/disneyjunior.com/1.2.1.2</span><br><span class="line">server=/disneyplus.com/1.2.1.2</span><br><span class="line">server=/bamgrid.com/1.2.1.2</span><br><span class="line"><span class="comment"># ChatGPT DNSè§£é”</span></span><br><span class="line">server=/openai.com/1.2.1.2</span><br><span class="line">server=/chatgpt.com/1.2.1.2</span><br><span class="line">server=/chat.com/1.2.1.2</span><br><span class="line">server=/oaistatic.com/1.2.1.2</span><br><span class="line">server=/oaiusercontent.com/1.2.1.2</span><br><span class="line">server=/chat.comopenai.com.cdn.cloudflare.net/1.2.1.2</span><br><span class="line">server=/openaiapi-site.azureedge.net/1.2.1.2</span><br><span class="line">server=/openaicom-api-bdcpf8c6d2e9atf6.z01.azurefd.net/1.2.1.2</span><br><span class="line">server=/openaicomproductionae4b.blob.core.windows.net/1.2.1.2</span><br><span class="line">server=/production-openaicom-storage.azureedge.net/1.2.1.2</span><br><span class="line">server=/byteoversea.com/1.2.1.2</span><br><span class="line">server=/ibytedtos.com/1.2.1.2</span><br><span class="line">server=/ipstatp.com/1.2.1.2</span><br><span class="line">server=/muscdn.com/1.2.1.2</span><br><span class="line">server=/musical.ly/1.2.1.2</span><br><span class="line"><span class="comment"># tiktok DNSè§£é”</span></span><br><span class="line">server=/tik-tokapi.com/1.2.1.2</span><br><span class="line">server=/tiktok.com/1.2.1.2</span><br><span class="line">server=/tiktokcdn.com/1.2.1.2</span><br><span class="line">server=/tiktokv.com/1.2.1.2</span><br><span class="line">server=/ggpht.cn/1.2.1.2</span><br><span class="line">server=/ggpht.com/1.2.1.2</span><br><span class="line">server=/googlevideo.com/1.2.1.2</span><br><span class="line">server=/gvt2.com/1.2.1.2</span><br><span class="line"><span class="comment"># Youtube DNSè§£é”</span></span><br><span class="line">server=/withyoutube.com/1.2.1.2</span><br><span class="line">server=/youtube-nocookie.com/1.2.1.2</span><br><span class="line">server=/youtube.com/1.2.1.2</span><br><span class="line">server=/youtubeeducation.com/1.2.1.2</span><br><span class="line">server=/youtubefanfest.com/1.2.1.2</span><br><span class="line">server=/youtubegaming.com/1.2.1.2</span><br><span class="line">server=/youtubego.com/1.2.1.2</span><br><span class="line">server=/youtubei.googleapis.com/1.2.1.2</span><br><span class="line">server=/youtubekids.com/1.2.1.2</span><br><span class="line">server=/youtubemobilesupport.com/1.2.1.2</span><br><span class="line">server=/ytimg.com/1.2.1.2</span><br><span class="line"><span class="comment"># Spotify DNSè§£é”</span></span><br><span class="line">server=/audio4-ak-spotify-com.akamaized.net/1.2.1.2</span><br><span class="line">server=/dn-spotify-experiments.conductrics.com/1.2.1.2</span><br><span class="line">server=/heads-ak-spotify-com.akamaized.net/1.2.1.2</span><br><span class="line">server=/spotify.com.edgesuite.net/1.2.1.2</span><br><span class="line">server=/spotify.map.fastly.net/1.2.1.2</span><br><span class="line">server=/spotify.map.fastlylb.net/1.2.1.2</span><br><span class="line">server=/audio-ak-spotify-com.akamaized.net/1.2.1.2</span><br><span class="line">server=/byspotify.com/1.2.1.2</span><br><span class="line">server=/heads4-ak-spotify-com.akamaized.net/1.2.1.2</span><br><span class="line">server=/pscdn.co/1.2.1.2</span><br><span class="line">server=/scdn.co/1.2.1.2</span><br><span class="line">server=/spoti.fi/1.2.1.2</span><br><span class="line">server=/spotify-com.akamaized.net/1.2.1.2</span><br><span class="line">server=/spotify-everywhere.com/1.2.1.2</span><br><span class="line">server=/spotify.com/1.2.1.2</span><br><span class="line">server=/spotify.design/1.2.1.2</span><br><span class="line">server=/spotifycdn.com/1.2.1.2</span><br><span class="line">server=/spotifycdn.net,Spotify/1.2.1.2</span><br><span class="line">server=/spotifycharts.com/1.2.1.2</span><br><span class="line">server=/spotifycodes.com/1.2.1.2</span><br><span class="line">server=/spotifyforbrands.com/1.2.1.2</span><br><span class="line">server=/spotifyjobs.com/1.2.1.2</span><br><span class="line">server=/spotifynewsroom.jp/1.2.1.2</span><br><span class="line">server=/spotilocal.com/1.2.1.2</span><br><span class="line">server=/tospotify.com/1.2.1.2</span><br><span class="line"><span class="comment"># Hotstar DNSè§£é”</span></span><br><span class="line">server=/hotstar-cdn.net/1.2.1.2</span><br><span class="line">server=/hotstar-labs.com/1.2.1.2</span><br><span class="line">server=/hotstar.com/1.2.1.2</span><br><span class="line">server=/hotstarext.com/1.2.1.2</span><br><span class="line">server=/hsprepack.akamaized.net/1.2.1.2</span><br><span class="line">server=/js-agent.newrelic.com/1.2.1.2</span><br><span class="line"><span class="comment"># MyTVSuper DNSè§£é”</span></span><br><span class="line">server=/mytvsuper.com/1.2.1.2</span><br><span class="line">server=/mytvsuperlimited.hb.omtrdc.net/1.2.1.2</span><br><span class="line">server=/mytvsuperlimited.sc.omtrdc.net/1.2.1.2</span><br><span class="line">server=/tvb.com/1.2.1.2</span><br><span class="line"><span class="comment"># Gemini DNSè§£é”</span></span><br><span class="line">server=/gemini.google.com/1.2.1.2</span><br><span class="line">server=/proactivebackend-pa.googleapis.com/1.2.1.2</span><br><span class="line">server=/alkalimakersuite-pa.clients6.google.com/1.2.1.2</span><br><span class="line">server=/aistudio.google.com/1.2.1.2</span><br><span class="line">server=/generativelanguage.googleapis.com/1.2.1.2</span><br><span class="line"><span class="comment"># bilibili DNSè§£é” HK</span></span><br><span class="line">server=/bilibili.tv/1.2.1.2</span><br><span class="line">server=/www.bilibili.com/1.2.1.2</span><br><span class="line">server=/cm.bilibili.com/1.2.1.2</span><br><span class="line">server=/api.bilibili.com/1.2.1.2</span><br><span class="line">server=/api.vc.bilibili.com/1.2.1.2</span><br><span class="line">server=/api.live.bilibili.com/1.2.1.2</span><br><span class="line">server=/passport.bilibili.com/1.2.1.2</span><br><span class="line">server=/data.bilibili.com/1.2.1.2</span><br><span class="line">server=/broadcast.chat.bilibili.com/1.2.1.2</span><br><span class="line">server=/upos-hz-mirrorakam.akamaized.net/1.2.1.2</span><br><span class="line">server=/bangumi.bilibili.com/1.2.1.2</span><br><span class="line">server=/manga.bilibili.com/1.2.1.2</span><br><span class="line"><span class="comment"># VIU.TV DNSè§£é” HK</span></span><br><span class="line">server=/viu.now.com/1.2.1.2</span><br><span class="line">server=/viu.tv/1.2.1.2</span><br><span class="line">server=/cognito-identity.us-east-1.amazonaws.com/1.2.1.2</span><br><span class="line">server=/d1k2us671qcoau.cloudfront.net/1.2.1.2</span><br><span class="line">server=/d2anahhhmp1ffz.cloudfront.net/1.2.1.2</span><br><span class="line">server=/dfp6rglgjqszk.cloudfront.net/1.2.1.2</span><br><span class="line">server=/d3o7oi00quuwqu.cloudfront.net/1.2.1.2</span><br><span class="line">server=/mobileanalytics.us-east-1.amazonaws.com/1.2.1.2</span><br><span class="line">server=/viu.com/1.2.1.2</span><br><span class="line"><span class="comment"># DAZN DNSè§£é” SG</span></span><br><span class="line">server=/dazn-api.com/1.2.1.2</span><br><span class="line">server=/dazn.com/1.2.1.2</span><br><span class="line">server=/dazndn.com/1.2.1.2</span><br><span class="line">server=/indazn.com/1.2.1.2</span><br><span class="line">server=/d1sgwhnao7452x.cloudfront.net/1.2.1.2</span><br><span class="line">server=/dcalivedazn.akamaized.net/1.2.1.2</span><br><span class="line">server=/dcblivedazn.akamaized.net/1.2.1.2</span><br><span class="line">server=/d151l6v8er5bdm.cloudfront.net/1.2.1.2</span><br><span class="line">server=/control.kochava.com/1.2.1.2</span><br><span class="line">server=/dc2-vodhls-perform.secure.footprint.net/1.2.1.2</span><br><span class="line">server=/dca-ll-livedazn-dznlivejp.s.llnwi.net/1.2.1.2</span><br><span class="line">server=/indaznlab.com/1.2.1.2</span><br><span class="line">server=/intercom.io/1.2.1.2</span><br><span class="line">server=/logx.optimizely.com/1.2.1.2</span><br><span class="line">server=/s.yimg.jp/1.2.1.2</span><br><span class="line">server=/sentry.io/1.2.1.2</span><br><span class="line"><span class="comment"># Now E DNSè§£é” HK</span></span><br><span class="line">server=/nowe.com/1.2.1.2</span><br><span class="line">server=/nowestatic.com/1.2.1.2</span><br><span class="line">server=/now.com/1.2.1.2</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; NBA TV</span></span><br><span class="line">server=/nba.com/1.2.1.2</span><br><span class="line">server=/neulion-a.akamaihd.net/1.2.1.2</span><br><span class="line">server=/nlnbamdnyc-a.akamaihd.net/1.2.1.2</span><br><span class="line">server=/sdk.iad-03.braze.com/1.2.1.2</span><br><span class="line">server=/nbaprop.sc.omtrdc.net/1.2.1.2</span><br><span class="line">server=/nlnbaqos.neulion.com/1.2.1.2</span><br><span class="line">server=/watchnba.cdnfastly.endeavorstreaming.net/1.2.1.2</span><br><span class="line">server=/nbaapi.neulion.com/1.2.1.2</span><br><span class="line">server=/nba-api-cdn.opin.media/1.2.1.2</span><br><span class="line">server=/neulionqos-a.akamaihd.net/1.2.1.2</span><br><span class="line">server=/neulion.com/1.2.1.2</span><br><span class="line">server=/nbaprop.tt.omtrdc.net/1.2.1.2</span><br><span class="line">server=/lion-nba-msl.akamaized.net/1.2.1.2</span><br><span class="line">server=/nbanlds19vod.akamaized.net/1.2.1.2</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ‰‹åŠ¨-åˆ©ç”¨sniä»£ç†å’Œsmartdnsè‡ªå»ºdnsè§£é”">æ‰‹åŠ¨-åˆ©ç”¨sniä»£ç†å’Œsmartdnsè‡ªå»ºDNSè§£é”</h1><blockquote><p>å‚è€ƒé¡¹ç›®ï¼š<a href="https://github.com/myxuchangbin/dnsmasq_sniproxy_install">https://github.com/myxuchangbin/dnsmasq_sniproxy_install</a></p><p>è§†é¢‘æ•™ç¨‹ï¼š<a href="https://youtu.be/Vj4TGd9IaQc?t=682">https://youtu.be/Vj4TGd9IaQc?t=682</a></p></blockquote><h2 id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢</h2><p>ä¸ºå®ç°è‡ªå»ºDNSè§£é”å¯ä»¥é‡‡å–ä¸¤ç§åŠæ³•ï¼š</p><p>ç¬¬ä¸€ç§<strong>å»ºç«‹ç§äººDNSæœåŠ¡å™¨</strong>ï¼Œé€‚ç”¨äº<strong>å¤šå°æœåŠ¡å™¨</strong>éœ€è¦è§£é”çš„åº”ç”¨åœºæ™¯</p><p>ç¬¬äºŒç§ç›´æ¥åœ¨<strong>è¢«è§£é”æœåŠ¡å™¨</strong>è®¾ç½®è§£é”ï¼Œé€‚ç”¨äº<strong>å•ä¸ªæœåŠ¡å™¨</strong>éœ€è¦è§£é”çš„åº”ç”¨åœºæ™¯</p><table><thead><tr><th></th><th>æ–¹æ¡ˆä¸€</th><th>æ–¹æ¡ˆäºŒ</th></tr></thead><tbody><tr><td>è§£é”æœºæ­å»ºsniä»£ç†</td><td>âˆš</td><td>âˆš</td></tr><tr><td>è§£é”æœºæ­å»ºDNSæœåŠ¡å™¨</td><td>âˆš</td><td>Ã—</td></tr><tr><td>è¢«è§£é”æœºæœ¬åœ°è®¾ç½®</td><td>ä»…éœ€ä¿®æ”¹ç³»ç»ŸDNS</td><td>éœ€è¦åœ¨æ‰€æœ‰è¢«è§£é”æœºæ­å»ºsmartdns</td></tr><tr><td>çµæ´»æ€§</td><td>å¿«æ·</td><td>è¾ƒä¸ºå¤æ‚</td></tr><tr><td>å¯é æ€§</td><td>è‡ªå»ºDNSæœåŠ¡å™¨å®•æœºï¼Œæœ¬åœ°DNSç˜«ç—ª</td><td>è‡ªå»ºDNSæœåŠ¡å™¨å®•æœºï¼Œæœ¬åœ°DNSæ­£å¸¸</td></tr><tr><td>åº”ç”¨åœºæ™¯</td><td>å¤šå°æœåŠ¡å™¨</td><td>å•å°æœåŠ¡å™¨</td></tr></tbody></table><p><strong>æœ¬æ–‡ä¹‹æ‰€ä»¥é€‰æ‹©ç”¨smartdnså–ä»£Dnsmasqï¼Œåœ¨äºsmartdns æ— è®ºæ˜¯åœ¨æŸ¥è¯¢é€Ÿåº¦ã€æŸ¥è¯¢åˆ°çš„IPè®¿é—®é€Ÿåº¦å’Œå¹¿å‘Šè¿‡æ»¤éƒ½å¼ºäºDnsmasqã€‚</strong></p><h2 id="å¿…å¤‡å†…å®¹">å¿…å¤‡å†…å®¹</h2><p>1å°è§£é”æµåª’ä½“çš„æœåŠ¡å™¨ï¼ˆ53,443å’Œ80ç«¯å£éƒ½ä¸èƒ½è¢«å ç”¨ï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹80ç«¯å£æ˜¯å¦è¢«å ç”¨</span></span><br><span class="line">sudo netstat -tulnp | grep :80</span><br><span class="line"><span class="comment"># å…³æ‰nginx</span></span><br><span class="line">sudo systemctl stop nginx</span><br><span class="line"><span class="comment"># ç¦æ­¢å¼€æœºè‡ªå¯nginx</span></span><br><span class="line">sudo systemctl <span class="built_in">disable</span> nginx</span><br></pre></td></tr></table></figure><h2 id="sni-proxyæ­å»º">SNI Proxyæ­å»º</h2><p>ç”±äºå­˜åœ¨ä¸¤ç§å®ç°æ–¹æ³•ï¼Œæ•™ç¨‹é™¤äº†sniä»£ç†ä¸ºç»Ÿä¸€æ­¥éª¤å¤–ï¼Œå…¶ä½™éƒ¨åˆ†å› å·®å¼‚æ€§å°†åˆ†å¼€é˜è¿°ï¼Œsniä¸ºåå‘ä»£ç†å·¥å…·</p><h3 id="è§£é”æœº-å®‰è£…sni-proxy">è§£é”æœº:å®‰è£…SNI Proxy</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O dnsmasq_sniproxy.sh https://raw.githubusercontent.com/myxuchangbin/dnsmasq_sniproxy_install/master/dnsmasq_sniproxy.sh </span><br></pre></td></tr></table></figure><h3 id="è§£é”æœº-è¿è¡Œsni-proxy">è§£é”æœº:è¿è¡ŒSNI Proxy</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨æ–¹æ³•ï¼šbash dnsmasq_sniproxy.sh [-h] [-i] [-f] [-<span class="built_in">id</span>] [-fd] [-is] [-fs] [-u] [-ud] [-us]</span><br><span class="line">  -h , --<span class="built_in">help</span>                æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</span><br><span class="line">  -i , --install             å®‰è£… Dnsmasq + SNI Proxy</span><br><span class="line">  -f , --fastinstall         å¿«é€Ÿå®‰è£… Dnsmasq + SNI Proxy</span><br><span class="line">  -<span class="built_in">id</span>, --installdnsmasq      ä»…å®‰è£… Dnsmasq</span><br><span class="line">  -<span class="built_in">id</span>, --installdnsmasq      å¿«é€Ÿå®‰è£… Dnsmasq</span><br><span class="line">  -is, --installsniproxy     ä»…å®‰è£… SNI Proxy</span><br><span class="line">  -fs, --fastinstallsniproxy å¿«é€Ÿå®‰è£… SNI Proxy</span><br><span class="line">  -u , --uninstall           å¸è½½ Dnsmasq + SNI Proxy</span><br><span class="line">  -ud, --undnsmasq           å¸è½½ Dnsmasq</span><br><span class="line">  -us, --unsniproxy          å¸è½½ SNI Proxy</span><br></pre></td></tr></table></figure><p>è¿™é‡ŒåŸæ•™ç¨‹æ˜¯åªä½¿ç”¨<code>bash dnsmasq_sniproxy.sh -is</code>ï¼Œä»…å®‰è£…SNI Proxyï¼Œç„¶åå†æ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ç›´æ¥ç”¨<code>bash dnsmasq_sniproxy.sh -fs</code>è®©å·¥å…·è‡ªåŠ¨å†™å¥½é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥å¯¹é…ç½®æ–‡ä»¶ä¾æ®è‡ªå·±å–œå¥½è¿›è¡Œä¿®æ”¹ã€‚</p><h3 id="è§£é”æœº-æ‰‹åŠ¨è®¾ç½®sni-proxyçš„é…ç½®æ–‡ä»¶">è§£é”æœº:æ‰‹åŠ¨è®¾ç½®SNI Proxyçš„é…ç½®æ–‡ä»¶</h3><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå°†æ‰€éœ€dnsè§£é”çš„ç½‘å€æ ¼å¼åŒ–è¾“å…¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/sniproxy.conf</span><br></pre></td></tr></table></figure><p>æ ¼å¼ç¤ºä¾‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">user daemon</span><br><span class="line">pidfile /var/tmp/sniproxy.pid</span><br><span class="line"></span><br><span class="line">error_log &#123;</span><br><span class="line">    syslog daemon</span><br><span class="line">    priority notice</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">resolver &#123;</span><br><span class="line">    nameserver 8.8.8.8</span><br><span class="line">    nameserver 8.8.4.4 <span class="comment"># local dns should be better</span></span><br><span class="line">    mode ipv4_only</span><br><span class="line">&#125;</span><br><span class="line">listener 0.0.0.0:80 &#123;</span><br><span class="line">    proto http</span><br><span class="line">    access_log &#123;</span><br><span class="line">        filename /var/log/sniproxy/http_access.log</span><br><span class="line">        priority notice</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">listener 0.0.0.0:443 &#123;</span><br><span class="line">    proto tls</span><br><span class="line">    access_log &#123;</span><br><span class="line">        filename /var/log/sniproxy/https_access.log</span><br><span class="line">        priority notice</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">table &#123;</span><br><span class="line">    .*ai\.com$ *</span><br><span class="line">    .*openai\.com$ *</span><br><span class="line">    .*chatgpt.com$ *</span><br><span class="line">    .*oaistatic.com$ *</span><br><span class="line">    .*oaiusercontent.com$ *</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œé…ç½®åï¼Œé‡å¯SNI Proxy</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart sniproxy</span><br></pre></td></tr></table></figure><h3 id="è§£é”æœº-è®¾ç½®è§£é”ç™½åå•">è§£é”æœº:è®¾ç½®è§£é”ç™½åå•</h3><blockquote><p>å¦‚æœä¸åšè¿™æ­¥ï¼Œå¾ˆæœ‰å¯èƒ½è¢«åˆ«äººç›—ç”¨ä½ çš„DNSè§£é”æœåŠ¡ ï¼</p></blockquote><p>å¦‚æœªå®‰è£…ufwï¼Œè¯·å…ˆæ‰§è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ufw</span><br><span class="line">ufw <span class="built_in">enable</span></span><br></pre></td></tr></table></figure><p><strong>ç¬¬ä¸€æ¬¡å®‰è£…ä¸€å®šè¦æ”¾è¡Œå½“å‰ä½¿ç”¨çš„sshç«¯å£</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 22/tcp</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸‹é¢ç¤ºä¾‹çš„IPï¼ˆå†™è¢«è§£é”æœºIPï¼‰ï¼Œæ‰§è¡Œå³å¯ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from 142.171.50.112 to any port 443 proto tcp</span><br><span class="line">sudo ufw allow from 142.171.50.112 to any port 443 proto udp</span><br><span class="line">sudo ufw allow from 142.171.50.112 to any port 80 proto tcp</span><br><span class="line">sudo ufw allow from 142.171.50.112 to any port 80 proto udp</span><br></pre></td></tr></table></figure><h4 id="å¼€å¯dnsç™½åå•">å¼€å¯DNSç™½åå•</h4><p>å¼ºçƒˆå»ºè®®å¼€å¯DNSç™½åå•ï¼Œä¸å¼€å¯ä¼šè¢«åˆ«äººç™½å«–ï¼Œä¹Ÿå¯èƒ½è¢«Då“¥ç”¨ä½œDNSæ”¾å¤§æ”»å‡»</p><p>ä¿®æ”¹ä¸‹é¢ç¤ºä¾‹çš„IP(è¢«è§£é”æœºçš„ip)å³å¯ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from 142.171.50.112 to any port 53 proto udp</span><br></pre></td></tr></table></figure><h4 id="none"></h4><hr><h2 id="smartdnsæ–¹æ¡ˆ">SmartDNSæ–¹æ¡ˆ</h2><h3 id="å®‰è£…smartdns">å®‰è£…smartdns</h3><blockquote><p>è¿™é‡Œä½¿ç”¨smartdnsï¼Œä¸Šé¢çš„dnsmasq_sniproxy.shè„šæœ¬åªèƒ½å®‰è£…dnsmasqï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨å®‰è£…smartdns</p></blockquote><p>æ­¤å¤„å¯ä»¥ç”¨å¦ä¸€å°æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥å°±ç”¨æ­å»ºsniä»£ç†é‚£å°æœåŠ¡å™¨ã€‚</p><p>è¿è¡Œä¹‹å‰ï¼Œè¦ç¡®ä¿53ç«¯å£æ²¡è¢«å ç”¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹53ç«¯å£æ˜¯å¦è¢«å ç”¨</span></span><br><span class="line">sudo netstat -tulnp | grep :53</span><br><span class="line"><span class="comment"># å…³æ‰resolved</span></span><br><span class="line">sudo systemctl stop systemd-resolved</span><br><span class="line"><span class="comment"># ç¦æ­¢å¼€æœºè‡ªå¯resolved</span></span><br><span class="line">sudo systemctl <span class="built_in">disable</span> systemd-resolved</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¸Š<code>https://github.com/pymumu/smartdns/releases/</code>æŸ¥æ‰¾æœ€æ–°ç‰ˆæœ¬</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/pymumu/smartdns/releases/download/Release46/smartdns.1.2024.06.12-2222.x86-linux-all.tar.gz</span><br><span class="line">tar zxf smartdns.1.2024.06.12-2222.x86-linux-all.tar.gz</span><br><span class="line"><span class="built_in">cd</span> smartdns</span><br><span class="line"><span class="built_in">chmod</span> +x ./install</span><br><span class="line">./install -i</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</span></span><br><span class="line">systemctl status smartdns</span><br><span class="line"><span class="comment"># æ­¤æ—¶æœ¬åœ°çš„53ç«¯å£åº”è¯¥æ˜¯è¿è¡Œç€smartdnsï¼Œå¦åˆ™æ‰‹åŠ¨è¿è¡Œä¸‹</span></span><br><span class="line">systemctl start smartdns</span><br></pre></td></tr></table></figure><h3 id="æ–¹æ¡ˆä¸€ï¼šæ­å»ºdnsæœåŠ¡å™¨">æ–¹æ¡ˆä¸€ï¼šæ­å»ºDNSæœåŠ¡å™¨</h3><h4 id="è§£é”æœº-è®¾ç½®smardns">è§£é”æœº:è®¾ç½®smardns</h4><blockquote><p>æ³¨æ„ï¼Œè¿™é‡Œä¸è¦æŠŠè§£é”æœåŠ¡å™¨çš„IPå¡«å†™è¿›å»ï¼å¦åˆ™ä¼šå‡ºç°æŸ¥è¯¢å›ç¯ï¼ˆè‡ªå·±é—®è‡ªå·±ï¼‰</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/smartdns/smartdns.conf</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘é…ç½®ï¼Œè‡ªè¡Œæ·»åŠ éœ€è¦è§£é”çš„ç½‘å€ï¼Œå¸¸è§æµåª’ä½“åŸŸåå¯ä»¥å‚è€ƒ<a href="https://github.com/1-stream/1stream-public-utils/blob/main/stream.smartdns.list">1streamå†™å¥½çš„</a></p><p>ä¸‹é¢çš„é…ç½®æ–‡ä»¶æ˜¯åŒ…å«â€œåµŒå¥—è§£é”â€ï¼Œå…¶ä¸­åµŒå¥—äº†Aliceçš„è§£ææœåŠ¡ï¼›</p><p>å…·ä½“çš„smartdnç”¨æ³•å‚è€ƒï¼š<a href="https://pymumu.github.io/smartdns/config/domain-address/">https://pymumu.github.io/smartdns/config/domain-address/</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># &gt; Netflix</span><br><span class="line"># å¦‚æœä½¿ç”¨ä¸Šæ¸¸DNSæœåŠ¡å™¨ï¼Œåˆ™ä½¿ç”¨nameserver</span><br><span class="line">nameserver /netflix.com/SGdnsproxy</span><br><span class="line"></span><br><span class="line"># å¦‚æœä½¿ç”¨è§£é”æœºIPï¼Œåˆ™ä½¿ç”¨address</span><br><span class="line">address /netflix.com/11.22.33.44</span><br></pre></td></tr></table></figure><p>å®Œæ•´é…ç½®å¦‚ä¸‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bind</span> [::]:53</span><br><span class="line"><span class="comment">#bind[::]:53@eth0 -no-dualstack-selection -no-speed-check </span></span><br><span class="line">dualstack-ip-selection no</span><br><span class="line">speed-check-mode none</span><br><span class="line">serve-expired-prefetch-time 21600</span><br><span class="line">prefetch-domain <span class="built_in">yes</span></span><br><span class="line">cache-size 32768</span><br><span class="line">cache-persist <span class="built_in">yes</span></span><br><span class="line">cache-file /etc/smartdns/cache</span><br><span class="line">prefetch-domain <span class="built_in">yes</span></span><br><span class="line">serve-expired <span class="built_in">yes</span></span><br><span class="line">serve-expired-ttl 259200</span><br><span class="line">serve-expired-reply-ttl 3</span><br><span class="line">prefetch-domain <span class="built_in">yes</span></span><br><span class="line">serve-expired-prefetch-time 21600</span><br><span class="line">cache-checkpoint-time 86400</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®é»˜è®¤çš„ä¸Šæ¸¸ DNS</span></span><br><span class="line">server 8.8.8.8 <span class="comment">#é»˜è®¤ä¸Šæ¸¸DNS</span></span><br><span class="line">server 8.8.4.4 <span class="comment">#é»˜è®¤ä¸Šæ¸¸DNS</span></span><br><span class="line"><span class="comment"># é…ç½®ä¸Šæ¸¸DNS  alice-dns-hk</span></span><br><span class="line">server 154.12.177.22 IP -group HKdnsproxy -exclude-default-group</span><br><span class="line"><span class="comment"># é…ç½®ä¸Šæ¸¸DNS  alice-dns-sg</span></span><br><span class="line">server 157.20.104.47 IP -group SGdnsproxy -exclude-default-group</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; Disney+</span></span><br><span class="line">nameserver /disney.connections.edge.bamgrid.com/us</span><br><span class="line">nameserver /disney.api.edge.bamgrid.com/us</span><br><span class="line">nameserver /disney-plus.net/us</span><br><span class="line">nameserver /disneyplus.com/us</span><br><span class="line">nameserver /dssott.com/us</span><br><span class="line">nameserver /disneynow.com/us</span><br><span class="line">nameserver /disneystreaming.com/us</span><br><span class="line">nameserver /cdn.registerdisney.go.com/us</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; Netflix</span></span><br><span class="line"><span class="comment"># å¦‚æœä½¿ç”¨ä¸Šæ¸¸DNSæœåŠ¡å™¨</span></span><br><span class="line">nameserver /netflix.com/SGdnsproxy</span><br><span class="line">nameserver /netflix.net/SGdnsproxy</span><br><span class="line">nameserver /nflximg.com/SGdnsproxy</span><br><span class="line">nameserver /nflximg.net/SGdnsproxy</span><br><span class="line">nameserver /nflxvideo.net/SGdnsproxy</span><br><span class="line">nameserver /nflxext.com/SGdnsproxy</span><br><span class="line">nameserver /nflxso.net/SGdnsproxy</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä½¿ç”¨è§£é”æœºIP</span></span><br><span class="line"><span class="comment">#address /netflix.com/11.22.33.44</span></span><br><span class="line"><span class="comment">#address /netflix.net/11.22.33.44</span></span><br><span class="line"><span class="comment">#address /nflximg.com/11.22.33.44</span></span><br><span class="line"><span class="comment">#address /nflximg.net/11.22.33.44</span></span><br><span class="line"><span class="comment">#address /nflxvideo.net/11.22.33.44</span></span><br><span class="line"><span class="comment">#address /nflxext.com/11.22.33.44</span></span><br><span class="line"><span class="comment">#address /nflxso.net/11.22.33.44</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; HuluUSA</span></span><br><span class="line">address /assetshuluimcom-a.akamaihd.net/11.22.33.44</span><br><span class="line">address /cws-hulu.conviva.com/11.22.33.44</span><br><span class="line">address /hulu.com/11.22.33.44</span><br><span class="line">address /hulu.hb.omtrdc.net/11.22.33.44</span><br><span class="line">address /hulu.sc.omtrdc.net/11.22.33.44</span><br><span class="line">address /huluad.com/11.22.33.44</span><br><span class="line">address /huluqa.com/11.22.33.44</span><br><span class="line">address /hulustream.com/11.22.33.44</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; HBO / Max</span></span><br><span class="line">address /max.com/11.22.33.44</span><br><span class="line">address /hbo.com/11.22.33.44</span><br><span class="line">address /hbomax.com/11.22.33.44</span><br><span class="line">address /hbomaxcdn.com/11.22.33.44</span><br><span class="line">address /hbonow.com/11.22.33.44</span><br><span class="line">address /discomax.com/11.22.33.44</span><br><span class="line"></span><br><span class="line">nameserver /hbogo.com/SGdnsproxy</span><br><span class="line">nameserver /maxgo.com/SGdnsproxy</span><br><span class="line"><span class="comment"># ---------- &gt; Taiwan Media</span></span><br><span class="line"><span class="comment"># &gt; KKTV</span></span><br><span class="line">nameserver /kfs.io/HKdnsproxy</span><br><span class="line">nameserver /kktv-theater.kk.stream/HKdnsproxy</span><br><span class="line">nameserver /kkbox.com/HKdnsproxy</span><br><span class="line">nameserver /kkbox.com.tw/HKdnsproxy</span><br><span class="line">nameserver /kktv.com.tw/HKdnsproxy</span><br><span class="line">nameserver /kktv.me/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; LiTV</span></span><br><span class="line">nameserver /litv.tv/HKdnsproxy</span><br><span class="line">nameserver /litvfreepc.akamaized.net/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; MyVideo</span></span><br><span class="line">nameserver /cdn.plyr.io/HKdnsproxy</span><br><span class="line">nameserver /myvideo.net.tw/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; 4GTV</span></span><br><span class="line">nameserver /4gtv.tv/HKdnsproxy</span><br><span class="line">nameserver /4gtvfreepc-cds.cdn.hinet.net/HKdnsproxy</span><br><span class="line">nameserver /4gtvfreepcvod-cds.cdn.hinet.net/HKdnsproxy</span><br><span class="line">nameserver /4gtvpc-cds.cdn.hinet.net/HKdnsproxy</span><br><span class="line">nameserver /4gtvpcvod-cds.cdn.hinet.net/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; LineTV.TW</span></span><br><span class="line">nameserver /d3c7rimkq79yfu.cloudfront.net/HKdnsproxy</span><br><span class="line">nameserver /linetv.tw/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; Hami Video</span></span><br><span class="line">nameserver /cdn.hinet.net/HKdnsproxy</span><br><span class="line">nameserver /hamivideo.hinet.net/HKdnsproxy</span><br><span class="line">nameserver /scc.ott.hinet.net/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; CatchPlay+</span></span><br><span class="line">nameserver /catchplay.com/HKdnsproxy</span><br><span class="line">nameserver /d2ivmxp5z2ww0n.cloudfront.net/HKdnsproxy</span><br><span class="line">nameserver /ols-ww100-cp.akamaized.net/HKdnsproxy</span><br><span class="line">nameserver /tra-www000-cp.akamaized.net/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; Bahamut Anime</span></span><br><span class="line">nameserver /bahamut.com.tw/HKdnsproxy</span><br><span class="line">nameserver /gamer.com.tw/HKdnsproxy</span><br><span class="line">nameserver /gamer-cds.cdn.hinet.net/HKdnsproxy</span><br><span class="line">nameserver /gamer2-cds.cdn.hinet.net/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; Friday Video</span></span><br><span class="line">nameserver /video.friday.tw/HKdnsproxy</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- &gt; Hong Kong Media</span></span><br><span class="line"><span class="comment"># &gt; Now E </span></span><br><span class="line">nameserver /nowe.com/HKdnsproxy</span><br><span class="line">nameserver /nowestatic.com/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; Now TV</span></span><br><span class="line">nameserver /now.com/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; Viu.TV</span></span><br><span class="line"><span class="comment">#include Viu.com</span></span><br><span class="line">nameserver /viu.now.com/HKdnsproxy</span><br><span class="line">nameserver /viu.tv/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; MyTVSuper</span></span><br><span class="line">nameserver /mytvsuper.com/HKdnsproxy</span><br><span class="line">nameserver /mytvsuperlimited.hb.omtrdc.net/HKdnsproxy</span><br><span class="line">nameserver /mytvsuperlimited.sc.omtrdc.net/HKdnsproxy</span><br><span class="line">nameserver /tvb.com/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; HOY TV</span></span><br><span class="line">nameserver /hoy.tv/HKdnsproxy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- &gt; SouthEastAsia media</span></span><br><span class="line"><span class="comment"># &gt; HBO GO Asia</span></span><br><span class="line">nameserver /44wilhpljf.execute-api.ap-southeast-1.amazonaws.com/HKdnsproxy</span><br><span class="line">nameserver /bcbolthboa-a.akamaihd.net/HKdnsproxy</span><br><span class="line">nameserver /dai3fd1oh325y.cloudfront.net/HKdnsproxy</span><br><span class="line">nameserver /hboasia1-i.akamaihd.net/HKdnsproxy</span><br><span class="line">nameserver /hboasia2-i.akamaihd.net/HKdnsproxy</span><br><span class="line">nameserver /hboasia3-i.akamaihd.net/HKdnsproxy</span><br><span class="line">nameserver /hboasia4-i.akamaihd.net/HKdnsproxy</span><br><span class="line">nameserver /hboasia5-i.akamaihd.net/HKdnsproxy</span><br><span class="line">nameserver /hboasialive.akamaized.net/HKdnsproxy</span><br><span class="line">nameserver /hbogoprod-vod.akamaized.net/HKdnsproxy</span><br><span class="line">nameserver /hbolb.onwardsmg.com/HKdnsproxy</span><br><span class="line">nameserver /hbounify-prod.evergent.com/HKdnsproxy</span><br><span class="line">nameserver /hbogo.co.th/HKdnsproxy</span><br><span class="line">nameserver /hbogoasia.com/HKdnsproxy</span><br><span class="line">nameserver /hbogoasia.hk/HKdnsproxy</span><br><span class="line">nameserver /hbogoasia.id/HKdnsproxy</span><br><span class="line">nameserver /hbogoasia.ph/HKdnsproxy</span><br><span class="line">nameserver /hbogoasia.sg/SGdnsproxy</span><br><span class="line">nameserver /hbogoasia.tw/HKdnsproxy</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- &gt; AI Platform</span></span><br><span class="line"><span class="comment"># &gt; Openai</span></span><br><span class="line">nameserver /openai.com/HKdnsproxy</span><br><span class="line">nameserver /chatgpt.com/HKdnsproxy</span><br><span class="line">nameserver /oaistatic.com/HKdnsproxy</span><br><span class="line">nameserver /oaiusercontent.com/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; ExHantai/E-hentai</span></span><br><span class="line">nameserver /exhentai.org/HKdnsproxy</span><br><span class="line">nameserver /e-hentai.org/HKdnsproxy</span><br><span class="line"><span class="comment"># &gt; Claude 2</span></span><br><span class="line">nameserver /anthropic.com/HKdnsproxy</span><br><span class="line">nameserver /claude.ai/HKdnsproxy</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- &gt; China Media</span></span><br><span class="line"><span class="comment"># &gt; BiliBili</span></span><br><span class="line">nameserver /bilibili.com/HKdnsproxy</span><br><span class="line">nameserver /bilibili.tv/HKdnsproxy</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¿å­˜å¹¶å¯åŠ¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è®°å¾—å…³é—­æœ¬åœ°DNSæœåŠ¡</span></span><br><span class="line">systemctl stop systemd-resolved &amp;&amp; systemctl <span class="built_in">disable</span> systemd-resolved </span><br><span class="line"><span class="comment">#å¼€å¯smartdns</span></span><br><span class="line">systemctl <span class="built_in">enable</span> smartdns</span><br><span class="line">systemctl start smartdns</span><br></pre></td></tr></table></figure><h4 id="è§£é”æœº-å¼€å¯dnsç™½åå•">è§£é”æœº:å¼€å¯DNSç™½åå•</h4><p>å¼ºçƒˆå»ºè®®å¼€å¯DNSç™½åå•ï¼Œä¸å¼€å¯ä¼šè¢«åˆ«äººç™½å«–ï¼Œä¹Ÿå¯èƒ½è¢«Då“¥ç”¨ä½œDNSæ”¾å¤§æ”»å‡»</p><p>ä¿®æ”¹ä¸‹é¢ç¤ºä¾‹çš„IP(è¢«è§£é”æœºçš„ip)å³å¯ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw allow from 64.23.217.157 to any port 53 proto udp</span><br></pre></td></tr></table></figure><h4 id="è¢«è§£é”æœº-å…¨å±€ä¿®æ”¹dns">è¢«è§£é”æœº:å…¨å±€ä¿®æ”¹DNS</h4><p>ä¿®æ”¹DNSä¸ºè§£é”æœºæˆ–è€…DNSæœåŠ¡å™¨çš„IP</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/resolv.conf</span><br><span class="line"><span class="comment"># æ·»åŠ ä¸‹é¢çš„</span></span><br><span class="line">nameserver è§£é”æœºæˆ–DNSæœåŠ¡å™¨çš„IP</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå…¨å±€ä¿®æ”¹DNSåˆ°è§£é”æœºï¼Œå¦‚æœè§£é”æœºå®•æœºï¼Œè¢«è§£é”æœºçš„DNSæœåŠ¡ä¼šå‡ºé—®é¢˜ï¼›</p><h3 id="æ–¹æ¡ˆäºŒï¼šå•æœºä»£ç†">æ–¹æ¡ˆäºŒï¼šå•æœºä»£ç†</h3><h4 id="è¢«è§£é”æœº-æ­å»ºsmartdns-dnsmasq">è¢«è§£é”æœº:æ­å»ºsmartdns/dnsmasq</h4><p>åœ¨è¢«è§£é”æœåŠ¡å™¨<strong>æœ¬åœ°æ­å»ºsmartdns</strong></p><p>å®‰è£…æ­¥éª¤å’Œæ–¹æ¡ˆä¸€ç›¸åŒï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è®°å¾—å…³é—­æœ¬åœ°DNSæœåŠ¡</span></span><br><span class="line">systemctl stop systemd-resolved &amp;&amp; systemctl <span class="built_in">disable</span> systemd-resolved </span><br><span class="line"></span><br><span class="line"><span class="comment">#éå¿…è¦ï¼é»˜è®¤ä¼˜å…ˆipv6ï¼Œç›´æ¥ç¦ç”¨ipv6</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;1&quot;</span> &gt; /proc/sys/net/ipv6/conf/all/disable_ipv6 </span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶æœ‰æ‰€æ”¹å˜ï¼Œå…·ä½“æ”¹åŠ¨ä¸ºç¬¬ä¸€è¡Œçš„DNSè®¾ç½®ï¼Œè¯¥è®¾ç½®é™åˆ¶äº†ä»…æœ¬åœ°å¯ä»¥è®¿é—®</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/smartdns/smartdns.conf</span><br></pre></td></tr></table></figure><p>æ ¼å¼ç¤ºä¾‹ï¼š</p><p><strong>ä¸ç”¨å…¨éƒ¨æ·»åŠ ï¼Œå¦‚æœå·²ç»è§£é”äº†çš„æ²¡å¿…è¦æ·»åŠ è¿›å»</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bind</span> [::]:53</span><br><span class="line"><span class="comment">#bind[::]:53@eth0 -no-dualstack-selection -no-speed-check </span></span><br><span class="line">dualstack-ip-selection no</span><br><span class="line">speed-check-mode none</span><br><span class="line">serve-expired-prefetch-time 21600</span><br><span class="line">prefetch-domain <span class="built_in">yes</span></span><br><span class="line">cache-size 32768</span><br><span class="line">cache-persist <span class="built_in">yes</span></span><br><span class="line">cache-file /etc/smartdns/cache</span><br><span class="line">prefetch-domain <span class="built_in">yes</span></span><br><span class="line">serve-expired <span class="built_in">yes</span></span><br><span class="line">serve-expired-ttl 259200</span><br><span class="line">serve-expired-reply-ttl 3</span><br><span class="line">prefetch-domain <span class="built_in">yes</span></span><br><span class="line">serve-expired-prefetch-time 21600</span><br><span class="line">cache-checkpoint-time 86400</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®é»˜è®¤çš„ä¸Šæ¸¸ DNS</span></span><br><span class="line">server 11.22.33.44</span><br><span class="line">server 8.8.8.8 <span class="comment">#é»˜è®¤ä¸Šæ¸¸DNS</span></span><br><span class="line">server 8.8.4.4 <span class="comment">#é»˜è®¤ä¸Šæ¸¸DNS</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®è‡ªå®šä¹‰çš„è§£é”æœºä¸Šæ¸¸ DNS</span></span><br><span class="line">server 11.22.33.44 IP -group us -exclude-default-group</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; Disney+</span></span><br><span class="line">nameserver /disney.connections.edge.bamgrid.com/us</span><br><span class="line">nameserver /disney.api.edge.bamgrid.com/us</span><br><span class="line">nameserver /disney-plus.net/us</span><br><span class="line">nameserver /disneyplus.com/us</span><br><span class="line">nameserver /dssott.com/us</span><br><span class="line">nameserver /disneynow.com/us</span><br><span class="line">nameserver /disneystreaming.com/us</span><br><span class="line">nameserver /cdn.registerdisney.go.com/us</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; Netflix</span></span><br><span class="line">nameserver /netflix.com/us</span><br><span class="line">nameserver /netflix.net/us</span><br><span class="line">nameserver /nflximg.com/us</span><br><span class="line">nameserver /nflximg.net/us</span><br><span class="line">nameserver /nflxvideo.net/us</span><br><span class="line">nameserver /nflxext.com/us</span><br><span class="line">nameserver /nflxso.net/us</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; HuluUSA</span></span><br><span class="line">address /assetshuluimcom-a.akamaihd.net/11.22.33.44</span><br><span class="line">address /cws-hulu.conviva.com/11.22.33.44</span><br><span class="line">address /hulu.com/11.22.33.44</span><br><span class="line">address /hulu.hb.omtrdc.net/11.22.33.44</span><br><span class="line">address /hulu.sc.omtrdc.net/11.22.33.44</span><br><span class="line">address /huluad.com/11.22.33.44</span><br><span class="line">address /huluqa.com/11.22.33.44</span><br><span class="line">address /hulustream.com/11.22.33.44</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; Instagram</span></span><br><span class="line">nameserver /instagram.com/us</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; Tiktok</span></span><br><span class="line">nameserver /byteoversea.com/us</span><br><span class="line">nameserver /ibytedtos.com/us</span><br><span class="line">nameserver /ipstatp.com/us</span><br><span class="line">nameserver /muscdn.com/us</span><br><span class="line">nameserver /musical.ly/us</span><br><span class="line">nameserver /tiktok.com/us</span><br><span class="line">nameserver /tik-tokapi.com/us</span><br><span class="line">nameserver /tiktokcdn.com/us</span><br><span class="line">nameserver /tiktokv.com/us</span><br></pre></td></tr></table></figure><h4 id="è¢«è§£é”-ä¿®æ”¹dns">è¢«è§£é”:ä¿®æ”¹DNS</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹å®Œé…ç½®åï¼Œé‡å¯smartdns</span></span><br><span class="line">systemctl restart smartdns</span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</span></span><br><span class="line">systemctl status smartdns</span><br><span class="line"><span class="comment"># æ­¤æ—¶æœ¬åœ°çš„53ç«¯å£åº”è¯¥æ˜¯è¿è¡Œç€smartdns</span></span><br></pre></td></tr></table></figure><p>å†å°†ä¿®æ”¹æœ¬åœ°DNSä¸º127.0.0.1ï¼Œä»è€Œå®šä½åˆ°smartdnsæœåŠ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/resolv.conf</span><br></pre></td></tr></table></figure><h2 id="dnsmasqæ–¹æ¡ˆ">Dnsmasqæ–¹æ¡ˆ</h2><h3 id="è§£é”æœºå®‰è£…dnsmasq">è§£é”æœºå®‰è£…Dnsmasq</h3><blockquote><p>è¿™é‡Œåœ¨ä½¿ç”¨dnsmasqï¼Œä¸Šé¢çš„dnsmasq_sniproxy.shè„šæœ¬èƒ½ä¸€é”®å®‰è£…dnsmasqå¹¶é…ç½®å¥½æµåª’ä½“</p><p>å³åœ¨è¢«è§£é”æœºå»ºç«‹DNSæœåŠ¡ï¼Œä¸ºå¤šå°æœºå™¨æä¾›è§£é”</p></blockquote><p>ç¡®ä¿53ã€80ã€443ç«¯å£ä¸è¢«å ç”¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰§è¡Œ</span></span><br><span class="line">bash dnsmasq_sniproxy.sh -<span class="built_in">id</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œååº”è¯¥å³å¯è¿è¡ŒdnsmasqæœåŠ¡äº†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€å¯dnsmasqæœåŠ¡</span></span><br><span class="line">systemctl start dnsmasq &amp;&amp; systemctl <span class="built_in">enable</span> dnsmasq</span><br><span class="line"><span class="comment"># å…³é—­dnsmasqæœåŠ¡</span></span><br><span class="line">systemctl stop dnsmasq &amp;&amp; systemctl <span class="built_in">disable</span> dnsmasq</span><br><span class="line"><span class="comment"># å¼€å¯systemd-resolved</span></span><br><span class="line">systemctl start systemd-resolved &amp;&amp; systemctl <span class="built_in">enable</span> systemd-resolved </span><br></pre></td></tr></table></figure><h3 id="è¢«è§£é”æœºå®‰è£…dnsmasq">è¢«è§£é”æœºå®‰è£…Dnsmasq</h3><p>ä½¿ç”¨å‰é¢çš„è„šæœ¬ï¼Œåœ¨è¢«è§£é”æœºä¸Šè¿è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/Jimmyzxk/DNS-Alice-Unlock/refs/heads/main/dns-unlock.sh &amp;&amp; bash dns-unlock.sh</span><br></pre></td></tr></table></figure><p>åŒæ ·ä½¿ç”¨dnsmasqæ–¹æ¡ˆï¼Œå¡«å†™ä¸Šè§£é”æœºçš„ip</p><hr><h2 id="è¿˜åŸè®¾ç½®">è¿˜åŸè®¾ç½®</h2><blockquote><p>è¿˜åŸæˆåŸå§‹DNSè®¾ç½®</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…³é—­smartdnsæœåŠ¡</span></span><br><span class="line">systemctl stop smartdns &amp;&amp; systemctl <span class="built_in">disable</span> smartdns</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­dnsmasqæœåŠ¡</span></span><br><span class="line">systemctl stop dnsmasq &amp;&amp; systemctl <span class="built_in">disable</span> dnsmasq</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å¯systemd-resolved</span></span><br><span class="line">systemctl start systemd-resolved &amp;&amp; systemctl <span class="built_in">enable</span> systemd-resolved</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å¯smardns</span></span><br><span class="line">systemctl start smartdns &amp;&amp; systemctl <span class="built_in">enable</span> smartdns</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å¯dnsmasqæœåŠ¡</span></span><br><span class="line">systemctl start dnsmasq &amp;&amp; systemctl <span class="built_in">enable</span> dnsmasq</span><br><span class="line"></span><br><span class="line"><span class="comment">#å…³é—­æœ¬åœ°DNSæœåŠ¡</span></span><br><span class="line">systemctl stop systemd-resolved &amp;&amp; systemctl <span class="built_in">disable</span> systemd-resolved </span><br></pre></td></tr></table></figure><p>æ–‡ä»¶å¯èƒ½è¢«é”å®šï¼Œè¿™é‡Œæ˜¯è§£é”æ–¹æ³•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsattr /etc/resolv.conf</span><br></pre></td></tr></table></figure><p>å¦‚æœçœ‹åˆ°æœ‰â€™iâ€™ (e.g., <code>----i---------</code>)åˆ™è¯´æ˜æ–‡ä»¶è¢«é”å®š</p><p>è§£é™¤é”å®š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chattr -i /etc/resolv.conf</span><br></pre></td></tr></table></figure><p>éšåä¿®æ”¹æ–‡ä»¶æƒé™å³å¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">chmod</span> 755 /etc/resolv.conf</span><br></pre></td></tr></table></figure><h1 id="è§£é”æ–¹å¼å¯¹æ¯”">è§£é”æ–¹å¼å¯¹æ¯”</h1><h2 id="å…­ç§æƒ…å†µ">å…­ç§æƒ…å†µ</h2><ol><li>è§£é”æœºä¸è¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœºè¿è¡ŒSmartDNSï¼Œå¹¶ç”¨<code>nameserver</code>è§£æç½‘é£</li></ol><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241130143227303.png" alt="image-20241130143227303"></p><p>å¤±è´¥</p><ol start="2"><li>è§£é”æœºä¸è¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœºè¿è¡ŒSmartDNSï¼Œå¹¶ç”¨<code>address</code>è§£æç½‘é£</li></ol><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241130143412383.png" alt="image-20241130143412383"></p><p>è§£é”æˆåŠŸï¼Œå¹¶ä¸”ç½‘é£å®šä½æ˜¯US</p><ol start="3"><li>è§£é”æœºè¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœºè¿è¡ŒSmartDNSï¼Œå¹¶ç”¨<code>nameserver</code>è§£æç½‘é£</li></ol><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241130143637685.png" alt="image-20241130143637685"></p><p>è§£é”æˆåŠŸï¼Œå¹¶ä¸”çœ‹åˆ°ç½‘é£å®šä½æ˜¯SGï¼Œå› ä¸ºåœ¨è§£é”æœºä¸Šæˆ‘ä»¬å°†ç½‘é£çš„è§£æäº¤ç»™äº†Aliceçš„SGæœåŠ¡å™¨ï¼ˆä¸Šæ¸¸æœåŠ¡å™¨ï¼‰</p><ol start="4"><li>è§£é”æœºè¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœºè¿è¡ŒSmartDNSï¼Œå¹¶ç”¨<code>address</code>è§£æç½‘é£</li></ol><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241130143848175.png" alt="image-20241130143848175"></p><p>è§£é”æˆåŠŸï¼Œç½‘é£å®šä½æ˜¯USï¼ˆå³è§£é”æœºçš„åœ°åŒºï¼‰ï¼Œè¯´æ˜æ­¤æ—¶è§£é”æœºç›´æ¥è¿›è¡Œäº†è§£æï¼Œå¹¶æ²¡æœ‰äº¤ç»™ä¸Šæ¸¸AliceæœåŠ¡å™¨</p><ol start="5"><li>è§£é”æœºè¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœº<code>å…¨å±€DNSè§£æ</code>åˆ°è§£é”æœº</li></ol><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241130144503190.png" alt="image-20241130144503190"></p><p>è§£é”æˆåŠŸï¼Œå¹¶ä¸”çœ‹åˆ°ç½‘é£å®šä½æ˜¯SGï¼Œå› ä¸ºåœ¨è§£é”æœºä¸Šæˆ‘ä»¬å°†ç½‘é£çš„è§£æäº¤ç»™äº†Aliceçš„SGæœåŠ¡å™¨ï¼ˆä¸Šæ¸¸æœåŠ¡å™¨ï¼‰</p><p>å’Œåœ¨è¢«è§£é”æœºè¿è¡Œsmï¼Œå¹¶ä½¿ç”¨nameserverè§£æä¸€æ ·</p><ol start="6"><li>è§£é”æœºä¸è¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœº<code>å…¨å±€DNS</code>è§£æ</li></ol><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241130144630366.png" alt="image-20241130144630366"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œç›´æ¥å¤±è´¥äº†ï¼Œæ— æ³•è¿›è¡Œä»»ä½•DNSè§£æ</p><blockquote><p>æ³¨æ„ï¼Œè¿™é‡Œçš„è§£é”æœºè¿è¡ŒsmartDNSæ—¶ï¼Œç½‘é£çš„è§£é”äº¤ç»™Aliceçš„SGæœåŠ¡å™¨è§£æ</p></blockquote><table><thead><tr><th><strong>åºå·</strong></th><th><strong>è§£é”æ–¹å¼</strong></th><th><strong>ç»“æœ</strong></th><th><strong>ä¼˜ç‚¹</strong></th><th><strong>ç¼ºç‚¹</strong></th></tr></thead><tbody><tr><td><strong>1</strong></td><td>è§£é”æœºä¸è¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœºè¿è¡ŒSmartDNSï¼Œå¹¶ç”¨<code>nameserver</code>è§£æç½‘é£</td><td>æ— æ³•è§£ææˆåŠŸ</td><td>â€”</td><td>è§£æå¤±è´¥</td></tr><tr><td><strong>2</strong></td><td>è§£é”æœºä¸è¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœºè¿è¡ŒSmartDNSï¼Œå¹¶ç”¨<code>address</code>è§£æç½‘é£</td><td>è§£é”æˆåŠŸï¼Œç½‘é£å®šä½ä¸ºUSï¼ˆç”±è§£é”æœº<strong>ç›´æ¥è§£æ</strong>ï¼‰</td><td>æ— éœ€è§£é”æœºè¿è¡ŒSmartDNS</td><td></td></tr><tr><td><strong>3</strong></td><td>è§£é”æœºè¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœºè¿è¡ŒSmartDNSï¼Œå¹¶ç”¨<code>nameserver</code>è§£æç½‘é£</td><td>è§£é”æˆåŠŸï¼Œç½‘é£å®šä½ä¸ºSGï¼ˆç”±è§£é”æœºçš„<strong>ä¸Šæ¸¸æœåŠ¡å™¨å†³å®š</strong>ï¼‰</td><td>è¢«è§£é”æœºä¸å®Œå…¨ä¾èµ–è§£é”æœºï¼›å¯ä»¥ç”¨è§£é”æœºçš„ä¸Šæ¸¸æœåŠ¡å™¨</td><td></td></tr><tr><td><strong>4</strong></td><td>è§£é”æœºè¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœºè¿è¡ŒSmartDNSï¼Œå¹¶ç”¨<code>address</code>è§£æç½‘é£</td><td>è§£é”æˆåŠŸï¼Œç½‘é£å®šä½ä¸ºUSï¼ˆç”±è§£é”æœº<strong>ç›´æ¥è§£æ</strong>ï¼‰</td><td>è¢«è§£é”æœºä¸å®Œå…¨ä¾èµ–è§£é”æœº</td><td></td></tr><tr><td><strong>5</strong></td><td>è§£é”æœºè¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœº<code>å…¨å±€DNSè§£æ</code>åˆ°è§£é”æœº</td><td>è§£é”æˆåŠŸï¼Œç½‘é£å®šä½ä¸ºSGï¼ˆç”±è§£é”æœºçš„<strong>ä¸Šæ¸¸æœåŠ¡å™¨å†³å®š</strong>ï¼‰</td><td>æ¥å…¥æ–¹ä¾¿;å¯ä»¥ç”¨è§£é”æœºçš„ä¸Šæ¸¸æœåŠ¡å™¨</td><td>è¢«è§£é”æœºå®Œå…¨ä¾èµ–è§£é”æœºçš„SmartDNSï¼Œéœ€ä¿è¯è§£é”æœºç¨³å®šè¿è¡Œ</td></tr><tr><td><strong>6</strong></td><td>è§£é”æœºä¸è¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœº<code>å…¨å±€DNS</code>è§£æ</td><td>æ— æ³•è§£ææˆåŠŸ</td><td>â€”</td><td>æ— æ³•è§£æDNSï¼Œç›´æ¥å¤±è´¥</td></tr></tbody></table><hr><h2 id="æ¨èè§£é”æ–¹å¼">æ¨èè§£é”æ–¹å¼</h2><p>è§£é”æœºè¿è¡Œsniproxyï¼Œä¸è¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœºè¿è¡ŒSmartDNSå¹¶ç”¨<code>address</code>è§£æ</p><p>ä¼˜ç‚¹ï¼š</p><p>1ã€DNSè§£æé€Ÿåº¦å¿«</p><p>2ã€è¢«è§£é”æœºå¯ä»¥è‡ªç”±é€‰æ‹©ç”¨ä¸åŒè§£é”æœº</p><p>3ã€è§£é”æœºå®•æœºåä¹Ÿä¸å½±å“è¢«è§£é”æœºä½¿ç”¨</p><ol><li><strong>æ–¹å¼ 3ï¼ˆè§£é”æœºè¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœºè¿è¡ŒSmartDNSå¹¶ç”¨<code>nameserver</code>è§£æï¼‰</strong><ul><li>è§£é”æœºå¦‚æœè¿è¥äº†ä¸€ä¸ªDNSè§£é”æœåŠ¡å™¨ï¼Œå¯ä»¥é€šè¿‡åµŒå¥—è§£é”æ–¹å¼ï¼Œå®ç°ä¸åŒåœ°åŒºçš„å†…å®¹è§£é”ï¼›</li><li>è¢«è§£é”æœºè®¾ç½®æ‰€æœ‰æµåª’ä½“ç½‘ç«™å…¨éƒ¨ç”¨<code>nameserver</code>è§£æäº¤ç»™è§£é”æœºï¼Œä¸”ä¸å®Œå…¨ä¾èµ–è§£é”æœºï¼›</li></ul></li><li>**æ–¹å¼ 5 è§£é”æœºè¿è¡ŒSmartDNSï¼Œè¢«è§£é”æœº<code>å…¨å±€DNSè§£æ</code>åˆ°è§£é”æœº **<ol><li>æ–¹ä¾¿ï¼Œç®€å•</li></ol></li></ol><h1 id="é«˜çº§ç©æ³•">é«˜çº§ç©æ³•</h1><h2 id="ç©æ³•ä¸€-åµŒå¥—è§£é”">ç©æ³•ä¸€ åµŒå¥—è§£é”</h2><p>å…¶å®ï¼Œåœ¨æŸäº›å•†å®¶æä¾›DNSè§£é”çš„æœåŠ¡å™¨ä¹Ÿå¯ä»¥åˆ©ç”¨æœ¬æ•™ç¨‹ç»™å…¶ä»–æœåŠ¡å™¨æä¾›è§£é”ï¼Œå°±æ˜¯åµŒå¥—è§£é”ï¼ˆ<strong>è¯¥è¡Œä¸ºå¯èƒ½è¿åTOS</strong>ï¼‰ã€‚<br>å€ŸåŠ©æ–¹æ¡ˆä¸€ï¼Œä½¿ç”¨è‡ªå»ºDNSï¼Œåªéœ€è¦æ”¹ä¸€ä¸‹ä¸Šæ¸¸DNSè®¾ç½®å’ŒåŸŸåå¯¹åº”çš„DNSè®¾ç½®å³å¯å®ç°ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">server 210.0.255.250 <span class="comment">#é»˜è®¤ä¸Šæ¸¸DNS</span></span><br><span class="line">server 210.0.255.251 <span class="comment">#é»˜è®¤ä¸Šæ¸¸DNS</span></span><br><span class="line">server æ­¤å¤„å†™å•†å®¶æä¾›çš„DNS IP -group dnsproxy -exclude-default-group</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; Netflix</span></span><br><span class="line">nameserver /netflix.com/dnsproxy</span><br><span class="line">nameserver /netflix.net/dnsproxy</span><br><span class="line">nameserver /nflximg.com/dnsproxy </span><br><span class="line">nameserver /nflximg.net/dnsproxy</span><br><span class="line">nameserver /nflxvideo.net/dnsproxy </span><br><span class="line">nameserver /nflxext.com/dnsproxy </span><br><span class="line">nameserver /nflxso.net/dnsproxy </span><br></pre></td></tr></table></figure><h2 id="ç©æ³•äºŒ-è‡ªå»ºdohæœåŠ¡å™¨">ç©æ³•äºŒ è‡ªå»ºDOHæœåŠ¡å™¨</h2><p>æŸäº›å‚å•†å¼ºåˆ¶åŠ«æŒäº†53ç«¯å£çš„UDPæµé‡ï¼Œå¯¼è‡´æ— è®ºæ€ä¹ˆæ”¹DNSéƒ½æ— æ³•æ‘†è„±å•†å®¶çš„è§£é”æœåŠ¡ï¼Œæ­¤æ—¶DOHå°±æ´¾ä¸Šäº†ç”¨å¤„ã€‚<br>DOHç®€å•è¯´å°±æ˜¯DNS over HTTPSï¼Œé€šè¿‡DOH èµ°TCPæµé‡ä½¿ç”¨TLSå¯ä»¥å®Œç¾ç»•è¿‡DNSåŠ«æŒã€‚<br>smartdnså¯ä»¥æ­å»ºDOHæœåŠ¡å™¨ï¼Œä½†æ˜¯æˆ‘æ²¡æ­å»ºæˆåŠŸï¼Œso sadã€‚æ‰€ä»¥ä»…ä»‹ç»adguardhomeæ­å»ºDOHã€‚<br><a href="https://www.nodeseek.com/jump?to=https%3A%2F%2Faoyouer.com%2Fposts%2Fadguardhome-public-dns%2F">å…·ä½“adguardhomeæ­å»ºDOHçš„æ•™ç¨‹ç½‘ç»œå·²æœ‰å¾ˆå¤š</a>ï¼Œæ­¤å¤„å°±çœå»äº†ã€‚æ­å»ºè¿‡ç¨‹ä¸­ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šæ¸¸DNSéœ€è¦å†™127.0.0.1ã€‚<br>è¢«DNSåŠ«æŒçš„æœåŠ¡å™¨åªéœ€è¦åœ¨smartdnsä¸­å°†é»˜è®¤DNSè®¾ç½®ä¸ºè‡ªå·±åˆšå»ºå¥½çš„DOHåœ°å€å³å¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server-https https://cloudflare-dns.com/dns-query</span><br></pre></td></tr></table></figure><p>å°å»ºè®®ç”±äºTLSä¸‰æ¬¡æ¡æ‰‹çš„ç‰¹æ€§ï¼ŒæŸ¥è¯¢DNSçš„å»¶è¿Ÿè‚¯å®šä¼šæå‡ï¼Œå»ºè®®å¼€å¯smartdnsçš„ç¼“å­˜åŠŸèƒ½ã€‚</p><h2 id="ç©æ³•ä¸‰-smartdnså¼€å¯å¹¿å‘Šè¿‡æ»¤">ç©æ³•ä¸‰ smartdnså¼€å¯å¹¿å‘Šè¿‡æ»¤</h2><p>ä¸‹è½½é…ç½®æ–‡ä»¶åˆ°<code>/etc/smartdns</code>ç›®å½•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://anti-ad.net/anti-ad-for-smartdns.conf -O /etc/smartdns/anti-ad-smartdns.conf</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹è¯¥<code>/etc/smartdns/smartdns.conf</code>æ–‡ä»¶ä»¥åŒ…å«ä¸Šè¿°é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># åœ¨/etc/smartdns/smartdns.conf æœ«å°¾æ·»åŠ ä¸‹é¢è¿™è¡Œå³å¯</span><br><span class="line">conf-file /etc/smartdns/anti-ad-smartdns.conf</span><br></pre></td></tr></table></figure><p>ä¿å­˜å¹¶é‡å¯SmartDNS æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart smartdns</span><br></pre></td></tr></table></figure><h2 id="æ‰©å±•èŠä¸€èŠ">æ‰©å±•èŠä¸€èŠ</h2><p>å…¶å®ç›´æ¥é€šè¿‡ä¿®æ”¹ç³»ç»ŸDNSæ–¹å¼è§£é”æµåª’ä½“å¼Šç«¯æœ‰å¾ˆå¤šï¼Œå¸¸è§çš„å¼Šç«¯æ¯”å¦‚ï¼šDNSæœåŠ¡å™¨å®•æœºå¯¼è‡´æœ¬åœ°æœåŠ¡æ— æ³•è§£æåŸŸåã€ç”±äºå‚å•†åˆ†æµè§„åˆ™æ²¡æœ‰ç»†åˆ†å¯¼è‡´å¸¸è§CDN åˆ†é…çš„IPåœ¨åˆ«çš„åœ°åŒºï¼ˆå¸¸è§äºakamaiçš„CDNï¼‰ï¼Œè¿™æ—¶å€™DNSåˆ†æµå°±å°¤ä¸ºé‡è¦ã€‚åˆ©ç”¨smartdnsï¼Œå¯ä»¥å®ç°å¯¹è§£é”åŸŸåèµ°å‚å•†DNSï¼Œå¯¹å…¶ä»–åŸŸåèµ°å…¬å…±DNSã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸‹é¢é‚£ä¸ªé…ç½®æ„æ€æ˜¯ï¼šDAZNå’ŒHotstarèµ°DNSï¼Œå…¶ä»–çš„å…¨ç”¨8.8.8.8è§£æï¼Œè¿™æ ·å³ä½¿66.66.66.66å®•æœºï¼Œæœ¬åœ°åªè¦ä¸è®¿é—®DAZNå’ŒHotstarå°±ä¸å—ä»»ä½•å½±å“ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server 8.8.8.8</span><br><span class="line">server 66.66.66.66ï¼ˆå‚å•†ç»™çš„dns ipï¼‰ -group dns -exclude-default-group</span><br><span class="line"></span><br><span class="line"># ---------- &gt; Global Plaform</span><br><span class="line"># &gt; DAZN</span><br><span class="line">nameserver /upos-hz-mirrorakam.akamaized.net/dns</span><br><span class="line"># &gt; Hotstar</span><br><span class="line">nameserver /hotstar.com/dns</span><br></pre></td></tr></table></figure><h2 id="ç›¸å…³é¡¹ç›®å®˜ç½‘">ç›¸å…³é¡¹ç›®å®˜ç½‘</h2><p><a href="https://www.nodeseek.com/jump?to=https%3A%2F%2Fgithub.com%2Fxsidc%2Fdnsmasq">sniä»£ç†</a><br><a href="https://www.nodeseek.com/jump?to=https%3A%2F%2Fpymumu.github.io%2Fsmartdns">smartdns</a><br><a href="https://www.nodeseek.com/jump?to=https%3A%2F%2Fgithub.com%2FAdguardTeam%2FAdGuardHome">AdGuardHome</a></p><h1 id="æµåª’ä½“è§£é”æ£€æµ‹">æµåª’ä½“è§£é”æ£€æµ‹</h1><p>RegionRestrictionCheck æ£€æµ‹è„šæœ¬æ£€æµ‹é¡¹ç›®æ¯”è¾ƒå…¨é¢ï¼Œä¸”æ”¯æŒDockerè¿è¡Œï¼Œæœç»æ±¡æŸ“VPSæœåŠ¡å™¨ï¼Œæ£€æµ‹æµåª’ä½“é™¤äº†ä¸»æµçš„Netflixã€Disney+ã€YouTube Premiumï¼Œè¿˜å¯ä»¥æ”¯æŒæ£€æµ‹Daznã€Viu TVã€4GTVå’ŒKKTVç­‰æ¯”è¾ƒå†·é—¨çš„æµåª’ä½“æœåŠ¡ã€‚</p><blockquote><p>æ”¯æŒOS/Platformï¼šCentOS 6+, Ubuntu 14.04+, Debian 8+, MacOS, Android with Termux</p></blockquote><h2 id="ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s check.unlock.media)</span><br></pre></td></tr></table></figure><p>åªæ£€æµ‹IPv4ç»“æœ:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s check.unlock.media) -M 4</span><br></pre></td></tr></table></figure><p>åªæ£€æµ‹IPv6ç»“æœï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s check.unlock.media) -M 6</span><br></pre></td></tr></table></figure><h1 id="é™„ä»¶">é™„ä»¶</h1><p>å®Œæ•´çš„é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br></pre></td><td class="code"><pre><span class="line">bind [::]:53</span><br><span class="line">#bind[::]:53@eth0 -no-dualstack-selection -no-speed-check </span><br><span class="line">dualstack-ip-selection no</span><br><span class="line">speed-check-mode none</span><br><span class="line">serve-expired-prefetch-time 21600</span><br><span class="line">prefetch-domain yes</span><br><span class="line">cache-size 32768</span><br><span class="line">cache-persist yes</span><br><span class="line">cache-file /etc/smartdns/cache</span><br><span class="line">prefetch-domain yes</span><br><span class="line">serve-expired yes</span><br><span class="line">serve-expired-ttl 259200</span><br><span class="line">serve-expired-reply-ttl 3</span><br><span class="line">prefetch-domain yes</span><br><span class="line">serve-expired-prefetch-time 21600</span><br><span class="line">cache-checkpoint-time 86400</span><br><span class="line"></span><br><span class="line"># è®¾ç½®é»˜è®¤çš„ä¸Šæ¸¸ DNS</span><br><span class="line">server 8.8.8.8 #é»˜è®¤ä¸Šæ¸¸DNS</span><br><span class="line">server 8.8.4.4 #é»˜è®¤ä¸Šæ¸¸DNS</span><br><span class="line"># è®¾ç½®è‡ªå®šä¹‰çš„ä¸Šæ¸¸ DNS</span><br><span class="line">server 11.22.33.44 IP -group us -exclude-default-group</span><br><span class="line"></span><br><span class="line"># ---------- &gt; Global Plaform</span><br><span class="line"># &gt; Disney+</span><br><span class="line">nameserver /disney.connections.edge.bamgrid.com/us</span><br><span class="line">nameserver /disney.api.edge.bamgrid.com/us</span><br><span class="line">nameserver /disney-plus.net/us</span><br><span class="line">nameserver /disneyplus.com/us</span><br><span class="line">nameserver /dssott.com/us</span><br><span class="line">nameserver /disneynow.com/us</span><br><span class="line">nameserver /disneystreaming.com/us</span><br><span class="line">nameserver /cdn.registerdisney.go.com/us</span><br><span class="line"></span><br><span class="line"># &gt; Netflix</span><br><span class="line">#nameserver /netflix.com/us</span><br><span class="line">#nameserver /netflix.net/us</span><br><span class="line">#nameserver /nflximg.com/us</span><br><span class="line">#nameserver /nflximg.net/us</span><br><span class="line">#nameserver /nflxvideo.net/us</span><br><span class="line">#nameserver /nflxext.com/us</span><br><span class="line">#nameserver /nflxso.net/us</span><br><span class="line"></span><br><span class="line"># å¦‚æœä½¿ç”¨è§£é”æœºIP</span><br><span class="line">address /netflix.com/11.22.33.44</span><br><span class="line">address /netflix.net/11.22.33.44</span><br><span class="line">address /nflximg.com/11.22.33.44</span><br><span class="line">address /nflximg.net/11.22.33.44</span><br><span class="line">address /nflxvideo.net/11.22.33.44</span><br><span class="line">address /nflxext.com/11.22.33.44</span><br><span class="line">address /nflxso.net/11.22.33.44</span><br><span class="line"></span><br><span class="line"># &gt; HuluUSA</span><br><span class="line">address /assetshuluimcom-a.akamaihd.net/11.22.33.44</span><br><span class="line">address /cws-hulu.conviva.com/11.22.33.44</span><br><span class="line">address /hulu.com/11.22.33.44</span><br><span class="line">address /hulu.hb.omtrdc.net/11.22.33.44</span><br><span class="line">address /hulu.sc.omtrdc.net/11.22.33.44</span><br><span class="line">address /huluad.com/11.22.33.44</span><br><span class="line">address /huluqa.com/11.22.33.44</span><br><span class="line">address /hulustream.com/11.22.33.44</span><br><span class="line"></span><br><span class="line"># &gt; HuluUSA</span><br><span class="line">#nameserver /assetshuluimcom-a.akamaihd.net/us</span><br><span class="line">#nameserver /cws-hulu.conviva.com/us</span><br><span class="line">#nameserver /hulu.com/us</span><br><span class="line">#nameserver /hulu.hb.omtrdc.net/us</span><br><span class="line">#nameserver /hulu.sc.omtrdc.net/us</span><br><span class="line">#nameserver /huluad.com/us</span><br><span class="line">#nameserver /huluqa.com/us</span><br><span class="line">#nameserver /hulustream.com/us</span><br><span class="line"></span><br><span class="line"># &gt; Amazon Prime Video:</span><br><span class="line">#nameserver /d1v5ir2lpwr8os.cloudfront.net/us</span><br><span class="line">#nameserver /d22qjgkvxw22r6.cloudfront.net/us</span><br><span class="line">#nameserver /d25xi40x97liuc.cloudfront.net/us</span><br><span class="line">#nameserver /d27xxe7juh1us6.cloudfront.net/us</span><br><span class="line">#nameserver /dmqdd6hw24ucf.cloudfront.net/us</span><br><span class="line">#nameserver /aiv-cdn.net/us</span><br><span class="line">#nameserver /aiv-delivery.net/us</span><br><span class="line">#nameserver /amazonvideo.com/us</span><br><span class="line">#nameserver /atv-ext-eu.amazon.com/us</span><br><span class="line">#nameserver /atv-ext-fe.amazon.com/us</span><br><span class="line">#nameserver /atv-ext.amazon.com/us</span><br><span class="line">#nameserver /atv-ps-eu.amazon.co.uk/us</span><br><span class="line">#nameserver /atv-ps-eu.amazon.com/us</span><br><span class="line">#nameserver /atv-ps-fe.amazon.co.jp/us</span><br><span class="line">#nameserver /atv-ps-fe.amazon.com/us</span><br><span class="line">#nameserver /atv-ps.amazon.com/us</span><br><span class="line">#nameserver /primevideo.com/us</span><br><span class="line">#nameserver /pv-cdn.net/us</span><br><span class="line">#nameserver /video.a2z.com/us</span><br><span class="line"></span><br><span class="line"># &gt; TVBAnywhere+</span><br><span class="line">nameserver /tvbanywhere.com/us</span><br><span class="line">nameserver /tvbanywhere.com.sg/us</span><br><span class="line">nameserver /tvb.com/us</span><br><span class="line">nameserver /tvb.com.au/us</span><br><span class="line">nameserver /tvbc.com.cn/us</span><br><span class="line">nameserver /tvbeventpower.com.hk/us</span><br><span class="line">nameserver /tvbusa.com/us</span><br><span class="line">nameserver /tvbweekly.com/us</span><br><span class="line">nameserver /tvmedia.net.au/us</span><br><span class="line"></span><br><span class="line"># &gt; Viu.com</span><br><span class="line">nameserver /cognito-identity.us-east-1.amazonaws.com/us</span><br><span class="line">nameserver /d1k2us671qcoau.cloudfront.net/us</span><br><span class="line">nameserver /d2anahhhmp1ffz.cloudfront.net/us</span><br><span class="line">nameserver /dfp6rglgjqszk.cloudfront.net/us</span><br><span class="line">nameserver /d3o7oi00quuwqu.cloudfront.net/us</span><br><span class="line">nameserver /mobileanalytics.us-east-1.amazonaws.com/us</span><br><span class="line">nameserver /viu.com/us</span><br><span class="line"></span><br><span class="line"># &gt; Instagram</span><br><span class="line">nameserver /instagram.com/us</span><br><span class="line"># &gt; iQiyi</span><br><span class="line">nameserver /71.am/us</span><br><span class="line">nameserver /iq.com/us</span><br><span class="line">nameserver /iqiyi.com/us</span><br><span class="line">nameserver /iqiyipic.com/us</span><br><span class="line">nameserver /pps.tv/us</span><br><span class="line">nameserver /ppsimg.com/us</span><br><span class="line">nameserver /qiyi.com/us</span><br><span class="line">nameserver /qiyipic.com/us</span><br><span class="line">nameserver /qy.net/us</span><br><span class="line"># &gt; Tiktok</span><br><span class="line">nameserver /byteoversea.com/us</span><br><span class="line">nameserver /ibytedtos.com/us</span><br><span class="line">nameserver /ipstatp.com/us</span><br><span class="line">nameserver /muscdn.com/us</span><br><span class="line">nameserver /musical.ly/us</span><br><span class="line">nameserver /tiktok.com/us</span><br><span class="line">nameserver /tik-tokapi.com/us</span><br><span class="line">nameserver /tiktokcdn.com/us</span><br><span class="line">nameserver /tiktokv.com/us</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------- &gt; Taiwan Media</span><br><span class="line"># &gt; KKTV</span><br><span class="line">nameserver /kfs.io/us</span><br><span class="line">nameserver /kktv-theater.kk.stream/us</span><br><span class="line">nameserver /kkbox.com/us</span><br><span class="line">nameserver /kkbox.com.tw/us</span><br><span class="line">nameserver /kktv.com.tw/us</span><br><span class="line">nameserver /kktv.me/us</span><br><span class="line"># &gt; LiTV</span><br><span class="line">nameserver /litv.tv/us</span><br><span class="line">nameserver /litvfreepc.akamaized.net/us</span><br><span class="line"># &gt; MyVideo</span><br><span class="line">nameserver /cdn.plyr.io/us</span><br><span class="line">nameserver /myvideo.net.tw/us</span><br><span class="line"># &gt; 4GTV</span><br><span class="line">nameserver /4gtv.tv/us</span><br><span class="line">nameserver /4gtvfreepc-cds.cdn.hinet.net/us</span><br><span class="line">nameserver /4gtvfreepcvod-cds.cdn.hinet.net/us</span><br><span class="line">nameserver /4gtvpc-cds.cdn.hinet.net/us</span><br><span class="line">nameserver /4gtvpcvod-cds.cdn.hinet.net/us</span><br><span class="line"># &gt; LineTV.TW</span><br><span class="line">nameserver /d3c7rimkq79yfu.cloudfront.net/us</span><br><span class="line">nameserver /linetv.tw/us</span><br><span class="line"># &gt; Hami Video</span><br><span class="line">nameserver /cdn.hinet.net/us</span><br><span class="line">nameserver /hamivideo.hinet.net/us</span><br><span class="line">nameserver /scc.ott.hinet.net/us</span><br><span class="line"># &gt; CatchPlay+</span><br><span class="line">nameserver /catchplay.com/us</span><br><span class="line">nameserver /d2ivmxp5z2ww0n.cloudfront.net/us</span><br><span class="line">nameserver /ols-ww100-cp.akamaized.net/us</span><br><span class="line">nameserver /tra-www000-cp.akamaized.net/us</span><br><span class="line"># &gt; Bahamut Anime</span><br><span class="line">nameserver /bahamut.com.tw/us</span><br><span class="line">nameserver /gamer.com.tw/us</span><br><span class="line">nameserver /gamer-cds.cdn.hinet.net/us</span><br><span class="line">nameserver /gamer2-cds.cdn.hinet.net/us</span><br><span class="line"></span><br><span class="line"># &gt; Friday Video</span><br><span class="line">nameserver /video.friday.tw/us</span><br><span class="line"></span><br><span class="line"># ---------- &gt; Canada Media</span><br><span class="line"># &gt; CBC Gem</span><br><span class="line">nameserver /cbc.ca/us</span><br><span class="line">nameserver /cbchd1dynamicads-i.akamaihd.net/us</span><br><span class="line">nameserver /cbclivedai5-i.akamaihd.net/us</span><br><span class="line">nameserver /cbcnewshd-f.akamaihd.net/us</span><br><span class="line">nameserver /cbcrcott-gem-key.akamaized.net/us</span><br><span class="line">nameserver /cbcrcott-gem.akamaized.net/us</span><br><span class="line">nameserver /go-mpulse.net/us</span><br><span class="line">nameserver /theplatform.com/us</span><br><span class="line"># &gt; Crave TV</span><br><span class="line">nameserver /crave.ca/us</span><br><span class="line">nameserver /go-mpulse.net/us</span><br><span class="line">nameserver /9c9media.com/us</span><br><span class="line"></span><br><span class="line"># ---------- &gt; Japan Media</span><br><span class="line"># &gt; NHK+</span><br><span class="line">nameserver /nhk.jp/us</span><br><span class="line">nameserver /nhk.or.jp/us</span><br><span class="line"># &gt; DMM</span><br><span class="line">nameserver /dmm-extension.com/us</span><br><span class="line">nameserver /dmm.co.jp/us</span><br><span class="line">nameserver /dmm.com/us</span><br><span class="line">nameserver /videomarket.jp/us</span><br><span class="line">nameserver /p-smith.com/us</span><br><span class="line">nameserver /vmdash-cenc.akamaized.net/us</span><br><span class="line">nameserver /img.vm-movie.jp/us</span><br><span class="line"># &gt; Abema</span><br><span class="line">nameserver /abema.io/us</span><br><span class="line">nameserver /abema.tv/us</span><br><span class="line">nameserver /ds-linear-abematv.akamaized.net/us</span><br><span class="line">nameserver /linear-abematv.akamaized.net/us</span><br><span class="line">nameserver /ds-vod-abematv.akamaized.net/us</span><br><span class="line">nameserver /vod-abematv.akamaized.net/us</span><br><span class="line">nameserver /vod-playout-abematv.akamaized.net/us</span><br><span class="line">nameserver /ameba.jp/us</span><br><span class="line">nameserver /hayabusa.io/us</span><br><span class="line">nameserver /bucketeer.jp/us</span><br><span class="line">nameserver /abema.adx.promo/us</span><br><span class="line">nameserver /hayabusa.media/us</span><br><span class="line">nameserver /abema-tv.com/us</span><br><span class="line"># &gt; NicoNico</span><br><span class="line">nameserver /dmc.nico/us</span><br><span class="line">nameserver /nicovideo.jp/us</span><br><span class="line">nameserver /nimg.jp/us</span><br><span class="line"># &gt; Telasa</span><br><span class="line">nameserver /telasa.jp/us</span><br><span class="line">nameserver /kddi-video.com/us</span><br><span class="line">nameserver /videopass.jp/us</span><br><span class="line">nameserver /d2lmsumy47c8as.cloudfront.net/us</span><br><span class="line"># &gt; Paravi</span><br><span class="line">nameserver /paravi.jp/us</span><br><span class="line"># &gt; U-NEXT</span><br><span class="line">nameserver /unext.jp/us</span><br><span class="line">nameserver /nxtv.jp/us</span><br><span class="line"># &gt; Hulu Japan</span><br><span class="line">nameserver /happyon.jp/us</span><br><span class="line">nameserver /hulu.jp/us</span><br><span class="line">nameserver /prod.hjholdings.tv/us</span><br><span class="line">nameserver /streaks.jp/us</span><br><span class="line">nameserver /yb.uncn.jp/us</span><br><span class="line">nameserver /hjholdings.jp/us</span><br><span class="line"># &gt; TVer</span><br><span class="line">nameserver /tver.jp/us</span><br><span class="line">nameserver /edge.api.brightcove.com/us</span><br><span class="line"># nameserver /players.brightcove.net/us</span><br><span class="line">nameserver /gorin.jp/us</span><br><span class="line">nameserver /screens-lab.jp/us</span><br><span class="line">nameserver /tver.co.jp/us</span><br><span class="line">nameserver /dogatch.jp/us</span><br><span class="line"># &gt; GYAO!</span><br><span class="line">nameserver /gyao.yahoo.co.jp/us</span><br><span class="line"># &gt; WOWOW</span><br><span class="line">nameserver /wowow.co.jp/us</span><br><span class="line"># &gt; Videomarket</span><br><span class="line">nameserver /videomarket.jp/us</span><br><span class="line"># &gt; D Anime Store</span><br><span class="line">nameserver /animestore.docomo.ne.jp/us</span><br><span class="line"># &gt; Fuji TV</span><br><span class="line">nameserver /fujitv.co.jp/us</span><br><span class="line">nameserver /stream.ne.jp/us</span><br><span class="line"># &gt; Radiko</span><br><span class="line">nameserver /radiko.jp/us</span><br><span class="line">nameserver /radionikkei.jp/us</span><br><span class="line">nameserver /smartstream.ne.jp/us</span><br><span class="line"># &gt; Karaoke@DAM</span><br><span class="line">nameserver /clubdam.com/us</span><br><span class="line"># &gt; J:com On Demand</span><br><span class="line">nameserver /id.zaq.ne.jp/us</span><br><span class="line"># &gt; AnimeFesta</span><br><span class="line">nameserver /api-animefesta.iowl.jp/us</span><br><span class="line"># &gt; Lemino</span><br><span class="line">nameserver /if.lemino.docomo.ne.jp/us</span><br><span class="line"># &gt; Rakuten TV JP</span><br><span class="line">nameserver /rakuten.co.jp/us</span><br><span class="line"># &gt; Games</span><br><span class="line">nameserver /cygames.jp/us</span><br><span class="line">nameserver /konosubafd.jp/us</span><br><span class="line">nameserver /colorfulpalette.org/us</span><br><span class="line">nameserver /worldflipper.jp/us</span><br><span class="line">nameserver /jujutsuphanpara.jp/us</span><br><span class="line"># &gt; Mora</span><br><span class="line">nameserver /mora.jp/us</span><br><span class="line"># &gt; Music.jp</span><br><span class="line">nameserver /music.jp/us</span><br><span class="line">nameserver /music-book.jp/us</span><br><span class="line"># &gt; Reads </span><br><span class="line">nameserver /data-cloudauthoring.magazine.rakuten.co.jp/us</span><br><span class="line"></span><br><span class="line"># ---------- &gt; Oceania Media</span><br><span class="line"># &gt; NBA TV</span><br><span class="line">nameserver /nba.com/us</span><br><span class="line">nameserver /neulion-a.akamaihd.net/us</span><br><span class="line">nameserver /nlnbamdnyc-a.akamaihd.net/us</span><br><span class="line">nameserver /sdk.iad-03.braze.com/us</span><br><span class="line">nameserver /nbaprop.sc.omtrdc.net/us</span><br><span class="line">nameserver /nlnbaqos.neulion.com/us</span><br><span class="line">nameserver /watchnba.cdnfastly.endeavorstreaming.net/us</span><br><span class="line">nameserver /nbaapi.neulion.com/us</span><br><span class="line">nameserver /nba-api-cdn.opin.media/us</span><br><span class="line">nameserver /neulionqos-a.akamaihd.net/us</span><br><span class="line">nameserver /neulion.com/us</span><br><span class="line">nameserver /nbaprop.tt.omtrdc.net/us</span><br><span class="line">nameserver /lion-nba-msl.akamaized.net/us</span><br><span class="line">nameserver /nbanlds19vod.akamaized.net/us</span><br><span class="line"># &gt; Acorn TV</span><br><span class="line">nameserver /edge.api.brightcove.com/us</span><br><span class="line">nameserver /api.rlje.net/us</span><br><span class="line">nameserver /boltdns.net/us</span><br><span class="line">nameserver /acorn.tv/us</span><br><span class="line"># &gt; SHOWTIME</span><br><span class="line">nameserver /sho.com/us</span><br><span class="line">nameserver /showtime.com/us</span><br><span class="line">nameserver /showtimeanytime.com/us</span><br><span class="line"># &gt; BritBox</span><br><span class="line">nameserver /vod-dash-ntham-comm-live.akamaized.net/us</span><br><span class="line">nameserver /vod-dash-ntham-comm.live.cf.md.bbci.co.uk/us</span><br><span class="line">nameserver /vod-hls-ntham-comm-live.akamaized.net/us</span><br><span class="line">nameserver /vod-hls-ntham-comm.live.cf.md.bbci.co.uk/us</span><br><span class="line">nameserver /britbox.com/us</span><br><span class="line">nameserver /d2z3p34itxwaj7.cloudfront.net/us</span><br><span class="line"># &gt; Funimation</span><br><span class="line">nameserver /funimation.com/us</span><br><span class="line">nameserver /funimationsvc.com/us</span><br><span class="line"># &gt; Paramount+</span><br><span class="line">nameserver /paramountplus.com/us</span><br><span class="line">nameserver /cbsi.live.ott.irdeto.com/us</span><br><span class="line">nameserver /cbsplaylistserver.aws.syncbak.com/us</span><br><span class="line">nameserver /cbsservice.aws.syncbak.com/us</span><br><span class="line">nameserver /link.theplatform.com/us</span><br><span class="line">nameserver /cbsaavideo.com/us</span><br><span class="line">nameserver /cbsi.com/us</span><br><span class="line">nameserver /cbsivideo.com/us</span><br><span class="line">nameserver /pplusstatic.com/us</span><br><span class="line"># &gt; AU:Stan</span><br><span class="line">nameserver /stan.com.au/us</span><br><span class="line">nameserver /stan.video/us</span><br><span class="line">nameserver /streamcoimg-a.akamaihd.net/us</span><br><span class="line">nameserver /live01-stan.akamaized.net/us</span><br><span class="line">nameserver /live02-stan.akamaized.net/us</span><br><span class="line"># &gt; AU:Binge/Kayo Sports</span><br><span class="line">nameserver /kayosports.com.au/us</span><br><span class="line">nameserver /streamotion.com.au/us</span><br><span class="line"># &gt; AU:Docplay</span><br><span class="line">nameserver /docplay.com/us</span><br><span class="line">nameserver /0c86e2d1-madman-com-au.akamaized.net/us</span><br><span class="line">nameserver /ff1be285-madman-com-au.akamaized.net/us</span><br><span class="line">nameserver /5a929471-madman-com-au.akamaized.net/us</span><br><span class="line">nameserver /879ed873-madman-com-au.akamaized.net/us</span><br><span class="line"># &gt; AU:7plus</span><br><span class="line">nameserver /7plus.com.au/us</span><br><span class="line">nameserver /npc-live-sevennetwork.akamaized.net/us</span><br><span class="line">nameserver /7plus-sevennetwork.akamaized.net/us</span><br><span class="line">nameserver /seven.demdex.net/us</span><br><span class="line">nameserver /cdn.7livecloud.io/us</span><br><span class="line"># &gt; AU:9 now</span><br><span class="line">nameserver /nine.com.au/us</span><br><span class="line">nameserver /9now.com.au/us</span><br><span class="line">nameserver /edge.api.brightcove.com/us</span><br><span class="line">nameserver /p-9now.akamaized.net/us</span><br><span class="line">nameserver /9now-livestreams.akamaized.net/us</span><br><span class="line">nameserver /9cdn.net/us</span><br><span class="line">nameserver /9nation.com.au/us</span><br><span class="line">nameserver /9news.com.au/us</span><br><span class="line">nameserver /9now.com.au/us</span><br><span class="line">nameserver /freeviewplus.net.au/us</span><br><span class="line">nameserver /mi9.com.au/us</span><br><span class="line">nameserver /mi9cdn.com/us</span><br><span class="line">nameserver /nine.com.au/us</span><br><span class="line">nameserver /nineentertainment.com.au/us</span><br><span class="line">nameserver /nineentertainmentco.com.au/us</span><br><span class="line">nameserver /ninemediaroom.com.au/us</span><br><span class="line">nameserver /ninemsn.com.au/us</span><br><span class="line">nameserver /static9.net.au/us</span><br><span class="line">nameserver /yourtv.com.au/us</span><br><span class="line"># &gt; AU:10 play</span><br><span class="line">nameserver /10play.com.au/us</span><br><span class="line">nameserver /global.ssl.fastly.net/us</span><br><span class="line">nameserver /airspace-cdn.cbsviedo.com/us</span><br><span class="line">nameserver /net10-livestream-keys.play.cbsi.video/us</span><br><span class="line">nameserver /net10-livestream.play.cbsi.video/us</span><br><span class="line">nameserver /d25m2gzplgnf0.cloudfront.net/us</span><br><span class="line"># &gt; AU:ABC iView</span><br><span class="line">nameserver /iview.abc.net.au/us</span><br><span class="line">nameserver /abc-iview-mediapackagestreams-2.akamaized.net/us</span><br><span class="line"># &gt; AU:Optus</span><br><span class="line">nameserver /optus.com.au/us</span><br><span class="line">nameserver /optusdigital.com/us</span><br><span class="line">nameserver /optusnet.com.au/us</span><br><span class="line">nameserver /optussport.tv/us</span><br><span class="line">nameserver /optusvideo.tv/us</span><br><span class="line">nameserver /tls1.yospace.com/us</span><br><span class="line">nameserver /bln1.yospace.com/us</span><br><span class="line">nameserver /d3rj5p7u4c4icq.cloudfront.net/us</span><br><span class="line">nameserver /mgd0ee5iankkv3gidl14rm7c0.litix.io/us</span><br><span class="line">nameserver /93e30b04-drm-widevine-licensing.axprod.net/us</span><br><span class="line"># &gt; AU:SBS on Demand</span><br><span class="line">nameserver /sbsod.com/us</span><br><span class="line">nameserver /sbs.com.au/us</span><br><span class="line">nameserver /videocdn-sbs.akamaized.net/us</span><br><span class="line">nameserver /sbsvoddai-vh.akamaihd.net/us</span><br><span class="line">nameserver /sbsvodns-vh.akamaihd.net/us</span><br><span class="line">nameserver /sbs-live-dai.akamaized.net/us</span><br><span class="line">nameserver /sbs-live.akamaized.net/us</span><br><span class="line">nameserver /sbs-live-dai.akamaized.net/us</span><br><span class="line"># &gt; NZ:Neon TV</span><br><span class="line">nameserver /neontv.co.nz/us</span><br><span class="line"># &gt; NZ:SkyGO NZ</span><br><span class="line">nameserver /sky.co.nz/us</span><br><span class="line">nameserver /prod-skyonelive.akamaized.net/us</span><br><span class="line">nameserver /skysportnow.co.nz/us</span><br><span class="line">nameserver /imggaming.com/us</span><br><span class="line">nameserver /pndsn.com/us</span><br><span class="line"># &gt; NZ:ThreeNow</span><br><span class="line">nameserver /fullscreen.nz/us</span><br><span class="line"># &gt; NZ:Maori TV</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line"># ---------- &gt; North America Media</span><br><span class="line"># &gt; FOX</span><br><span class="line">nameserver /x-live-fox-stgec.uplynk.com/us</span><br><span class="line">nameserver /fox.com/us</span><br><span class="line">nameserver /foxdcg.com/us</span><br><span class="line">nameserver /theplatform.com/us</span><br><span class="line">nameserver /cdn-fox-networks-group-green.akamaized.net/us</span><br><span class="line">nameserver /d3cv4a9a9wh0bt.cloudfront.net/us</span><br><span class="line">nameserver /foxsports01-i.akamaihd.net/us</span><br><span class="line">nameserver /foxsports02-i.akamaihd.net/us</span><br><span class="line">nameserver /foxsports03-i.akamaihd.net/us</span><br><span class="line"></span><br><span class="line"># &gt; NFL</span><br><span class="line">nameserver /nfl.com/us</span><br><span class="line"># &gt; ESPN+</span><br><span class="line">nameserver /espn.api.edge.bamgrid.com/us</span><br><span class="line">nameserver /espn.hb.omtrdc.net/us</span><br><span class="line">nameserver /espndotcom.tt.omtrdc.net/us</span><br><span class="line">nameserver /dtci.co/us</span><br><span class="line">nameserver /dtci.technology/us</span><br><span class="line">nameserver /espn.co.uk/us</span><br><span class="line">nameserver /espn.com/us</span><br><span class="line">nameserver /espn.net/us</span><br><span class="line">nameserver /espncdn.com/us</span><br><span class="line">nameserver /espnqa.com/us</span><br><span class="line">nameserver /watchespn.com/us</span><br><span class="line"># &gt; Epix</span><br><span class="line">nameserver /epix.com/us</span><br><span class="line"># &gt; Starz</span><br><span class="line">nameserver /starz.com/us</span><br><span class="line"># &gt; Philo</span><br><span class="line">nameserver /philo.com/us</span><br><span class="line"># &gt; FXNOW</span><br><span class="line">nameserver /fxnow.fxnetworks.com/us</span><br><span class="line"># &gt; TLC GO</span><br><span class="line">nameserver /geolocation.onetrust.com/us</span><br><span class="line"># &gt; HBO / Max</span><br><span class="line">nameserver /max.com/us</span><br><span class="line">nameserver /hbo.com/us</span><br><span class="line">nameserver /hbogo.com/us</span><br><span class="line">nameserver /hbomax.com/us</span><br><span class="line">nameserver /hbomaxcdn.com/us</span><br><span class="line">nameserver /hbonow.com/us</span><br><span class="line">nameserver /maxgo.com/us</span><br><span class="line">nameserver /discomax.com/us</span><br><span class="line"># &gt; Shudder</span><br><span class="line">nameserver /shudder.com/us</span><br><span class="line"># &gt; BritBox</span><br><span class="line">nameserver /vod-dash-ntham-comm-live.akamaized.net/us</span><br><span class="line">nameserver /vod-dash-ntham-comm.live.cf.md.bbci.co.uk/us</span><br><span class="line">nameserver /vod-hls-ntham-comm-live.akamaized.net/us</span><br><span class="line">nameserver /vod-hls-ntham-comm.live.cf.md.bbci.co.uk/us</span><br><span class="line">nameserver /britbox.com/us</span><br><span class="line">nameserver /d2z3p34itxwaj7.cloudfront.net/us</span><br><span class="line"># &gt; Crackle</span><br><span class="line">nameserver /crackle.com/us</span><br><span class="line"># &gt; CW TV</span><br><span class="line">nameserver /cwtv.com/us</span><br><span class="line"># &gt; A&amp;E TV</span><br><span class="line">nameserver /aetv.com/us</span><br><span class="line">nameserver /ccpa-service.sp-prod.net/us</span><br><span class="line"># &gt; NBA TV</span><br><span class="line">nameserver /nba.com/us</span><br><span class="line">nameserver /neulion-a.akamaihd.net/us</span><br><span class="line">nameserver /nlnbamdnyc-a.akamaihd.net/us</span><br><span class="line">nameserver /sdk.iad-03.braze.com/us</span><br><span class="line">nameserver /nbaprop.sc.omtrdc.net/us</span><br><span class="line">nameserver /nlnbaqos.neulion.com/us</span><br><span class="line">nameserver /watchnba.cdnfastly.endeavorstreaming.net/us</span><br><span class="line">nameserver /nbaapi.neulion.com/us</span><br><span class="line">nameserver /nba-api-cdn.opin.media/us</span><br><span class="line">nameserver /neulionqos-a.akamaihd.net/us</span><br><span class="line">nameserver /neulion.com/us</span><br><span class="line">nameserver /nbaprop.tt.omtrdc.net/us</span><br><span class="line">nameserver /lion-nba-msl.akamaized.net/us</span><br><span class="line">nameserver /nbanlds19vod.akamaized.net/us</span><br><span class="line"># &gt; Fubo TV</span><br><span class="line">nameserver /fubo.tv/us</span><br><span class="line"># &gt; Tubi TV</span><br><span class="line">nameserver /tubitv.com/us</span><br><span class="line"># &gt; Sling TV</span><br><span class="line">nameserver /dishworld.com/us</span><br><span class="line">nameserver /slinginternational.com/us</span><br><span class="line">nameserver /sling.com/us</span><br><span class="line">nameserver /movenetworks.com/us</span><br><span class="line">nameserver /movetv.com/us</span><br><span class="line"># &gt; Pluto TV</span><br><span class="line">nameserver /pluto.tv/us</span><br><span class="line"># &gt; Acorn TV</span><br><span class="line">nameserver /edge.api.brightcove.com/us</span><br><span class="line">nameserver /api.rlje.net/us</span><br><span class="line">nameserver /boltdns.net/us</span><br><span class="line">nameserver /acorn.tv/us</span><br><span class="line"># &gt; SHOWTIME</span><br><span class="line">nameserver /sho.com/us</span><br><span class="line">nameserver /showtime.com/us</span><br><span class="line">nameserver /showtimeanytime.com/us</span><br><span class="line"># &gt; encoreTVB</span><br><span class="line">nameserver /encoretvb.com/us</span><br><span class="line">nameserver /bcbolt446c5271-a.akamaihd.net/us</span><br><span class="line">nameserver /videos-f.jwpsrv.com/us</span><br><span class="line">nameserver /content.jwplatform.com/us</span><br><span class="line">nameserver /edge.api.brightcove.com/us</span><br><span class="line"># &gt; Funimation</span><br><span class="line">nameserver /funimation.com/us</span><br><span class="line"># &gt; Discovery+</span><br><span class="line">nameserver /content-ause1-ur-discovery1.uplynk.com/us</span><br><span class="line">nameserver /disco-api.com/us</span><br><span class="line">nameserver /discoveryplus.com/us</span><br><span class="line">nameserver /x-default-stgec.uplynk.com/us</span><br><span class="line">nameserver /discovery.com/us</span><br><span class="line">nameserver /discoveryplus.co.uk/us</span><br><span class="line">nameserver /getblueshift.com/us</span><br><span class="line">nameserver /litix.io/us</span><br><span class="line">nameserver /mobile-collector.newrelic.com/us</span><br><span class="line">nameserver /discovery.uplynk.com/us</span><br><span class="line"># &gt; Paramount+</span><br><span class="line">nameserver /paramountplus.com/us</span><br><span class="line">nameserver /cbsi.live.ott.irdeto.com/us</span><br><span class="line">nameserver /cbsplaylistserver.aws.syncbak.com/us</span><br><span class="line">nameserver /cbsservice.aws.syncbak.com/us</span><br><span class="line">nameserver /link.theplatform.com/us</span><br><span class="line">nameserver /cbsaavideo.com/us</span><br><span class="line">nameserver /cbsi.com/us</span><br><span class="line">nameserver /cbsivideo.com/us</span><br><span class="line">nameserver /pplusstatic.com/us</span><br><span class="line"># &gt; Peacock TV</span><br><span class="line">nameserver /peacocktv.com/us</span><br><span class="line">nameserver /peacock.com/us</span><br><span class="line"># &gt; Popcornflix</span><br><span class="line">nameserver /popcornflix.com/us</span><br><span class="line">nameserver /popcornflix-prod.cloud.seachange.com/us</span><br><span class="line"># &gt; Crunchyroll</span><br><span class="line">nameserver /crunchyroll.com/us</span><br><span class="line">nameserver /vrv.co/us</span><br><span class="line"># &gt; Directv Stream</span><br><span class="line">nameserver /atttvnow.com/us</span><br><span class="line"># &gt; KBS American</span><br><span class="line">nameserver /kbs.co.kr/us</span><br><span class="line"># &gt; KOCOWA</span><br><span class="line">nameserver /kocowa.com/us</span><br><span class="line"># &gt; F1TV</span><br><span class="line">nameserver /f1prodlive.akamaized.net/us</span><br><span class="line">nameserver /formula1.com/us</span><br><span class="line"></span><br><span class="line"># ---------- &gt; Europe Media</span><br><span class="line"># &gt; EU:Rakuten TV</span><br><span class="line">nameserver /rakuten.tv/us</span><br><span class="line"># &gt; EU:Funimation</span><br><span class="line">nameserver /funimation.com/us</span><br><span class="line"># &gt; EU:SkyShowTime</span><br><span class="line">nameserver /skyshowtimeuk.data.adobedc.net/us</span><br><span class="line">nameserver /skyshowtime.com/us</span><br><span class="line">nameserver /cssott.com/us</span><br><span class="line">nameserver /4ac1dd56e493354be504f063e4ae3440a13c6776.cws.conviva.com/us</span><br><span class="line"># &gt; EU:HBO Max</span><br><span class="line">nameserver /max.com/us</span><br><span class="line">nameserver /cinemax.com/us</span><br><span class="line">nameserver /forthethrone.com/us</span><br><span class="line">nameserver /hbo.com/us</span><br><span class="line">nameserver /hbomax.com/us</span><br><span class="line">nameserver /hbomaxcdn.com/us</span><br><span class="line">nameserver /maxgo.com/us</span><br><span class="line"># &gt; EuroSport</span><br><span class="line">nameserver /europe-fastly-mediashield-live-prod.cdn.h264.io/us</span><br><span class="line">nameserver /akamai.prod-live.h264.io/us</span><br><span class="line">nameserver /eurosport-dlvr-ott.akamaized.net/us</span><br><span class="line">nameserver /eu3-prod-images.disco-api.com/us</span><br><span class="line">nameserver /eu3-prod.disco-api.com/us</span><br><span class="line">nameserver /eurosportplayer.com/us</span><br><span class="line">nameserver /eurosport.com/us</span><br><span class="line">nameserver /eurosport.fr/us</span><br><span class="line">nameserver /eurosport.es/us</span><br><span class="line">nameserver /eurosport.ro/us</span><br><span class="line">nameserver /eurosport.io/us</span><br><span class="line">nameserver /eurosport.ru/us</span><br><span class="line">nameserver /media-shield.live.eurosport.map.fastly.net/us</span><br><span class="line">nameserver /eurosport-dlvr-ott-vod.akamaized.net/us</span><br><span class="line"># &gt; ViaPlay</span><br><span class="line">nameserver /i-viaplay-com.akamaized.net/us</span><br><span class="line">nameserver /viaplay.com/us</span><br><span class="line">nameserver /viaplay.pl/us</span><br><span class="line">nameserver /mtg-api.com/us</span><br><span class="line"># &gt; GB:Sky GO /usSkyGONZ/us</span><br><span class="line">nameserver /sky.com/us</span><br><span class="line"># &gt; GB:BritBox</span><br><span class="line">nameserver /vod-dash-ntham-comm-live.akamaized.net/us</span><br><span class="line">nameserver /vod-dash-ntham-comm.live.cf.md.bbci.co.uk/us</span><br><span class="line">nameserver /vod-hls-ntham-comm-live.akamaized.net/us</span><br><span class="line">nameserver /vod-hls-ntham-comm.live.cf.md.bbci.co.uk/us</span><br><span class="line">nameserver /britbox.com/us</span><br><span class="line">nameserver /d2z3p34itxwaj7.cloudfront.net/us</span><br><span class="line"># &gt; GB:ITV Hub</span><br><span class="line">nameserver /itvpnpmobile-a.akamaihd.net/us</span><br><span class="line">nameserver /itv.com/us</span><br><span class="line">nameserver /itvstatic.com/us</span><br><span class="line"># &gt; GB:Channel 4 **</span><br><span class="line">nameserver /channel4.com/us</span><br><span class="line"># &gt; GB:Channel 5 **</span><br><span class="line">nameserver /channel5.com/us</span><br><span class="line"># &gt; GB:BBC</span><br><span class="line">nameserver /aod-dash-uk-live.akamaized.net/us</span><br><span class="line">nameserver /aod-hls-uk-live.akamaized.net/us</span><br><span class="line">nameserver /as-dash-uk-live.akamaized.net/us</span><br><span class="line">nameserver /as-hls-uk-live.akamaized.net/us</span><br><span class="line">nameserver /vod-dash-uk-live.akamaized.net/us</span><br><span class="line">nameserver /vod-dash-ww-live.akamaized.net/us</span><br><span class="line">nameserver /vod-hls-uk-live.akamaized.net/us</span><br><span class="line">nameserver /vod-sub-uk-live.akamaized.net/us</span><br><span class="line">nameserver /vod-thumb-uk-live.akamaized.net/us</span><br><span class="line">nameserver /vod-thumb-ww-live.akamaized.net/us</span><br><span class="line">nameserver /vs-cmaf-push-uk-live.akamaized.net/us</span><br><span class="line">nameserver /bbc/us</span><br><span class="line">nameserver /bbc.co/us</span><br><span class="line">nameserver /bbc.co.uk/us</span><br><span class="line">nameserver /bbc.com/us</span><br><span class="line">nameserver /bbc.in/us</span><br><span class="line">nameserver /bbc.net.uk/us</span><br><span class="line">nameserver /bbcchinese.com/us</span><br><span class="line">nameserver /bbcfmt.hs.llnwd.net/us</span><br><span class="line">nameserver /bbcfmt.s.llnwi.net/us</span><br><span class="line">nameserver /bbci.co/us</span><br><span class="line">nameserver /bbci.co.uk/us</span><br><span class="line">nameserver /bbcmedia.co.uk/us</span><br><span class="line">nameserver /bbcpersian.com/us</span><br><span class="line">nameserver /bbcverticals.com/us</span><br><span class="line">nameserver /bidi.net.uk/us</span><br><span class="line"># &gt; GB:Discovery+</span><br><span class="line">nameserver /content-ause1-ur-discovery1.uplynk.com/us</span><br><span class="line">nameserver /disco-api.com/us</span><br><span class="line">nameserver /discoveryplus.com/us</span><br><span class="line">nameserver /x-default-stgec.uplynk.com/us</span><br><span class="line">nameserver /discovery.com/us</span><br><span class="line">nameserver /discoveryplus.co.uk/us</span><br><span class="line">nameserver /getblueshift.com/us</span><br><span class="line">nameserver /litix.io/us</span><br><span class="line">nameserver /mobile-collector.newrelic.com/us</span><br><span class="line">nameserver /discovery.uplynk.com/us</span><br><span class="line"># &gt; FR:Salto</span><br><span class="line">nameserver /salto.fr/us</span><br><span class="line"># &gt; FR:Canal+</span><br><span class="line">nameserver /canalplus.com/us</span><br><span class="line"># &gt; FR:Molotov</span><br><span class="line">nameserver /molotov.tv/us</span><br><span class="line"># &gt; FR:France.tv</span><br><span class="line">nameserver /ftven.fr/us</span><br><span class="line"># &gt; DE:Joyn</span><br><span class="line">nameserver /joyn.de/us</span><br><span class="line"># &gt; DE:Sky</span><br><span class="line">nameserver /sky.de/us</span><br><span class="line">nameserver /edge.api.brightcove.com/us</span><br><span class="line"># &gt; DE:ZDF</span><br><span class="line">nameserver /zdf.de/us</span><br><span class="line"># &gt; NL:videoland</span><br><span class="line">nameserver /videoland.com/us</span><br><span class="line"># &gt; NL:NPO</span><br><span class="line">nameserver /npo.nl/us</span><br><span class="line"># &gt; IT Rai Play</span><br><span class="line">nameserver /mediapolisvod.rai.it/us</span><br><span class="line"># &gt; RU:Amediateka</span><br><span class="line">nameserver /amediateka.ru/us</span><br><span class="line"># &gt; UA:MEGOGO</span><br><span class="line">nameserver /megogo.net/us</span><br><span class="line">nameserver /vcdn.biz/us</span><br><span class="line"># &gt; CH:Sky</span><br><span class="line">nameserver /sky.ch/us</span><br><span class="line">nameserver /zahs.tv/us</span><br><span class="line"># &gt; TR:digiturkplay</span><br><span class="line">nameserver /digiturkplay.com/us</span><br><span class="line">nameserver /dt-int-gurme-hls.mncdn.com/us</span><br><span class="line">nameserver /dt-live-int.akamaized.net/us</span><br><span class="line"></span><br><span class="line"># ---------- &gt; Hong Kong Media</span><br><span class="line"># &gt; Now E </span><br><span class="line">nameserver /nowe.com/us</span><br><span class="line">nameserver /nowestatic.com/us</span><br><span class="line"># &gt; Now TV</span><br><span class="line">nameserver /now.com/us</span><br><span class="line"># &gt; Viu.TV</span><br><span class="line">#include Viu.com</span><br><span class="line">nameserver /viu.now.com/us</span><br><span class="line">nameserver /viu.tv/us</span><br><span class="line"># &gt; MyTVSuper</span><br><span class="line">nameserver /mytvsuper.com/us</span><br><span class="line">nameserver /mytvsuperlimited.hb.omtrdc.net/us</span><br><span class="line">nameserver /mytvsuperlimited.sc.omtrdc.net/us</span><br><span class="line">nameserver /tvb.com/us</span><br><span class="line"># &gt; HOY TV</span><br><span class="line">nameserver /hoy.tv/us</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------- &gt; South America Media</span><br><span class="line"># &gt; HBO </span><br><span class="line">nameserver /cinemax.com/us</span><br><span class="line">nameserver /forthethrone.com/us</span><br><span class="line">nameserver /hbo.com/us</span><br><span class="line">nameserver /hbogo.com/us</span><br><span class="line">nameserver /hbomax.com/us</span><br><span class="line">nameserver /hbomaxcdn.com/us</span><br><span class="line">nameserver /hbonow.com/us</span><br><span class="line">nameserver /maxgo.com/us</span><br><span class="line"># &gt; DirecTV</span><br><span class="line">nameserver /directvgo.com/us</span><br><span class="line"># &gt; Funimation</span><br><span class="line">nameserver /funimation.com/us</span><br><span class="line"></span><br><span class="line"># ---------- &gt; Indian Media</span><br><span class="line">nameserver /discoveryplus.in/us</span><br><span class="line"></span><br><span class="line"># ---------- &gt; Korean Media</span><br><span class="line"># &gt; Wavve</span><br><span class="line">nameserver /wavve.com/us</span><br><span class="line">nameserver /pooq.co.kr/us</span><br><span class="line"># &gt; Tving</span><br><span class="line">nameserver /tving.com/us</span><br><span class="line"># &gt; Coupang Play</span><br><span class="line">nameserver /coupangplay.com/us</span><br><span class="line"># &gt; Naver TV</span><br><span class="line">nameserver /naver.com/us</span><br><span class="line">nameserver /navercorp.com/us</span><br><span class="line">nameserver /pstatic.net/us</span><br><span class="line">nameserver /smartmediarep.com/us</span><br><span class="line"># &gt; Afreeca TV</span><br><span class="line">nameserver /afreecatv.com/us</span><br><span class="line"># &gt; KBS Domestic</span><br><span class="line">nameserver /kbs.co.kr/us</span><br><span class="line"># &gt; jtbc</span><br><span class="line">nameserver /jtbc.co.kr/us</span><br><span class="line"></span><br><span class="line"># ---------- &gt; ? media</span><br><span class="line"># &gt; Setanta Sports</span><br><span class="line">nameserver /setantasports.com/us</span><br><span class="line">nameserver /imggaming.com/us</span><br><span class="line">nameserver /diceplatform.com/us</span><br><span class="line">nameserver /dicelaboratory.com/us</span><br><span class="line">nameserver /pndsn.com/us</span><br><span class="line">nameserver /imggaming.s3-eu-west-1.amazonaws.com/us</span><br><span class="line">nameserver /ux1kpaebv0.execute-api.eu-west-1.amazonaws.com/us</span><br><span class="line">nameserver /1ok961aaca.execute-api.eu-west-1.amazonaws.com/us</span><br><span class="line"></span><br><span class="line"># ---------- &gt; SouthEastAsia media</span><br><span class="line"># &gt; HBO GO Asia</span><br><span class="line">nameserver /44wilhpljf.execute-api.ap-southeast-1.amazonaws.com/us</span><br><span class="line">nameserver /bcbolthboa-a.akamaihd.net/us</span><br><span class="line">nameserver /dai3fd1oh325y.cloudfront.net/us</span><br><span class="line">nameserver /hboasia1-i.akamaihd.net/us</span><br><span class="line">nameserver /hboasia2-i.akamaihd.net/us</span><br><span class="line">nameserver /hboasia3-i.akamaihd.net/us</span><br><span class="line">nameserver /hboasia4-i.akamaihd.net/us</span><br><span class="line">nameserver /hboasia5-i.akamaihd.net/us</span><br><span class="line">nameserver /hboasialive.akamaized.net/us</span><br><span class="line">nameserver /hbogoprod-vod.akamaized.net/us</span><br><span class="line">nameserver /hbolb.onwardsmg.com/us</span><br><span class="line">nameserver /hbounify-prod.evergent.com/us</span><br><span class="line">nameserver /hbogo.co.th/us</span><br><span class="line">nameserver /hbogoasia.com/us</span><br><span class="line">nameserver /hbogoasia.hk/us</span><br><span class="line">nameserver /hbogoasia.id/us</span><br><span class="line">nameserver /hbogoasia.ph/us</span><br><span class="line">nameserver /hbogoasia.sg/us</span><br><span class="line">nameserver /hbogoasia.tw/us</span><br><span class="line"></span><br><span class="line"># &gt; SG:meWATCH</span><br><span class="line">nameserver /mewatch.sg/us</span><br><span class="line"># &gt; SG:StarHub</span><br><span class="line">nameserver /starhubgo.com/us</span><br><span class="line">nameserver /failoverstarhub.akamaized.net/us</span><br><span class="line">nameserver /scvm1sc0-ssm.anycast.nagra.com/us</span><br><span class="line">nameserver /starhubtvplus.com/us</span><br><span class="line"># &gt; CatchPlay+</span><br><span class="line">nameserver /catchplay.com/us</span><br><span class="line">nameserver /d2ivmxp5z2ww0n.cloudfront.net/us</span><br><span class="line">nameserver /ols-ww100-cp.akamaized.net/us</span><br><span class="line">nameserver /tra-www000-cp.akamaized.net/us</span><br><span class="line"># &gt; TH:TrueID </span><br><span class="line">nameserver /trueid.net/us</span><br><span class="line"># &gt; TH:AIS Play</span><br><span class="line">nameserver /aisplay.ais.co.th/us</span><br><span class="line">nameserver /ais-vidnt.com/us</span><br><span class="line"># &gt; ID:Vidio</span><br><span class="line">nameserver /geo-id-media-001-vidio-com.akamaized.net/us</span><br><span class="line"># &gt; VN:MYTV</span><br><span class="line">nameserver /mytv.vn/us</span><br><span class="line"># &gt; VN:Clip TV</span><br><span class="line">nameserver /cliptv.vn/us</span><br><span class="line"># &gt; VN:Galaxy Play</span><br><span class="line">nameserver /glxplay.io/us</span><br><span class="line"># &gt; VN:K+</span><br><span class="line">nameserver /solocoo.tv/us</span><br><span class="line"># &gt; MY:sooka</span><br><span class="line">nameserver /sooka.my/us</span><br><span class="line">nameserver /kaltura.com/us</span><br><span class="line">nameserver /1fad96d91f4f519fc79753650a57dad992c44af2.cws.conviva.com/us</span><br><span class="line"># &gt; IN:MXPlayer</span><br><span class="line">nameserver /mxplayer.in/us</span><br><span class="line"># &gt; IN:Tata Play</span><br><span class="line">nameserver /tataplay.com/us</span><br><span class="line"># &gt; IN:Zee5</span><br><span class="line">nameserver /zee5.com/us</span><br><span class="line"># &gt; IN:Jio Cinema</span><br><span class="line">nameserver /content-jiovoot.voot.com/us</span><br><span class="line"># &gt; UAE:shahid</span><br><span class="line">nameserver /mbc.net/us</span><br><span class="line">nameserver /npaw.com/us</span><br><span class="line">nameserver /shahid.net/us</span><br><span class="line"></span><br><span class="line"># ---------- &gt; AI Platform</span><br><span class="line"># &gt; Openai</span><br><span class="line">nameserver /openai.com/us</span><br><span class="line">nameserver /chatgpt.com/us</span><br><span class="line">nameserver /oaistatic.com/us</span><br><span class="line">nameserver /oaiusercontent.com/us</span><br><span class="line"># &gt; ExHantai/E-hentai</span><br><span class="line">nameserver /exhentai.org/us</span><br><span class="line">nameserver /e-hentai.org/us</span><br><span class="line"># &gt; Claude 2</span><br><span class="line">nameserver /anthropic.com/us</span><br><span class="line">nameserver /claude.ai/us</span><br><span class="line"># &gt; Google Gemini</span><br><span class="line">nameserver /gemini.google.com/us</span><br><span class="line">nameserver /proactivebackend-pa.googleapis.com/us</span><br><span class="line"># &gt; Google AiStudio</span><br><span class="line">nameserver /aistudio.google.com/us</span><br><span class="line">nameserver /alkalimakersuite-pa.clients6.google.com/us</span><br><span class="line">nameserver /generativelanguage.googleapis.com/us</span><br><span class="line"># &gt; Microsoft Copilot For Image Generates</span><br><span class="line">nameserver /copilot.microsoft.com/us</span><br><span class="line"></span><br><span class="line"># ---------- &gt; China Media</span><br><span class="line"></span><br><span class="line"># &gt; BiliBili</span><br><span class="line">nameserver /bilibili.com/us</span><br><span class="line">nameserver /bilibili.tv/us</span><br><span class="line"></span><br><span class="line"># &gt; iQiyi</span><br><span class="line">nameserver /71.am/us</span><br><span class="line">nameserver /71.am.com/us</span><br><span class="line">nameserver /71edge.com/us</span><br><span class="line">nameserver /71edge.net/us</span><br><span class="line">nameserver /aianno.cn/us</span><br><span class="line">nameserver /aianno.com/us</span><br><span class="line">nameserver /aiqiyicloud-mgmt.com/us</span><br><span class="line">nameserver /aiqiyicloud.com/us</span><br><span class="line">nameserver /aiqiyicloud.net/us</span><br><span class="line">nameserver /baiying.com/us</span><br><span class="line">nameserver /gitv.cn/us</span><br><span class="line">nameserver /gitv.tv/us</span><br><span class="line">nameserver /ibkstore.com/us</span><br><span class="line">nameserver /iq.com/us</span><br><span class="line">nameserver /iqiyi.com/us</span><br><span class="line">nameserver /iqiyi.demo.uwp/us</span><br><span class="line">nameserver /iqiyiedge.com/us</span><br><span class="line">nameserver /iqiyiedge.net/us</span><br><span class="line">nameserver /iqiyipic.com/us</span><br><span class="line">nameserver /jiangbing.cn/us</span><br><span class="line">nameserver /pps.tv/us</span><br><span class="line">nameserver /ppsimg.com/us</span><br><span class="line">nameserver /ppstream.cn/us</span><br><span class="line">nameserver /ppstream.com/us</span><br><span class="line">nameserver /ppstream.com.cn/us</span><br><span class="line">nameserver /ppstream.net/us</span><br><span class="line">nameserver /ppstream.net.cn/us</span><br><span class="line">nameserver /ppsurl.com/us</span><br><span class="line">nameserver /qiyi.cn/us</span><br><span class="line">nameserver /qiyi.com/us</span><br><span class="line">nameserver /qiyipic.com/us</span><br><span class="line">nameserver /qy.com/us</span><br><span class="line">nameserver /qy.net/us</span><br><span class="line">nameserver /suike.cn/us</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;è‡ªåŠ¨-æµåª’ä½“ä¸€é”®ä¿®æ”¹è§£é”dnsè„šæœ¬&quot;&gt;è‡ªåŠ¨-æµåª’ä½“ä¸€é”®ä¿®æ”¹è§£é”DNSè„šæœ¬&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;æ”¯æŒæ“ä½œç³»ç»Ÿ&lt;/strong&gt;: Debian &amp;amp; Ubuntu&lt;/p&gt;
&lt;h2 id=&quot;é¡¹ç›®ç®€ä»‹&quot;&gt;é¡¹ç›®ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;è¯¥è„šæœ¬æ—¨åœ¨å¸®åŠ©ç”¨æˆ·é€šè¿‡</summary>
      
    
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/categories/%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/tags/%E6%8A%98%E8%85%BE/"/>
    
    <category term="æµåª’ä½“" scheme="https://blog.lthero.cn/tags/%E6%B5%81%E5%AA%92%E4%BD%93/"/>
    
  </entry>
  
  <entry>
    <title>ã€è‡ªå»ºã€‘å»ºç«‹è‡ªå·±çš„ä»£ç†æœºåœº</title>
    <link href="https://blog.lthero.cn/2024/11/26/BuildYourOwnProxyhub/"/>
    <id>https://blog.lthero.cn/2024/11/26/BuildYourOwnProxyhub/</id>
    <published>2024-11-26T12:58:48.000Z</published>
    <updated>2025-01-22T05:56:35.817Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.lthero.top/2024/11/26/BuildYourOwnProxyhub/">è·³è½¬åˆ°æ­å»ºhysteria2æ–‡ç« </a></p><p><a href="https://blog.lthero.top/2024/07/18/Install-vless-reality/">è·³è½¬åˆ°æ­å»ºvless-realitæ–‡ç« </a></p><h1 id="è‡ªå»ºæœºåœº">è‡ªå»ºæœºåœº</h1><p><strong>å£°æ˜ï¼šæœ¬æ–¹æ³•å»ºç«‹çš„æœºåœºä»…é™æŠ€æœ¯äº¤æµï¼Œæ— å®é™…äº¤æ˜“æ•™ç¨‹ï¼</strong></p><p><strong>æœ¬æ–¹æ³•æ­å»ºçš„æœºåœºå±äºä»£ç†ç›´è¿çš„æ–¹å¼ï¼Œéä¸­è½¬æœºåœºç­‰é«˜çº§ç©æ³•</strong></p><blockquote><p>å…ˆç”¨ä¸¤å¥è¯è¯´æ˜è‡ªå»ºæœºåœºçš„é€»è¾‘</p><p>1ã€ç”¨<code>Xboard</code>åˆ›å»ºæœºåœºçš„å‰ç«¯ï¼Œ<strong>åœ¨ä¸€å°æœåŠ¡å™¨Aä¸Šéƒ¨ç½²</strong>å³å¯ï¼Œç”¨æˆ·ç®¡ç†ã€æµé‡ç®¡ç†ç­‰åŠŸèƒ½å…¨åœ¨è¿™ä¸Šé¢</p><p>2ã€ä½¿ç”¨<code>V2bX</code>åˆ›å»ºæœºåœºçš„åç«¯ï¼ˆè¿è¡Œäº†å„ç§ä»£ç†æœåŠ¡ï¼Œå¦‚ss, v2ray, hysteria2ç­‰ï¼‰ã€‚V2bXä¼šè·å–èŠ‚ç‚¹ä¿¡æ¯ã€ç”¨æˆ·é‰´æƒä¿¡æ¯ä¸ä¸ŠæŠ¥ç”¨æˆ·æµé‡åˆ°æœåŠ¡å™¨Aï¼Œ<strong>V2bXéƒ¨ç½²åœ¨æœåŠ¡å™¨A,B,C,Dç­‰</strong></p></blockquote><h2 id="xboardéƒ¨ç½²æ•™ç¨‹">Xboardéƒ¨ç½²æ•™ç¨‹</h2><h3 id="å®‰è£…">å®‰è£…</h3><p>ä¸‹é¢æ˜¯ä½¿ç”¨Docker-Composeè¿›è¡Œéƒ¨ç½²</p><blockquote><p><strong>ä»…åœ¨æœåŠ¡å™¨Aä¸Šéƒ¨ç½²</strong></p><p>Xboardæ›´å¤šå®‰è£…æ–¹å¼å‚è€ƒï¼š<a href="https://github.com/cedar2025/Xboard">https://github.com/cedar2025/Xboard</a></p></blockquote><h4 id="å®‰è£…docker">å®‰è£…docker</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://get.docker.com | bash</span><br></pre></td></tr></table></figure><p>è·å–Docker compose æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b  docker-compose --depth 1 https://github.com/cedar2025/Xboard</span><br><span class="line"><span class="built_in">cd</span> Xboard</span><br></pre></td></tr></table></figure><h4 id="æ‰§è¡Œæ•°æ®åº“å®‰è£…å‘½ä»¤">æ‰§è¡Œæ•°æ®åº“å®‰è£…å‘½ä»¤</h4><blockquote><p>è‡ªåŠ¨é€‰æ‹© <strong>å¯ç”¨sqlite</strong> å’Œ <strong>Dockerå†…ç½®çš„Redis</strong></p><p>ä¿®æ”¹ä¸‹é¢çš„your_admin_email@example.com ä¸ºè‡ªå·±çš„ç®¡ç†å‘˜è´¦å·</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose run -it --<span class="built_in">rm</span> -e enable_sqlite=<span class="literal">true</span> -e enable_redis=<span class="literal">true</span> -e admin_account=your_admin_email@example.com xboard php artisan xboard:install</span><br></pre></td></tr></table></figure><p>æ‰‹åŠ¨æ ¹æ®è‡ªå·±çš„éœ€è¦åœ¨è¿è¡Œæ—¶é€‰æ‹©sqliteå’Œredisï¼Œä»¥åŠæ‰‹åŠ¨è¾“å…¥ç®¡ç†å‘˜è´¦å·</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose run -it --<span class="built_in">rm</span> xboard php artisan xboard:install</span><br></pre></td></tr></table></figure><blockquote><p>æ‰§è¡Œè¿™æ¡å‘½ä»¤ä¹‹åï¼Œä¼šè¿”å›ä½ çš„åå°åœ°å€(asdfasqeb)å’Œç®¡ç†å‘˜è´¦å·å¯†ç ï¼ˆ<strong>ä½ éœ€è¦è®°å½•ä¸‹æ¥åå°åœ°å€</strong>ï¼‰ï¼<br>ä½ éœ€è¦æ‰§è¡Œä¸‹é¢çš„ <strong>å¯åŠ¨xborad</strong> æ­¥éª¤ä¹‹åæ‰èƒ½è®¿é—®åå°</p></blockquote><h4 id="å¯åŠ¨xboard">å¯åŠ¨Xboard</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose up -d</span><br></pre></td></tr></table></figure><blockquote><p>å®‰è£…å®Œæˆä¹‹åå³å¯è®¿é—®ä½ çš„ç«™ç‚¹</p></blockquote><h4 id="è®¿é—®ç«™ç‚¹">è®¿é—®ç«™ç‚¹</h4><blockquote><p>å¯åŠ¨ä¹‹åç½‘ç«™ç«¯å£é»˜è®¤ä¸º7001, ä½ å¯ä»¥é…ç½®nginxåå‘ä»£ç†ä½¿ç”¨80ç«¯å£</p></blockquote><p>ç½‘ç«™åœ°å€: <a href="http://xn--IP-0p3cm89l:7001/">http://ä½ çš„IP:7001/</a></p><p>åå°åœ°å€ï¼š<a href="http://xn--IP-0p3cm89l:7001/asdfasqeb">http://ä½ çš„IP:7001/asdfasqeb</a></p><p>åœ¨æ­¤ä½ å·²ç»æˆåŠŸéƒ¨ç½²äº†, ä½ å¯ä»¥è®¿é—®ç½‘å€ä½“éªŒXboardçš„å®Œæ•´åŠŸèƒ½ï¼Œ</p><blockquote><p>å¦‚æœä½ éœ€è¦ä½¿ç”¨mysqlï¼Œè¯·è‡ªè¡Œå®‰è£…Mysqlåé‡æ–°éƒ¨ç½²</p></blockquote><h3 id="æ›´æ–°"><strong>æ›´æ–°</strong></h3><p>ä¿®æ”¹ç‰ˆæœ¬</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> Xboard</span><br><span class="line">vi docker-compose.yaml</span><br></pre></td></tr></table></figure><blockquote><p>ä¿®æ”¹docker-compose.yaml å½“ä¸­imageåé¢çš„ç‰ˆæœ¬å·ä¸ºä½ éœ€è¦çš„ç‰ˆæœ¬<br>å¦‚æœä¸ºç‰ˆæœ¬ä¸ºlatest åˆ™å¯ä»¥å¿½ç•¥è¿™ä¸€æ­¥ï¼Œç›´æ¥è¿›è¡Œç¬¬äºŒæ­¥</p></blockquote><p>æ›´æ–°æ•°æ®åº“ï¼ˆå¯ä»¥æ‰§è¡Œå¤šæ¬¡éƒ½æ˜¯å®‰å…¨çš„ï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker compose pull</span><br><span class="line">docker compose down</span><br><span class="line">docker compose run -it --<span class="built_in">rm</span> xboard php artisan xboard:update</span><br><span class="line">docker compose up -d</span><br></pre></td></tr></table></figure><blockquote><p>å³å¯æ›´æ–°æˆåŠŸ</p></blockquote><h3 id="å›æ»š"><strong>å›æ»š</strong></h3><blockquote><p>æ­¤å›æ»šä¸å›æ»šæ•°æ®åº“ï¼Œæ˜¯å¦å›æ»šæ•°æ®åº“è¯·æŸ¥çœ‹ç›¸å…³æ–‡æ¡£</p></blockquote><p>å›é€€ç‰ˆæœ¬</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi docker-compose.yaml</span><br></pre></td></tr></table></figure><blockquote><p>ä¿®æ”¹docker-compose.yaml å½“ä¸­imageåé¢çš„ç‰ˆæœ¬å·ä¸ºæ›´æ–°å‰çš„ç‰ˆæœ¬å·</p></blockquote><p>å¯åŠ¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose up -d</span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„">æ³¨æ„</h3><p>å¯ç”¨webmanååšçš„ä»»ä½•ä»£ç ä¿®æ”¹éƒ½éœ€è¦é‡å¯ç”Ÿæ•ˆ</p><h2 id="xboardæ·»åŠ èŠ‚ç‚¹">Xboardæ·»åŠ èŠ‚ç‚¹</h2><blockquote><p>åœ¨Xboardçš„ç®¡ç†é¡µé¢æ·»åŠ èŠ‚ç‚¹ï¼Œåœ¨æ·»åŠ èŠ‚ç‚¹å‰ï¼Œå…ˆæ·»åŠ ä¸€ä¸ªè®¢é˜…æœåŠ¡ï¼ˆé‡‘é¢æµé‡ç­‰ä¿¡æ¯å¯ä»¥éšä¾¿å¡«å†™ï¼‰</p></blockquote><p>è¿™é‡Œä»¥é…ç½®hysteria2ä¸ºä¾‹ï¼Œå¹¶ä¸”æ˜¯ä½¿ç”¨è‡ªç­¾è¯ä¹¦çš„å½¢å¼ï¼Œ<a href="http://xn--bing-494f58bbyus1hf9y35i7i9b1o8e.com">æ‰€ä»¥ä¸‹é¢çš„åŸŸåæ˜¯bing.com</a></p><p>åœ¨Xboardé‡Œå…ˆä¸€ä¸ªèŠ‚ç‚¹</p><ul><li><p>èŠ‚ç‚¹åç§° ï¼šä»»æ„</p></li><li><p>å€ç‡ï¼šä»»æ„</p></li><li><p>èŠ‚ç‚¹åœ°å€ï¼š<strong>å°†è¿è¡Œhysteriaçš„æœåŠ¡å™¨</strong>ï¼ˆå¯ä»¥æ˜¯æœåŠ¡å™¨A,B,C,Dç­‰ï¼‰ï¼Œå†™å…¬ç½‘<strong>IPåœ°å€</strong></p></li><li><p>è¿æ¥ç«¯å£ï¼šé€‰æ‹©æœåŠ¡å™¨Aï¼ˆè¿è¡Œäº†boardï¼‰ä¸Š<strong>ç©ºé—²çš„ç«¯å£</strong></p></li><li><p>æœåŠ¡ç«¯å£ï¼šå°†è¿è¡Œhysteria2çš„æœåŠ¡å™¨ï¼ˆå¦‚B,C,Dï¼‰ä¸­hysteria2è¿›ç¨‹çš„ç«¯å£</p><ul><li><strong>è¿æ¥ç«¯å£å’ŒæœåŠ¡ç«¯å£è¦å†™ä¸€æ ·çš„ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸ä½¿ç”¨</strong>ï¼Œç†è®ºä¸Šåº”è¯¥æ˜¯å¯ä»¥ä¸åŒçš„ï¼Œä½†å¯èƒ½æ˜¯bug</li></ul></li><li><p>å…è®¸ä¸å®‰å…¨ï¼šæ˜¯</p></li><li><p>åè®®ç‰ˆæœ¬ï¼šv2</p></li><li><p>å¼€å¯obfsï¼šå¦</p></li><li><p>sniï¼š<a href="http://bing.com">bing.com</a></p><ul><li>å¦‚æœä½¿ç”¨å…¬è®¤è¯ä¹¦ï¼Œè¯·è¾“å…¥æŒ‡å‘è¿™å°æœåŠ¡å™¨çš„åŸŸåï¼ˆA,B,C,Dç­‰è¿è¡Œhyåè®®çš„æœåŠ¡å™¨ï¼‰</li></ul></li><li><p>ä¸Šè¡Œå¸¦å®½ï¼š100</p></li><li><p>ä¸‹è¡Œå¸¦å®½ï¼š200</p></li><li><p>çˆ¶èŠ‚ç‚¹ï¼šæ— </p></li></ul><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241125235329948.png" alt="image-20241125235329948"></p><p>è‡³æ­¤ï¼Œå·²ç»å®Œæˆäº†å‰ç«¯çš„å·¥ä½œï¼Œåé¢æ˜¯å°†æ·»åŠ çš„èŠ‚ç‚¹è¿›è¡Œå®é™…è¿è¡Œèµ·æ¥ï¼Œ<strong>èŠ‚ç‚¹çš„éƒ¨ç½²</strong>å¯ä»¥è¿è¡Œåœ¨ä¸åŒäºæœåŠ¡å™¨A(è¿è¡Œäº†Xboard)çš„æœºå™¨B,C,Dä¸Š</p><blockquote><p>å¼ºçƒˆæ¨èåœ¨éƒ¨ç½²èŠ‚ç‚¹ä¹‹å‰ï¼Œ<strong>å…ˆé…ç½®å¥½httpsè®¿é—®</strong>ï¼Œåé¢ä¸¤æ­¥æ˜¯é…ç½®httpsçš„è¿‡ç¨‹</p></blockquote><ol><li>å…ˆé…ç½®httpè®¿é—®</li><li>å†é…ç½®httpsè®¿é—®ï¼Œä¸è¦è·³è¿‡</li></ol><h2 id="ä½¿ç”¨httpè®¿é—®">ä½¿ç”¨HTTPè®¿é—®</h2><p>è¦å°†è¿è¡Œåœ¨Dockerå®¹å™¨ä¸­çš„æœåŠ¡é€šè¿‡åŸŸåè®¿é—®ï¼Œå¹¶ä½¿ç”¨Nginxä½œä¸ºåå‘ä»£ç†æ¥è½¬å‘åˆ°å®¿ä¸»æœºçš„7001ç«¯å£ï¼Œä½ éœ€è¦å®Œæˆå‡ ä¸ªæ­¥éª¤ã€‚è¿™åŒ…æ‹¬è®¾ç½®DNSè®°å½•ã€é…ç½®Nginxä»¥åŠç¡®ä¿ç½‘ç»œå®‰å…¨ã€‚ä¸‹é¢æ˜¯å…·ä½“æ­¥éª¤ï¼š</p><h3 id="æ­¥éª¤-1-è®¾ç½®dnsè®°å½•">æ­¥éª¤ 1: è®¾ç½®DNSè®°å½•</h3><p>ç¡®ä¿ä½ çš„åŸŸå <code>board.lthero.top</code> çš„DNSè®°å½•æŒ‡å‘æ‰˜ç®¡Nginxçš„æœåŠ¡å™¨çš„IPåœ°å€ã€‚è¿™é€šå¸¸åœ¨ä½ çš„åŸŸåæ³¨å†Œå•†å¤„è¿›è¡Œè®¾ç½®ï¼š</p><ul><li><strong>Aè®°å½•</strong>ï¼šå°†åŸŸåæŒ‡å‘IPv4åœ°å€ã€‚</li><li><strong>AAAAè®°å½•</strong>ï¼šå°†åŸŸåæŒ‡å‘IPv6åœ°å€ï¼ˆå¦‚æœé€‚ç”¨ï¼‰ã€‚</li></ul><h3 id="æ­¥éª¤-2-å®‰è£…å¹¶å¯åŠ¨nginx">æ­¥éª¤ 2: å®‰è£…å¹¶å¯åŠ¨Nginx</h3><p>æ­¥éª¤ 1: æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨</p><p>æ‰“å¼€ç»ˆç«¯ï¼Œé¦–å…ˆä½¿ç”¨<code>apt</code>å‘½ä»¤æ›´æ–°ä½ çš„åŒ…åˆ—è¡¨ï¼Œä»¥ç¡®ä¿ä½ å®‰è£…çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„Nginxã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><p>æ­¥éª¤ 2: å®‰è£…Nginx</p><p>ä½¿ç”¨<code>apt</code>å®‰è£…Nginxã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install nginx</span><br></pre></td></tr></table></figure><h3 id="æ­¥éª¤-3-é…ç½®nginx">æ­¥éª¤ 3: é…ç½®Nginx</h3><p>ä½ éœ€è¦åœ¨Nginxä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æœåŠ¡å™¨å—ï¼ˆserver blockï¼‰ï¼Œæˆ–è€…åœ¨å·²æœ‰çš„é»˜è®¤é…ç½®ä¸­ä¿®æ”¹ï¼Œä»¥è®¾ç½®åå‘ä»£ç†ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºæœ¬çš„Nginxé…ç½®ç¤ºä¾‹ï¼Œå°†ä¼šæŠŠæ‰€æœ‰åˆ° <code>board.lthero.top</code> çš„è¯·æ±‚è½¬å‘åˆ°æœ¬åœ°çš„7001ç«¯å£ï¼š</p><ol><li><p>æ‰“å¼€æˆ–åˆ›å»ºä¸€ä¸ªæ–°çš„Nginxé…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/nginx/sites-available/board.lthero.top</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> board.lthero.top;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:7001;</span><br><span class="line">        <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="string">&#x27;upgrade&#x27;</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_cache_bypass</span> <span class="variable">$http_upgrade</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé…ç½®åšäº†ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><code>listen 80;</code> å‘Šè¯‰Nginxç›‘å¬80ç«¯å£ï¼ˆHTTPæ ‡å‡†ç«¯å£ï¼‰ã€‚</li><li><code>server_name board.lthero.top;</code> è®¾ç½®è¿™ä¸ªå—åº”å½“å“åº”çš„åŸŸåã€‚</li><li><code>proxy_pass http://localhost:7001;</code> æŒ‡å®šæ‰€æœ‰ä¼ å…¥çš„è¯·æ±‚è½¬å‘åˆ°æœ¬åœ°çš„7001ç«¯å£ã€‚</li><li><code>proxy_set_header</code> æŒ‡ä»¤å°†é‡è¦çš„HTTPå¤´ä¿¡æ¯è½¬å‘ç»™åç«¯åº”ç”¨ã€‚</li></ul></li><li><p>å¯ç”¨é…ç½®æ–‡ä»¶é€šè¿‡åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /etc/nginx/sites-available/board.lthero.top /etc/nginx/sites-enabled/</span><br></pre></td></tr></table></figure></li><li><p>æ£€æŸ¥Nginxé…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -t</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œé‡å¯Nginxä»¥åº”ç”¨é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart nginx</span><br></pre></td></tr></table></figure></li></ol><h3 id="æ­¥éª¤-4-è°ƒæ•´é˜²ç«å¢™è§„åˆ™">æ­¥éª¤ 4: è°ƒæ•´é˜²ç«å¢™è§„åˆ™</h3><p>ç¡®ä¿ä½ çš„æœåŠ¡å™¨çš„é˜²ç«å¢™è§„åˆ™å…è®¸HTTPï¼ˆç«¯å£80ï¼‰å’ŒHTTPSï¼ˆç«¯å£443ï¼Œå¦‚æœä½ ä½¿ç”¨SSLï¼‰çš„æµé‡ã€‚å¦‚æœä½ æ­£åœ¨ä½¿ç”¨<code>ufw</code>ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow <span class="string">&#x27;Nginx Full&#x27;</span></span><br><span class="line">sudo ufw reload</span><br></pre></td></tr></table></figure><h3 id="æ­¥éª¤-5-æµ‹è¯•é…ç½®">æ­¥éª¤ 5: æµ‹è¯•é…ç½®</h3><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>http://board.lthero.top</code> æˆ–ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·å¦‚ <code>curl</code> æ¥æµ‹è¯•ä½ çš„é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://board.lthero.top</span><br></pre></td></tr></table></figure><p>ä½ åº”è¯¥èƒ½çœ‹åˆ°ä»Dockerå®¹å™¨ä¸­è¿è¡Œçš„æœåŠ¡å“åº”çš„å†…å®¹ã€‚</p><p>è¿™æ ·ï¼Œä½ å°±é…ç½®å¥½äº†Nginxä½œä¸ºåå‘ä»£ç†ï¼Œå°†åŸŸå <code>board.lthero.top</code> çš„æµé‡è½¬å‘åˆ°å®¿ä¸»æœºçš„7001ç«¯å£ä¸Šçš„æœåŠ¡ã€‚å¦‚æœä½ å¸Œæœ›ä½¿ç”¨HTTPSï¼Œä½ è¿˜éœ€è¦è®¾ç½®SSLè¯ä¹¦ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨Letâ€™s Encryptå…è´¹è¯ä¹¦å¹¶é…ç½®HTTPSã€‚</p><h2 id="ä½¿ç”¨httpsè®¿é—®">ä½¿ç”¨HTTPSè®¿é—®</h2><p>è¦è®©ä½ çš„åŸŸå <code>board.lthero.top</code> ä½¿ç”¨ HTTPSï¼Œä½ éœ€è¦è·å– SSL/TLS è¯ä¹¦ï¼Œå¹¶é…ç½® Nginx ä»¥ä½¿ç”¨è¿™äº›è¯ä¹¦æ¥åŠ å¯†ç½‘é¡µå†…å®¹ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æ­¥éª¤ï¼ŒåŒ…æ‹¬å¦‚ä½•ä½¿ç”¨ Letâ€™s Encrypt æä¾›çš„å…è´¹è¯ä¹¦è‡ªåŠ¨åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚</p><h3 id="æ­¥éª¤-1-å®‰è£…-certbot">æ­¥éª¤ 1: å®‰è£… Certbot</h3><p>Certbot æ˜¯ä¸€ä¸ªè‡ªåŠ¨è·å–å¹¶å®‰è£… Letâ€™s Encrypt è¯ä¹¦çš„å®¢æˆ·ç«¯ã€‚åœ¨ Ubuntu ä¸Šå®‰è£… Certbot åŠå…¶ Nginx æ’ä»¶éå¸¸ç®€å•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install certbot python3-certbot-nginx -y</span><br></pre></td></tr></table></figure><h3 id="æ­¥éª¤-2-è·å–å’Œå®‰è£…è¯ä¹¦">æ­¥éª¤ 2: è·å–å’Œå®‰è£…è¯ä¹¦</h3><p>ä½¿ç”¨ Certbot è·å–å¹¶ä¸ºä½ çš„åŸŸåå®‰è£…è¯ä¹¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot --nginx -d board.lthero.top</span><br></pre></td></tr></table></figure><p>æ­¤å‘½ä»¤ä¼šè‡ªåŠ¨ä¸ºæŒ‡å®šçš„åŸŸå <code>board.lthero.top</code> é…ç½® SSL è¯ä¹¦ï¼Œå¹¶æ›´æ–° Nginx é…ç½®ä»¥ä½¿ç”¨è¿™äº›è¯ä¹¦ã€‚</p><p>Certbot ä¼šè¯¢é—®ä½ ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ç”µå­é‚®ä»¶åœ°å€ï¼ˆç”¨äºç´§æ€¥è”ç³»å’Œè¯ä¹¦ç»­è®¢æé†’ï¼‰</p><p>ä»¥åŠ<strong>æ˜¯å¦é‡å®šå‘æ‰€æœ‰ HTTP è¯·æ±‚åˆ° HTTPSï¼ˆå¼ºçƒˆå»ºè®®å¯ç”¨ï¼‰</strong>ï¼Œå¦‚æœå¯ç”¨ï¼Œå®ƒç”¨è‡ªåŠ¨ä¿®æ”¹board.lthero.topçš„nginxé…ç½®æ–‡ä»¶ï¼Œ</p><p>ç”Ÿæˆçš„è¯ä¹¦ä½ç½®<code>/etc/letsencrypt/live/</code></p><h3 id="æ­¥éª¤-3-æ›´æ–°-nginx-é…ç½®">æ­¥éª¤ 3: æ›´æ–° Nginx é…ç½®</h3><p>å¦‚æœä½ æƒ³æ‰‹åŠ¨ç¼–è¾‘ Nginx é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼é…ç½®ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/nginx/sites-available/board.lthero.top</span><br></pre></td></tr></table></figure><ol><li>å¦‚æœä½ çš„é…ç½®æ–‡ä»¶é‡Œå·²ç»å‡ºç°â€œ# managed by Certbotâ€ç­‰å†…å®¹ï¼Œè¯´æ˜Certbotå·²ç»å°†é…ç½®æ–‡ä»¶ä¿®æ”¹å¥½äº†ï¼Œç›´æ¥é‡å¯nginxå³å¯</li><li>è®°å¾—å°†ä¸‹é¢æ‰€æœ‰çš„board.lthero.topæ¢æˆä½ çš„åŸŸå</li><li>è¿™é‡Œçš„7001ç«¯å£æ˜¯Xboardè¿è¡Œç«¯å£</li></ol><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">server_name</span> board.lthero.top;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:7001;</span><br><span class="line">        <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="string">&#x27;upgrade&#x27;</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_cache_bypass</span> <span class="variable">$http_upgrade</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl; <span class="comment"># managed by Certbot</span></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/board.lthero.top/fullchain.pem; <span class="comment"># managed by Certbot</span></span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/board.lthero.top/privkey.pem; <span class="comment"># managed by Certbot</span></span><br><span class="line">    <span class="attribute">include</span> /etc/letsencrypt/options-ssl-nginx.conf; <span class="comment"># managed by Certbot</span></span><br><span class="line">    <span class="attribute">ssl_dhparam</span> /etc/letsencrypt/ssl-dhparams.pem; <span class="comment"># managed by Certbot</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">if</span> (<span class="variable">$host</span> = board.lthero.top) &#123;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$host</span><span class="variable">$request_uri</span>;</span><br><span class="line">    &#125; <span class="comment"># managed by Certbot</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> board.lthero.top;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">404</span>; <span class="comment"># managed by Certbot</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ­¥éª¤-4-é‡æ–°åŠ è½½-nginx">æ­¥éª¤ 4: é‡æ–°åŠ è½½ Nginx</h3><p>æ›´æ”¹é…ç½®åï¼Œéœ€è¦é‡æ–°åŠ è½½ Nginx ä»¥åº”ç”¨æ–°çš„é…ç½®ï¼š</p><blockquote><p>æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œå¦‚æœæœ‰warn!ç›´æ¥çœ‹â€œé‡åˆ°çš„é—®é¢˜â€éƒ¨åˆ†ï¼Œé‡æ–°åŠ è½½é…ç½®æ˜¯ä¸ä¸€å®šèƒ½workçš„</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -t  <span class="comment"># æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯</span></span><br><span class="line">sudo systemctl reload nginx  <span class="comment"># é‡æ–°åŠ è½½é…ç½®</span></span><br><span class="line"><span class="comment"># å¦‚æœé‡æ–°åŠ è½½é…ç½®åæ— æ•ˆï¼Œå¯ä»¥å°è¯•é‡å¯nginx</span></span><br><span class="line">sudo systemctl restart nginx</span><br></pre></td></tr></table></figure><h3 id="æ­¥éª¤-5-éªŒè¯-https">æ­¥éª¤ 5: éªŒè¯ HTTPS</h3><p>åœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>https://board.lthero.top</code> æ¥æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸã€‚ä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°ä¸€ä¸ªå®‰å…¨é”æ ‡å¿—ï¼Œè¡¨æ˜è¿æ¥æ˜¯é€šè¿‡ HTTPS åŠ å¯†çš„ã€‚</p><h3 id="æ­¥éª¤-6-è‡ªåŠ¨ç»­è®¢è¯ä¹¦">æ­¥éª¤ 6: è‡ªåŠ¨ç»­è®¢è¯ä¹¦</h3><p>Letâ€™s Encrypt çš„è¯ä¹¦æœ‰æ•ˆæœŸä¸º90å¤©ï¼Œå› æ­¤å»ºè®®è®¾ç½®è‡ªåŠ¨ç»­è®¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot renew</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤ä¼šæµ‹è¯•è¯ä¹¦ç»­è®¢è¿‡ç¨‹ã€‚å¦‚æœè¿™ä¸ªæµ‹è¯•æˆåŠŸï¼Œæ·»åŠ å®šæ—¶ä»»åŠ¡<code>crontab</code>ï¼š</p><p><code>crontab -e</code>å†å¡«å†™ä¸‹é¢å†…å®¹ï¼Œè¡¨ç¤ºæ¯æœˆç¬¬ä¸€å¤©ä¼šè‡ªåŠ¨æ‰§è¡Œ</p><p>é€šè¿‡<code>which certbot</code>æŸ¥çœ‹å…·ä½“ç¨‹åºä½ç½®<code>/usr/local/bin/certbot</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0 1 * * /usr/local/bin/certbot renew --deploy-hook <span class="string">&quot;nginx -s reload&quot;</span></span><br></pre></td></tr></table></figure><p>ç»­ç­¾çš„è¯ä¹¦ä½ç½®<code>/etc/letsencrypt/renewal</code></p><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ çš„ç«™ç‚¹ <code>board.lthero.top</code> ç°åœ¨åº”è¯¥èƒ½å¤Ÿå®‰å…¨åœ°ä½¿ç”¨ HTTPS è¿›è¡Œé€šä¿¡äº†ã€‚</p><p>å¦‚æœè¦æ¢crontabç¼–è¾‘å™¨ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select-editor</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œå·²ç»é…ç½®å¥½httpsè®¿é—®ï¼Œä¸‹é¢å¼€å§‹<strong>éƒ¨ç½²ä»£ç†æœåŠ¡</strong></p><hr><h2 id="v2bxéƒ¨ç½²ä»£ç†æœåŠ¡">V2bXéƒ¨ç½²ä»£ç†æœåŠ¡</h2><blockquote><p>åœ¨éœ€è¦**è¿è¡ŒèŠ‚ç‚¹çš„æœåŠ¡å™¨ï¼ˆA,B,C,Dç­‰ï¼‰**ä¸Šå®‰è£…V2bXï¼Œä»è€Œè¿è¡Œhysteria2, v2ray, vless, ssç­‰åè®®</p><p>åœ¨V2bXä¸Šè¿è¡Œçš„ä»£ç†åè®®å¯å¯¹æ¥åˆ°Xboardä¸Šï¼Œä¼šå°†ç”¨æˆ·ä½¿ç”¨æƒ…å†µä¸Šä¼ åˆ°Xboardä¸Šå¹¶ç»Ÿè®¡</p><p>è§†é¢‘å‚è€ƒï¼š<a href="https://youtu.be/Fwn0nFbB0zY?t=720">https://youtu.be/Fwn0nFbB0zY?t=720</a></p></blockquote><h3 id="v2bxå®‰è£…">V2bXå®‰è£…</h3><p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå®‰è£…V2bX</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N https://raw.githubusercontent.com/wyx2685/V2bX-script/master/install.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶è·¯å¾„ï¼š<code>/etc/V2bX</code> é…ç½®æ–‡ä»¶è¯¦è§ï¼š<a href="https://v2bx.v-50.me/v2bx/v2bx-pei-zhi-wen-jian-shuo-ming/config">é…ç½®æ–‡ä»¶è¯´æ˜</a></p><p>ä¸‹é¢æ˜¯åœ¨<strong>æœåŠ¡å™¨B</strong>ä¸Šè¿è¡Œhysteria2åè®®çš„é…ç½®è¿‡ç¨‹</p><ul><li><p>è¾“å…¥æœºåœºç½‘å€ä¸API Key</p><ul><li>æœºåœºç½‘å€å°±æ˜¯åŸŸåhttps://board.lthero.topï¼Œè€ŒAPI keyåœ¨Xboardçš„ç®¡ç†ç½‘é¡µä¸­ï¼Œæ‰¾åˆ°â€œç³»ç»Ÿé…ç½®â€-&gt;â€œèŠ‚ç‚¹â€-&gt;â€œé€šè®¯å¯†é’¥â€</li><li>åŸç†æ˜¯V2bXæ‹¿ç€å¯†é’¥ï¼Œåˆ°board.lthero.topä¸Šé¢è·å–ä½ é…ç½®çš„èŠ‚ç‚¹çš„ä¿¡æ¯ï¼›æ ¹æ®è¿™äº›èŠ‚ç‚¹ä¿¡æ¯ï¼ŒV2bXåœ¨æœåŠ¡å™¨(A,B,C,D)ä¸Šè¿è¡ŒæœåŠ¡ï¼ˆå¦‚hysteria2åè®®ï¼ŒVlessåè®®ç­‰ï¼‰</li></ul></li><li><p>é€‰æ‹©æ ¸å¿ƒï¼š<strong>singbox</strong> å¯¹åº”çš„åºå·</p></li><li><p>é€‰æ‹©åè®®ï¼š<strong>hysteria2</strong> å¯¹åº”çš„åºå·</p></li><li><p>è¯ä¹¦æ¨¡å¼ï¼š<strong>selfæ¨¡å¼</strong> å¯¹åº”çš„åºå·</p><ul><li>å¦‚æœä½¿ç”¨å…¬è®¤è¯ä¹¦ï¼Œè¯·ä½¿ç”¨<strong>httpæ¨¡å¼</strong>ï¼Œä½ éœ€è¦è§£æä¸€ä¸ªåŸŸååˆ°è¿™ä¸ª<strong>æœåŠ¡å™¨Bçš„èŠ‚ç‚¹æœåŠ¡</strong>ï¼Œå¦‚ï¼šhy-jp-b.lthero.top</li><li>å¦‚æœä½ ä»ç„¶ä½¿ç”¨<strong>æœåŠ¡å™¨A</strong>è¿è¡ŒèŠ‚ç‚¹ï¼Œè¯·ä¸è¦ä½¿ç”¨board.lthero.topï¼Œè¯·é‡æ–°é…ç½®ä¸€æ¡åŸŸåè§£æåˆ°<strong>èŠ‚ç‚¹æœåŠ¡</strong>,å¦‚ï¼šï¼Œå¦‚ï¼šhy-jp-a.lthero.top</li></ul></li><li><p>è¾“å…¥èŠ‚ç‚¹è¯ä¹¦åŸŸåï¼š<strong><a href="http://bing.com">bing.com</a></strong></p><ul><li>å¦‚æœä½¿ç”¨å…¬è®¤è¯ä¹¦ï¼Œè¯·è¾“å…¥æŒ‡å‘è¿™å°VPSçš„åŸŸå</li></ul></li><li><p>è¾“å…¥né€€å‡ºï¼ˆé™¤éæƒ³æ·»åŠ å…¶å®ƒåè®®ï¼‰</p></li></ul><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241125235810854.png" alt="image-20241125235810854"></p><p>éšåï¼Œè¾“å…¥ <code>V2bX</code> æŸ¥çœ‹V2bXçš„é…ç½®æˆ–ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œ<strong>æ¯æ¬¡ä¿®æ”¹é…ç½®æ–‡ä»¶åV2bXä¼šè‡ªåŠ¨é‡å¯</strong></p><p>è¿™é‡Œåæ§½ä¸€å¥å•Šï¼Œå®ƒåªèƒ½åˆå§‹åŒ–çš„æ—¶å€™ä½¿ç”¨äº¤äº’æ–¹å¼è¿›è¡Œæ–‡ä»¶é…ç½®ï¼Œåç»­åªèƒ½æ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¯¹æ–°æ‰‹ä¸å‹å¥½ã€‚</p><p>å¦‚æœæƒ³é‡æ–°ä½¿ç”¨äº¤äº’æ–¹å¼ï¼Œåªèƒ½å°†V2bXå¸è½½åé‡è£…ã€‚</p><h3 id="hysteria2è‡ªç­¾è¯ä¹¦çš„é…ç½®æ–‡ä»¶">hysteria2è‡ªç­¾è¯ä¹¦çš„é…ç½®æ–‡ä»¶</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;Log&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;Level&quot;</span><span class="punctuation">:</span> <span class="string">&quot;error&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;Output&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;Cores&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;Type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sing&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;Log&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;Level&quot;</span><span class="punctuation">:</span> <span class="string">&quot;error&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;Timestamp&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;NTP&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;Enable&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;Server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;time.apple.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ServerPort&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;OriginalPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/etc/V2bX/sing_origin.json&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;Nodes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;Core&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sing&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ApiHost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://xxx.lthero.top&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ApiKey&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;NodeID&quot;</span><span class="punctuation">:</span> <span class="number">12</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;NodeType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hysteria2&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;Timeout&quot;</span><span class="punctuation">:</span> <span class="number">30</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ListenIP&quot;</span><span class="punctuation">:</span> <span class="string">&quot;::&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;SendIP&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;DeviceOnlineMinTraffic&quot;</span><span class="punctuation">:</span> <span class="number">1000</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;TCPFastOpen&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;SniffEnabled&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;CertConfig&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;CertMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;self&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;RejectUnknownSni&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;CertDomain&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bing.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;CertFile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/etc/V2bX/fullchain.cer&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;KeyFile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/etc/V2bX/cert.key&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;Email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;v2bx@github.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;Provider&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cloudflare&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;DNSEnv&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;EnvName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;env1&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="hysteria2ä½¿ç”¨è¯ä¹¦">hysteria2ä½¿ç”¨è¯ä¹¦</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;Nodes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;Core&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sing&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ApiHost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://board.lthero.top&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ApiKey&quot;</span><span class="punctuation">:</span> <span class="string">&quot;xxxxx&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;NodeID&quot;</span><span class="punctuation">:</span> <span class="number">13</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;NodeType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hysteria2&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;Timeout&quot;</span><span class="punctuation">:</span> <span class="number">30</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ListenIP&quot;</span><span class="punctuation">:</span> <span class="string">&quot;::&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;SendIP&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;DeviceOnlineMinTraffic&quot;</span><span class="punctuation">:</span> <span class="number">1000</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;TCPFastOpen&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;SniffEnabled&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;CertConfig&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;CertMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;RejectUnknownSni&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">                <span class="comment">//å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œè¿™é‡Œå†™è§£æåˆ°èŠ‚ç‚¹æœåŠ¡çš„åŸŸå</span></span><br><span class="line">                <span class="attr">&quot;CertDomain&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ak-jp.lthero.top&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;CertFile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/etc/V2bX/fullchain.cer&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;KeyFile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/etc/V2bX/cert.key&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;Email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;v2bx@github.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;Provider&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cloudflare&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;DNSEnv&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;EnvName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;env1&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><hr><h2 id="å…¶å®ƒå¯¹æ¥xboardçš„å·¥å…·">å…¶å®ƒå¯¹æ¥Xboardçš„å·¥å…·</h2><p>é™¤äº†V2bXï¼Œè¿˜æœ‰ä¸ªå¯¹æ¥Xboardçš„å·¥å…·ï¼š</p><p><a href="https://github.com/FireinRainLab/hysteria-v2board">https://github.com/FireinRainLab/hysteria-v2board</a></p><p><a href="https://github.com/cedar2025/hysteria">https://github.com/cedar2025/hysteria</a></p><p>è¿™å·¥å…·æ˜¯å°†hysteria2æ‰“åŒ…åˆ°dockerä¸­ï¼Œå¹¶ä¸”å°†ç”¨æˆ·ä½¿ç”¨æ•°æ®å¯¹æ¥åˆ°Xboard/V2board</p><h1 id="è’¸è’¸æ—¥ä¸Šçš„å·¥å…·">è’¸è’¸æ—¥ä¸Šçš„å·¥å…·</h1><h2 id="ä¸€é”®æŠ¢ä¸»æœºè„šæœ¬">ä¸€é”®æŠ¢ä¸»æœºè„šæœ¬</h2><p><a href="https://chromewebstore.google.com/detail/one-click-checkout-for-wh/">https://chromewebstore.google.com/detail/one-click-checkout-for-wh/</a></p><p>æ”¯æŒ * RackNerd * SpartanHost * GreenCloudVPS</p><h2 id="ä¸»æœºå…¨æ–¹é¢æµ‹è¯•">ä¸»æœºå…¨æ–¹é¢æµ‹è¯•</h2><blockquote><p>åŒ…å«ä¸»æœºcpuæ€§èƒ½ã€ç£ç›˜æµ‹è¯•ã€æµåª’ä½“è§£é”æµ‹è¯•ã€é€Ÿåº¦åŠå»¶è¿Ÿæµ‹è¯•ç­‰</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://github.com/spiritLHLS/ecs/raw/main/ecs.sh -o ecs.sh &amp;&amp; <span class="built_in">chmod</span> +x ecs.sh &amp;&amp; bash ecs.sh</span><br></pre></td></tr></table></figure><p>å·¥å…·æ¥æºï¼š<a href="https://digvps.com/tools/ecs">https://digvps.com/tools/ecs</a></p><h2 id="æµåª’ä½“è§£é”æ£€æµ‹">æµåª’ä½“è§£é”æ£€æµ‹</h2><p>RegionRestrictionCheck æ£€æµ‹è„šæœ¬æ£€æµ‹é¡¹ç›®æ¯”è¾ƒå…¨é¢ï¼Œä¸”æ”¯æŒDockerè¿è¡Œï¼Œæœç»æ±¡æŸ“VPSæœåŠ¡å™¨ï¼Œæ£€æµ‹æµåª’ä½“é™¤äº†ä¸»æµçš„Netflixã€Disney+ã€YouTube Premiumï¼Œè¿˜å¯ä»¥æ”¯æŒæ£€æµ‹Daznã€Viu TVã€4GTVå’ŒKKTVç­‰æ¯”è¾ƒå†·é—¨çš„æµåª’ä½“æœåŠ¡ã€‚</p><blockquote><p>æ”¯æŒOS/Platformï¼šCentOS 6+, Ubuntu 14.04+, Debian 8+, MacOS, Android with Termux</p></blockquote><h3 id="ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s check.unlock.media)</span><br></pre></td></tr></table></figure><p>åªæ£€æµ‹IPv4ç»“æœ:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s check.unlock.media) -M 4</span><br></pre></td></tr></table></figure><p>åªæ£€æµ‹IPv6ç»“æœï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s check.unlock.media) -M 6</span><br></pre></td></tr></table></figure><h2 id="éƒ¨åˆ†æµ‹è¯•ç»“æœ">éƒ¨åˆ†æµ‹è¯•ç»“æœ</h2><h3 id="do">DO</h3><p>ç¾å›½SF-1c2g</p><p><a href="https://paste.spiritlhl.net/code/K1XMh0.txt">https://paste.spiritlhl.net/code/K1XMh0.txt</a></p><h3 id="racknerd">RackNerd</h3><p>ç¾å›½LA-1c2g</p><p><a href="https://paste.spiritlhl.net/code/ECrxxe.txt">https://paste.spiritlhl.net/code/ECrxxe.txt</a></p><p>ç¾å›½LA-2c2.5g</p><p><a href="https://paste.spiritlhl.net/code/dKstV2.txt">https://paste.spiritlhl.net/code/dKstV2.txt</a></p><p>ç¾å›½LA-é»‘äº”é—ªå¤Ÿ 2c2g</p><p><a href="https://paste.spiritlhl.net/code/t9bdNE.txt">https://paste.spiritlhl.net/code/t9bdNE.txt</a></p><h3 id="akile">Akile</h3><p>ç¾å›½LA-1c1g</p><p><a href="https://paste.spiritlhl.net/code/GWNS6v.txt">https://paste.spiritlhl.net/code/GWNS6v.txt</a></p><p>é¦™æ¸¯2c2g(å…ƒæ—¦)</p><p><a href="https://paste.spiritlhl.net/code/taeLVN.txt">https://paste.spiritlhl.net/code/taeLVN.txt</a></p><h3 id="vkvm">vkvm</h3><p>ç¾å›½LA-2c4g</p><p><a href="https://paste.spiritlhl.net/#/show/9taqwb.txt">https://paste.spiritlhl.net/#/show/9taqwb.txt</a></p><h3 id="ç‰©è¯­äº‘">ç‰©è¯­äº‘</h3><p>å®æ³¢2c-2g</p><p><a href="https://paste.spiritlhl.net/#/show/gyE4an.txt">https://paste.spiritlhl.net/#/show/gyE4an.txt</a></p><h3 id="hoho">HoHo</h3><p><a href="https://myprepaid-server.com/index.php">https://myprepaid-server.com/index.php</a></p><p>å¾·å›½4c4gï¼Œæ— é™æµé‡</p><p><a href="http://hpaste.spiritlhl.net/#/show/hNQzX.txt">http://hpaste.spiritlhl.net/#/show/hNQzX.txt</a></p><h3 id="claw">Claw</h3><p>æ—¥æœ¬ï¼ˆåŸ35åˆ€ä¸€å¹´ï¼‰</p><p><a href="https://paste.spiritlhl.net/#/show/GofO6.txt">https://paste.spiritlhl.net/#/show/GofO6.txt</a></p><p>vkvmå®¶çš„ä¸å¤§è¡Œï¼Œè¶…å”®ï¼Œå¯¼è‡´æœºå™¨å®é™…æ€§èƒ½ä¸çº¸ä¸Šæ•°æ®ç›¸å·®éå¸¸å¤§ï¼›</p><p>Akileçš„è·‘åˆ†ä¸é”™ï¼Œå®é™…æµ‹è¯•æ€§èƒ½è¿˜è¡Œï¼Œè‡³å°‘ä¸€è¾¹è¿è¡Œdockerå¹¶ä¸Šä¼ ä¸€ä¸ª500MBæ–‡ä»¶ï¼Œå¦ä¸€è¾¹ä½¿ç”¨hy2çœ‹4kè§†é¢‘èƒ½åˆ°9ä¸‡åˆ†ï¼›</p><p>Racknerdå’ŒDOçš„ï¼Œä¸»æ‰“ä¸ªå†…å­˜å¤§ï¼Œä½†cpuæ€§èƒ½ä¸€èˆ¬ï¼›</p><h1 id="é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜</h1><h2 id="ç”¨æˆ·è®¢é˜…é“¾æ¥æ— è¾“å‡º">ç”¨æˆ·è®¢é˜…é“¾æ¥æ— è¾“å‡º</h2><p>å¦‚æœæ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯hysteria2åè®®ï¼Œä¼šå‡ºç°è®¢é˜…é“¾æ¥è¾“å‡ºæ˜¯ç©ºç™½ï¼›æ­¤æ—¶ç›´æ¥åœ¨pcç«¯å¯¼å…¥åˆ°clashæ˜¯æ­£å¸¸çš„</p><p>å°è¯•æ·»åŠ å¦‚vlessåè®®çš„èŠ‚ç‚¹ï¼Œä½†åœ¨å®‰å“ã€è‹¹æœç«¯ä»ç„¶æ— æ³•ç›´æ¥å¯¼å…¥hysteria2åè®®</p><h2 id="æ•°æ®è¿ç§»">æ•°æ®è¿ç§»</h2><p>æ•°æ®åº“ä½ç½®ï¼š/root/Xboard/.docker/.data/database.sqlite</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.lthero.top/2024/11/26/BuildYourOwnProxyhub/&quot;&gt;è·³è½¬åˆ°æ­å»ºhysteria2æ–‡ç« &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.lthero.top/2024/07/1</summary>
      
    
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/categories/%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/tags/%E6%8A%98%E8%85%BE/"/>
    
    <category term="vps" scheme="https://blog.lthero.cn/tags/vps/"/>
    
    <category term="ä»£ç†" scheme="https://blog.lthero.cn/tags/%E4%BB%A3%E7%90%86/"/>
    
    <category term="æœºåœº" scheme="https://blog.lthero.cn/tags/%E6%9C%BA%E5%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨çº¿æ–‡ä»¶å…±äº«å¹³å°</title>
    <link href="https://blog.lthero.cn/2024/11/24/OnlineFileSharing/"/>
    <id>https://blog.lthero.cn/2024/11/24/OnlineFileSharing/</id>
    <published>2024-11-24T09:34:49.000Z</published>
    <updated>2024-12-25T06:01:58.721Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åœ¨çº¿æ–‡ä»¶å…±äº«å¹³å°">åœ¨çº¿æ–‡ä»¶å…±äº«å¹³å°</h1><blockquote><p>æä¾›çŸ­æ—¶/é•¿æœŸï¼ˆç±»ä¼¼è“å¥äº‘ï¼‰çš„æ–‡ä»¶åˆ†äº«ï¼Œæ— æ–‡ä»¶ç±»å‹é™åˆ¶</p></blockquote><h1 id="é¡¹ç›®å®‰è£…">é¡¹ç›®å®‰è£…</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/stonith404/pingvin-share.git</span><br><span class="line"><span class="built_in">cd</span> pingvin-share</span><br></pre></td></tr></table></figure><p>æ ¹æ®å®é™…éœ€æ±‚ï¼Œä¿®æ”¹æ˜ å°„ç«¯å£ç­‰ï¼Œå¦‚æ˜ å°„åˆ°å®¿ä¸»æœºçš„3001ç«¯å£</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim docker-compose.yml</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶å‚è€ƒï¼Œå¦‚æœéœ€è¦ç¦æ­¢é€šè¿‡ip:ç«¯å£è®¿é—®ï¼Œéœ€è¦å°†portsä¸‹é¢æ·»åŠ <code>- &quot;127.0.0.1:3001:3000&quot;</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">services<span class="punctuation">:</span></span><br><span class="line">  pingvin-share<span class="punctuation">:</span></span><br><span class="line">    image<span class="punctuation">:</span> stonith404/pingvin-share</span><br><span class="line">    restart<span class="punctuation">:</span> unless-stopped</span><br><span class="line">    ports<span class="punctuation">:</span></span><br><span class="line">  # å¼€æ”¾<span class="number">3001</span>ï¼ˆå®¿ä¸»æœºï¼‰ï¼Œå¹¶ä¸”ç›‘å¬<span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>æ‰€æœ‰è®¿é—®ï¼ˆæƒé™é«˜äºufw!)</span><br><span class="line">      #- <span class="number">3001</span><span class="punctuation">:</span><span class="number">3000</span></span><br><span class="line"></span><br><span class="line">  # è®¾ç½®ä¸ºä»…ç›‘å¬æœ¬åœ°çš„è®¿é—®ï¼Œéœ€è¦æ­é…åé¢çš„nginxä½¿ç”¨ï¼Œä»è€Œç¦æ­¢é€šè¿‡ip<span class="punctuation">:</span>ç«¯å£è®¿é—®</span><br><span class="line">      - <span class="string">&quot;127.0.0.1:3001:3000&quot;</span></span><br><span class="line">    environment<span class="punctuation">:</span></span><br><span class="line">      - TRUST_PROXY=<span class="keyword">false</span> # Set to <span class="keyword">true</span> if a reverse proxy is in front of the container</span><br><span class="line">    volumes<span class="punctuation">:</span></span><br><span class="line">      - <span class="string">&quot;./data:/opt/app/backend/data&quot;</span></span><br><span class="line">      - <span class="string">&quot;./data/images:/opt/app/frontend/public/img&quot;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose up -d</span><br></pre></td></tr></table></figure><hr><h1 id="ä½¿ç”¨httpè®¿é—®">ä½¿ç”¨HTTPè®¿é—®</h1><p>è¦å°†è¿è¡Œåœ¨Dockerå®¹å™¨ä¸­çš„æœåŠ¡é€šè¿‡åŸŸåè®¿é—®ï¼Œå¹¶ä½¿ç”¨Nginxä½œä¸ºåå‘ä»£ç†æ¥è½¬å‘åˆ°å®¿ä¸»æœºçš„3001ç«¯å£ï¼Œä½ éœ€è¦å®Œæˆå‡ ä¸ªæ­¥éª¤ã€‚è¿™åŒ…æ‹¬è®¾ç½®DNSè®°å½•ã€é…ç½®Nginxä»¥åŠç¡®ä¿ç½‘ç»œå®‰å…¨ã€‚ä¸‹é¢æ˜¯å…·ä½“æ­¥éª¤ï¼š</p><h2 id="æ­¥éª¤-1-è®¾ç½®dnsè®°å½•">æ­¥éª¤ 1: è®¾ç½®DNSè®°å½•</h2><p>ç¡®ä¿ä½ çš„åŸŸå <code>fs.lthero.cn</code> çš„DNSè®°å½•æŒ‡å‘æ‰˜ç®¡Nginxçš„æœåŠ¡å™¨çš„IPåœ°å€ã€‚è¿™é€šå¸¸åœ¨ä½ çš„åŸŸåæ³¨å†Œå•†å¤„è¿›è¡Œè®¾ç½®ï¼š</p><ul><li><strong>Aè®°å½•</strong>ï¼šå°†åŸŸåæŒ‡å‘IPv4åœ°å€</li><li><strong>AAAAè®°å½•</strong>ï¼šå°†åŸŸåæŒ‡å‘IPv6åœ°å€ï¼ˆå¦‚æœé€‚ç”¨ï¼‰</li></ul><h2 id="æ­¥éª¤-2-å®‰è£…å¹¶å¯åŠ¨nginx">æ­¥éª¤ 2: å®‰è£…å¹¶å¯åŠ¨Nginx</h2><p>æ­¥éª¤ 1: æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨</p><p>æ‰“å¼€ç»ˆç«¯ï¼Œé¦–å…ˆä½¿ç”¨<code>apt</code>å‘½ä»¤æ›´æ–°ä½ çš„åŒ…åˆ—è¡¨ï¼Œä»¥ç¡®ä¿ä½ å®‰è£…çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„Nginxã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><p>æ­¥éª¤ 2: å®‰è£…Nginx</p><p>ä½¿ç”¨<code>apt</code>å®‰è£…Nginxã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install nginx</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-3-é…ç½®nginx">æ­¥éª¤ 3: é…ç½®Nginx</h2><p>ä½ éœ€è¦åœ¨Nginxä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æœåŠ¡å™¨å—ï¼ˆserver blockï¼‰ï¼Œæˆ–è€…åœ¨å·²æœ‰çš„é»˜è®¤é…ç½®ä¸­ä¿®æ”¹ï¼Œä»¥è®¾ç½®åå‘ä»£ç†ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºæœ¬çš„Nginxé…ç½®ç¤ºä¾‹ï¼Œå°†ä¼šæŠŠæ‰€æœ‰åˆ° <code>fs.lthero.cn</code> çš„è¯·æ±‚è½¬å‘åˆ°æœ¬åœ°çš„3001ç«¯å£ï¼š</p><ol><li><p>æ‰“å¼€æˆ–åˆ›å»ºä¸€ä¸ªæ–°çš„Nginxé…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/nginx/sites-available/fs.lthero.cn</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> fs.lthero.cn;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:3001;</span><br><span class="line">        <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="string">&#x27;upgrade&#x27;</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_cache_bypass</span> <span class="variable">$http_upgrade</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé…ç½®åšäº†ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><code>listen 80;</code> å‘Šè¯‰Nginxç›‘å¬80ç«¯å£ï¼ˆHTTPæ ‡å‡†ç«¯å£ï¼‰ã€‚</li><li><code>server_name fs.lthero.cn;</code> è®¾ç½®è¿™ä¸ªå—åº”å½“å“åº”çš„åŸŸåã€‚</li><li><code>proxy_pass http://localhost:3001;</code> æŒ‡å®šæ‰€æœ‰ä¼ å…¥çš„è¯·æ±‚è½¬å‘åˆ°æœ¬åœ°çš„3001ç«¯å£ã€‚</li><li><code>proxy_set_header</code> æŒ‡ä»¤å°†é‡è¦çš„HTTPå¤´ä¿¡æ¯è½¬å‘ç»™åç«¯åº”ç”¨ã€‚</li></ul></li><li><p>å¯ç”¨é…ç½®æ–‡ä»¶é€šè¿‡åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /etc/nginx/sites-available/fs.lthero.cn /etc/nginx/sites-enabled/</span><br></pre></td></tr></table></figure></li><li><p>æ£€æŸ¥Nginxé…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -t</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œé‡å¯Nginxä»¥åº”ç”¨é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart nginx</span><br></pre></td></tr></table></figure></li></ol><h2 id="æ­¥éª¤-4-è°ƒæ•´é˜²ç«å¢™è§„åˆ™">æ­¥éª¤ 4: è°ƒæ•´é˜²ç«å¢™è§„åˆ™</h2><p>ç¡®ä¿ä½ çš„æœåŠ¡å™¨çš„é˜²ç«å¢™è§„åˆ™å…è®¸HTTPï¼ˆç«¯å£80ï¼‰å’ŒHTTPSï¼ˆç«¯å£443ï¼Œå¦‚æœä½ ä½¿ç”¨SSLï¼‰çš„æµé‡ã€‚å¦‚æœä½ æ­£åœ¨ä½¿ç”¨<code>ufw</code>ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow <span class="string">&#x27;Nginx Full&#x27;</span></span><br><span class="line">sudo ufw reload</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-5-æµ‹è¯•é…ç½®">æ­¥éª¤ 5: æµ‹è¯•é…ç½®</h2><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>http://fs.lthero.cn</code> æˆ–ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·å¦‚ <code>curl</code> æ¥æµ‹è¯•ä½ çš„é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://fs.lthero.cn</span><br></pre></td></tr></table></figure><p>ä½ åº”è¯¥èƒ½çœ‹åˆ°ä»Dockerå®¹å™¨ä¸­è¿è¡Œçš„æœåŠ¡å“åº”çš„å†…å®¹ã€‚</p><p>è¿™æ ·ï¼Œä½ å°±é…ç½®å¥½äº†Nginxä½œä¸ºåå‘ä»£ç†ï¼Œå°†åŸŸå <code>fs.lthero.cn</code> çš„æµé‡è½¬å‘åˆ°å®¿ä¸»æœºçš„3001ç«¯å£ä¸Šçš„æœåŠ¡ã€‚å¦‚æœä½ å¸Œæœ›ä½¿ç”¨HTTPSï¼Œä½ è¿˜éœ€è¦è®¾ç½®SSLè¯ä¹¦ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨Letâ€™s Encryptå…è´¹è¯ä¹¦å¹¶é…ç½®HTTPSã€‚</p><h1 id="ä½¿ç”¨httpsè®¿é—®">ä½¿ç”¨HTTPSè®¿é—®</h1><p>è¦è®©ä½ çš„åŸŸå <code>fs.lthero.cn</code> ä½¿ç”¨ HTTPSï¼Œä½ éœ€è¦è·å– SSL/TLS è¯ä¹¦ï¼Œå¹¶é…ç½® Nginx ä»¥ä½¿ç”¨è¿™äº›è¯ä¹¦æ¥åŠ å¯†ç½‘é¡µå†…å®¹ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æ­¥éª¤ï¼ŒåŒ…æ‹¬å¦‚ä½•ä½¿ç”¨ Letâ€™s Encrypt æä¾›çš„å…è´¹è¯ä¹¦è‡ªåŠ¨åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚</p><h2 id="æ­¥éª¤-1-å®‰è£…-certbot">æ­¥éª¤ 1: å®‰è£… Certbot</h2><p>Certbot æ˜¯ä¸€ä¸ªè‡ªåŠ¨è·å–å¹¶å®‰è£… Letâ€™s Encrypt è¯ä¹¦çš„å®¢æˆ·ç«¯ã€‚åœ¨ Ubuntu ä¸Šå®‰è£… Certbot åŠå…¶ Nginx æ’ä»¶éå¸¸ç®€å•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install certbot python3-certbot-nginx -y</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-2-è·å–å’Œå®‰è£…è¯ä¹¦">æ­¥éª¤ 2: è·å–å’Œå®‰è£…è¯ä¹¦</h2><p>ä½¿ç”¨ Certbot è·å–å¹¶ä¸ºä½ çš„åŸŸåå®‰è£…è¯ä¹¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot --nginx -d fs.lthero.cn</span><br></pre></td></tr></table></figure><p>æ­¤å‘½ä»¤ä¼šè‡ªåŠ¨ä¸ºæŒ‡å®šçš„åŸŸå <code>fs.lthero.cn</code> é…ç½® SSL è¯ä¹¦ï¼Œå¹¶æ›´æ–° Nginx é…ç½®ä»¥ä½¿ç”¨è¿™äº›è¯ä¹¦ã€‚Certbot ä¼šè¯¢é—®ä½ ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ç”µå­é‚®ä»¶åœ°å€ï¼ˆç”¨äºç´§æ€¥è”ç³»å’Œè¯ä¹¦ç»­è®¢æé†’ï¼‰ï¼Œä»¥åŠæ˜¯å¦é‡å®šå‘æ‰€æœ‰ HTTP è¯·æ±‚åˆ° HTTPSï¼ˆå¼ºçƒˆå»ºè®®å¯ç”¨ï¼‰ã€‚</p><p>ç”Ÿæˆçš„è¯ä¹¦ä½ç½®<code>/etc/letsencrypt/live/</code></p><h2 id="æ­¥éª¤-3-æ›´æ–°-nginx-é…ç½®">æ­¥éª¤ 3: æ›´æ–° Nginx é…ç½®</h2><p>å¦‚æœä½ æƒ³æ‰‹åŠ¨ç¼–è¾‘ Nginx é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼é…ç½®ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/nginx/sites-available/fs.lthero.cn</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯certbotè‡ªåŠ¨é…ç½®çš„æ–‡ä»¶ï¼Œæœ€æ–°ç‰ˆæœ¬çš„certbotä¼šè‡ªåŠ¨é…ç½®å¥½</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">server_name</span> fs.lthero.cn;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:3001;</span><br><span class="line">        <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="string">&#x27;upgrade&#x27;</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_cache_bypass</span> <span class="variable">$http_upgrade</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl; <span class="comment"># managed by Certbot</span></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/fs.lthero.cn/fullchain.pem; <span class="comment"># managed by Certbot</span></span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/fs.lthero.cn/privkey.pem; <span class="comment"># managed by Certbot</span></span><br><span class="line">    <span class="attribute">include</span> /etc/letsencrypt/options-ssl-nginx.conf; <span class="comment"># managed by Certbot</span></span><br><span class="line">    <span class="attribute">ssl_dhparam</span> /etc/letsencrypt/ssl-dhparams.pem; <span class="comment"># managed by Certbot</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">if</span> (<span class="variable">$host</span> = fs.lthero.cn) &#123;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$host</span><span class="variable">$request_uri</span>;</span><br><span class="line">    &#125; <span class="comment"># managed by Certbot</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> fs.lthero.cn;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">404</span>; <span class="comment"># managed by Certbot</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æ‰‹åŠ¨ä¿®æ”¹</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> fs.lthero.cn;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;  <span class="comment"># å¼ºåˆ¶é‡å®šå‘æ‰€æœ‰ HTTP è¯·æ±‚åˆ° HTTPS</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> fs.lthero.cn;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/fs.lthero.cn/fullchain.pem;  <span class="comment"># è¯ä¹¦æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/fs.lthero.cn/privkey.pem;  <span class="comment"># ç§é’¥æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_session_timeout</span> <span class="number">1d</span>;</span><br><span class="line">    <span class="attribute">ssl_session_cache</span> shared:MozSSL:<span class="number">10m</span>;  <span class="comment"># ç¼“å­˜ SSL ä¼šè¯ä»¥æå‡æ€§èƒ½</span></span><br><span class="line">    <span class="attribute">ssl_session_tickets</span> <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç°ä»£åŠ å¯†å¥—ä»¶é…ç½®</span></span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">ssl_ciphers</span> <span class="string">&#x27;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384&#x27;</span>;</span><br><span class="line">    <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…¶ä»– SSL ä¼˜åŒ–è®¾ç½®</span></span><br><span class="line">    <span class="attribute">ssl_stapling</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">ssl_stapling_verify</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…è®¸æœ€å¤§è¯·æ±‚ä½“å¤§å°ä¸º 1000MB</span></span><br><span class="line">    <span class="attribute">client_max_body_size</span> <span class="number">1000m</span>;  </span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:3001;</span><br><span class="line">        <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="string">&#x27;upgrade&#x27;</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_cache_bypass</span> <span class="variable">$http_upgrade</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé…ç½®ä¸ä»…å¯ç”¨äº† HTTPSï¼Œè¿˜åŒ…æ‹¬äº†ä¸€äº›ç°ä»£çš„å®‰å…¨å®è·µï¼Œå¦‚å¯ç”¨ HTTP/2ï¼Œé…ç½®åŠ å¯†å¥—ä»¶å’Œåè®®ç­‰ã€‚</p><blockquote><p>å…è®¸æœ€å¤§è¯·æ±‚ä½“å¤§å°ä¸º 1000MB</p><p>client_max_body_size 1000m;</p><p>è¿™è¡Œæœ€å¥½ä¸config.jsä¸­ä¿æŒä¸€è‡´ï¼Œå¦‚æœ<strong>nginxè®¾ç½®å°äº†ï¼Œä¼šå‡ºç°â€œä¸Šä¼ å¤±è´¥â€çš„ç»“æœï¼</strong></p></blockquote><h2 id="æ­¥éª¤-4-é‡æ–°åŠ è½½-nginx">æ­¥éª¤ 4: é‡æ–°åŠ è½½ Nginx</h2><p>æ›´æ”¹é…ç½®åï¼Œéœ€è¦é‡æ–°åŠ è½½ Nginx ä»¥åº”ç”¨æ–°çš„é…ç½®ï¼š</p><blockquote><p>æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œå¦‚æœæœ‰warn!ç›´æ¥çœ‹â€œé‡åˆ°çš„é—®é¢˜â€éƒ¨åˆ†ï¼Œé‡æ–°åŠ è½½é…ç½®æ˜¯ä¸ä¸€å®šèƒ½workçš„</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -t  <span class="comment"># æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯</span></span><br><span class="line">sudo systemctl reload nginx  <span class="comment"># é‡æ–°åŠ è½½é…ç½®</span></span><br><span class="line"><span class="comment"># å¦‚æœé‡æ–°åŠ è½½é…ç½®åæ— æ•ˆï¼Œå¯ä»¥å°è¯•é‡å¯nginx</span></span><br><span class="line">sudo systemctl restart nginx</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤-5-éªŒè¯-https">æ­¥éª¤ 5: éªŒè¯ HTTPS</h2><p>åœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>https://fs.lthero.cn</code> æ¥æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸã€‚ä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°ä¸€ä¸ªå®‰å…¨é”æ ‡å¿—ï¼Œè¡¨æ˜è¿æ¥æ˜¯é€šè¿‡ HTTPS åŠ å¯†çš„ã€‚</p><h2 id="æ­¥éª¤-6-è‡ªåŠ¨ç»­è®¢è¯ä¹¦">æ­¥éª¤ 6: è‡ªåŠ¨ç»­è®¢è¯ä¹¦</h2><p>Letâ€™s Encrypt çš„è¯ä¹¦æœ‰æ•ˆæœŸä¸º90å¤©ï¼Œå› æ­¤å»ºè®®è®¾ç½®è‡ªåŠ¨ç»­è®¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot renew</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤ä¼šæµ‹è¯•è¯ä¹¦ç»­è®¢è¿‡ç¨‹ã€‚å¦‚æœè¿™ä¸ªæµ‹è¯•æˆåŠŸï¼Œæ·»åŠ å®šæ—¶ä»»åŠ¡<code>crontab</code>ï¼š</p><p><code>crontab -e</code>å†å¡«å†™ä¸‹é¢å†…å®¹ï¼Œè¡¨ç¤ºæ¯æœˆç¬¬ä¸€å¤©ä¼šè‡ªåŠ¨æ‰§è¡Œ</p><p>é€šè¿‡<code>which certbot</code>æŸ¥çœ‹å…·ä½“ç¨‹åºä½ç½®<code>/usr/local/bin/certbot</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0 1 * * /usr/local/bin/certbot renew --deploy-hook <span class="string">&quot;nginx -s reload&quot;</span></span><br></pre></td></tr></table></figure><p>ç»­ç­¾çš„è¯ä¹¦ä½ç½®<code>/etc/letsencrypt/renewal</code></p><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ çš„ç«™ç‚¹ <code>fs.lthero.cn</code> ç°åœ¨åº”è¯¥èƒ½å¤Ÿå®‰å…¨åœ°ä½¿ç”¨ HTTPS è¿›è¡Œé€šä¿¡äº†ã€‚</p><p>å¦‚æœè¦æ¢crontabç¼–è¾‘å™¨ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select-editor</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨é˜²ç«å¢™é™åˆ¶ip-ç«¯å£è®¿é—®">ä½¿ç”¨é˜²ç«å¢™é™åˆ¶IP:ç«¯å£è®¿é—®</h2><blockquote><p>è¿™æ˜¯ä»é˜²ç«å¢™çº§åˆ«ç¦ç”¨ip:ç«¯å£è®¿é—®ï¼Œä½†è¦æ³¨æ„å¦‚æœdockeråœ¨æ˜ å°„æ—¶ä½¿ç”¨äº†0.0.0.0:3001:3000è¿™ç§å½¢å¼ï¼Œdockerçš„è§„åˆ™é«˜äºé˜²ç«å¢™ï¼›</p><p>æ–¹å¼æœ‰ä¸‰ç§</p><p>1ã€ç›´æ¥åœ¨vpså¯¹åº”çš„äº‘å¹³å°æ·»åŠ å®‰å…¨ç»„ï¼Œæƒé™åº”è¯¥æ˜¯æœ€é«˜çš„</p><p>2ã€åœ¨dockerå¯åŠ¨æ—¶è®¾ç½®-p 127.0.0.1:3001:3000ï¼Œä»…æœ¬åœ°è®¿é—®ï¼Œæƒé™æ¬¡é«˜</p><p>3ã€è®¾ç½®vpsä¸Šçš„é˜²ç«å¢™è§„åˆ™ï¼Œæƒé™ä¼šè¢«dockerè¦†ç›–</p></blockquote><h4 id="1-ç¦æ­¢å¤–éƒ¨ç›´æ¥è®¿é—®åº”ç”¨ç«¯å£">1. ç¦æ­¢å¤–éƒ¨ç›´æ¥è®¿é—®åº”ç”¨ç«¯å£</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny 3001</span><br></pre></td></tr></table></figure><h4 id="2-å…è®¸æœ¬åœ°è®¿é—®">2. å…è®¸æœ¬åœ°è®¿é—®</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from 127.0.0.1 to any port 3001</span><br><span class="line"><span class="comment"># è®°å¾—åšreload</span></span><br><span class="line">sudo ufw reload</span><br></pre></td></tr></table></figure><p>è¿™ä¼šç¦æ­¢å¤–éƒ¨ç›´æ¥è®¿é—® <code>3001</code> ç«¯å£ï¼Œä½†å…è®¸ Nginx åœ¨æœ¬åœ°è®¿é—®å®ƒã€‚</p><h4 id="3-éªŒè¯">3. éªŒè¯</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo netstat -tuln | grep 3001</span><br><span class="line"><span class="comment"># åº”è¯¥è¾“å‡º</span></span><br><span class="line">tcp        0      0 127.0.0.1:3001          0.0.0.0:*               LISTEN</span><br><span class="line"><span class="comment"># å¦‚æœè¾“å‡ºä¸‹é¢çš„åˆ™ä¸å¯¹ï¼Œéœ€è¦è°ƒæ•´dockerçš„æ˜ å°„</span></span><br><span class="line">tcp        0      0 0.0.0.0:3001          0.0.0.0:*               LISTEN</span><br></pre></td></tr></table></figure><p>å…¶å®ƒæ“ä½œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ufwæŸ¥çœ‹è§„åˆ™</span></span><br><span class="line">sudo ufw status numbered</span><br><span class="line"><span class="comment"># ufwåˆ é™¤è§„åˆ™</span></span><br><span class="line">sudo ufw delete 22</span><br></pre></td></tr></table></figure><h2 id="è§£æåˆ°é˜¿é‡Œäº‘dnsçš„ç”³è¯·æ–¹æ³•">è§£æåˆ°é˜¿é‡Œäº‘DNSçš„ç”³è¯·æ–¹æ³•</h2><blockquote><p>å¦‚æœåŸŸåè§£æåœ¨é˜¿é‡Œäº‘ï¼Œå¯ä»¥å®‰è£…è¿™ä¸ªæ’ä»¶ä»è€Œå®Œæˆè¯ä¹¦ç”³è¯·ï¼Œ<a href="https://github.com/tengattack/certbot-dns-aliyun">https://github.com/tengattack/certbot-dns-aliyun</a></p></blockquote><h3 id="credentials-file">Credentials File</h3><p>åœ¨æŸä¸ªç†Ÿæ‚‰çš„ç›®å½•ä¸‹ï¼ŒæŠŠä¸‹é¢çš„å†…å®¹å†™å…¥<code>credentials.ini</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dns_aliyun_access_key = 12345678</span><br><span class="line">dns_aliyun_access_key_secret = 1234567890abcdef1234567890abcdef</span><br></pre></td></tr></table></figure><p>dns_aliyun_access_keyæ˜¯é˜¿é‡Œäº‘è´¦å·çš„AccessKey ID</p><p>dns_aliyun_access_key_secretæ˜¯é˜¿é‡Œäº‘è´¦å·çš„AccessKey Secret</p><p>è¿™ä¸¤ä¸ªå€¼å¯ä»¥åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°-&gt;ç”¨æˆ·å¤´åƒ-&gt;accesskeysæŒ‰æŒ‡å¼•è·å–AccessKey/SecretKey</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 600 /path/to/credentials.ini</span><br></pre></td></tr></table></figure><h3 id="obtain-certificates">Obtain Certificates</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">certbot certonly \</span><br><span class="line">    --authenticator=dns-aliyun \</span><br><span class="line">    --dns-aliyun-credentials=<span class="string">&#x27;/path/to/credentials.ini&#x27;</span> \</span><br><span class="line">    -d <span class="string">&quot;*.example.com,example.com&quot;</span></span><br></pre></td></tr></table></figure><p>ç”³è¯·ä¸‹æ¥çš„è¯ä¹¦ä½ç½®</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/letsencrypt/archive/</span><br></pre></td></tr></table></figure><p>é€‚åˆé˜¿é‡Œäº‘çš„è‡ªåŠ¨å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0 1 * * /usr/local/bin/certbot renew --manual --preferred-challenges dns --manual-auth-hook <span class="string">&quot;alidns&quot;</span> --manual-cleanup-hook <span class="string">&quot;alidns clean&quot;</span> --deploy-hook <span class="string">&quot;nginx -s reload&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;åœ¨çº¿æ–‡ä»¶å…±äº«å¹³å°&quot;&gt;åœ¨çº¿æ–‡ä»¶å…±äº«å¹³å°&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;æä¾›çŸ­æ—¶/é•¿æœŸï¼ˆç±»ä¼¼è“å¥äº‘ï¼‰çš„æ–‡ä»¶åˆ†äº«ï¼Œæ— æ–‡ä»¶ç±»å‹é™åˆ¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;é¡¹ç›®å®‰è£…&quot;&gt;é¡¹ç›®å®‰è£…&lt;/h1&gt;
&lt;figure class=&quot;highlig</summary>
      
    
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/categories/%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="æŠ˜è…¾" scheme="https://blog.lthero.cn/tags/%E6%8A%98%E8%85%BE/"/>
    
  </entry>
  
  <entry>
    <title>ã€PPTã€‘ç”Ÿæˆé«˜æ¸…çš„PDFæ ¼å¼çŸ¢é‡å›¾ç‰‡</title>
    <link href="https://blog.lthero.cn/2024/11/22/CreateHighResolutionPic/"/>
    <id>https://blog.lthero.cn/2024/11/22/CreateHighResolutionPic/</id>
    <published>2024-11-22T05:46:43.000Z</published>
    <updated>2024-11-26T13:04:38.968Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ­¥éª¤">æ­¥éª¤</h2><p>1ã€æ–°å»ºä¸ªPPTï¼ˆå¦‚ï¼šexport.pptxï¼‰ï¼Œåœ¨PPTçš„â€œè®¾è®¡â€-&gt;â€œå¹»ç¯ç‰‡å¤§å°â€æ”¹æˆâ€œè‡ªå®šä¹‰â€ï¼Œå®½åº¦,é«˜åº¦ï¼š100cm</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241122134900256.png" alt="image-20241122134900256"></p><p>2ã€å°†åŸæ¥çš„PPTï¼ˆåŒ…å«æ„æ¶å›¾ï¼‰ä¸€æ•´é¡µç›´æ¥å¤åˆ¶åˆ°export.pptxä¸­</p><p>3ã€é€‰æ‹©â€œæ–‡ä»¶â€-&gt;â€œå¯¼å‡ºâ€-&gt;â€œå¯¼å‡ºä¸ºpdfâ€ï¼ˆè¿™é‡Œæœ‰ä¸ªâ€œé€‰é¡¹â€ï¼Œå¯ä»¥é€‰æ‹©å¯¼å‡ºåˆ°å…·ä½“çš„æŸé¡µï¼‰</p><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241122140000983.png" alt="image-20241122140000983"></p><p><img src="https://cdn.lthero.cn/post_images/course/ML/image-20241122140030833.png" alt="image-20241122140030833"></p><p>4ã€å¯¼å‡ºä¸ºpdfåï¼Œä½¿ç”¨â€œç¼–è¾‘â€åŠŸèƒ½ä¸­çš„â€œè£å‰ªâ€ï¼Œå¯¹å›¾åƒè¿›è¡Œè£å‰ªå¹¶ä¿å­˜ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æ­¥éª¤&quot;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;p&gt;1ã€æ–°å»ºä¸ªPPTï¼ˆå¦‚ï¼šexport.pptxï¼‰ï¼Œåœ¨PPTçš„â€œè®¾è®¡â€-&amp;gt;â€œå¹»ç¯ç‰‡å¤§å°â€æ”¹æˆâ€œè‡ªå®šä¹‰â€ï¼Œå®½åº¦,é«˜åº¦ï¼š100cm&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.lthero.cn/post_images/c</summary>
      
    
    
    
    <category term="æŠ€å·§" scheme="https://blog.lthero.cn/categories/%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="æŠ€å·§" scheme="https://blog.lthero.cn/tags/%E6%8A%80%E5%B7%A7/"/>
    
    <category term="PPT" scheme="https://blog.lthero.cn/tags/PPT/"/>
    
  </entry>
  
  <entry>
    <title>GetSSLforWebsite</title>
    <link href="https://blog.lthero.cn/2024/08/19/GetSSLforWebsite/"/>
    <id>https://blog.lthero.cn/2024/08/19/GetSSLforWebsite/</id>
    <published>2024-08-19T10:40:40.000Z</published>
    <updated>2024-08-19T10:46:50.651Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®å¡”">å®å¡”</h2><p>åœ¨å®å¡”ç½‘ç»œç®¡ç†ï¼Œé€‰æ‹©<strong>DNSéªŒè¯</strong>ï¼Œæ‰‹åŠ¨è§£æ<strong>é˜¿é‡Œäº‘DNS</strong>ï¼Œè®¾ç½®å¯†é’¥åè‡ªåŠ¨ç”³è¯·å³å¯</p><h2 id="é˜¿é‡Œäº‘å¹³å°">é˜¿é‡Œäº‘å¹³å°</h2><p>æœç´¢ï¼šæ•°å­—è¯ä¹¦ç®¡ç†æœåŠ¡</p><p>åœ¨SSLè¯ä¹¦ç®¡ç†ä¸­ï¼Œå¯ä»¥ç”³è¯·å…è´¹çš„DigiCertè¯ä¹¦ï¼Œæ—¶æ•ˆä¸‰ä¸ªæœˆï¼Œå¥½å¤„æ˜¯å¯¹äºéƒ¨ç½²åœ¨é˜¿é‡Œäº‘çš„cdnæœåŠ¡ï¼Œåœ¨ç”³è¯·è¯ä¹¦åï¼Œå¹³å°ä¼šè‡ªåŠ¨æ›´æ–°cdnç›¸å…³æœåŠ¡ã€‚</p><h2 id="certbotè‡ªåŠ¨">certbotè‡ªåŠ¨</h2><h3 id="å®‰è£…certbotå’Œé˜¿é‡Œäº‘dnsæ’ä»¶">å®‰è£…certbotå’Œé˜¿é‡Œäº‘DNSæ’ä»¶</h3><p>å®‰è£…æ­¥éª¤åœ¨<a href="https://certbot.eff.org/">certbot (opens new window)</a>çš„å®˜ç½‘ä¸Šæœ‰ï¼Œè€Œä¸”å¾ˆè¯¦ç»†ã€‚ä½†æœ€å¤§çš„é—®é¢˜æ˜¯ï¼Œå®˜ç½‘ä¸Šçš„å®‰è£…æ–¹æ³•è¦æ±‚ä½¿ç”¨snapdï¼Œè€Œä¸ƒç‰›äº‘æœåŠ¡å™¨ï¼ˆå®é™…ä¸Šæ˜¯é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼‰å¹¶ä¸æ”¯æŒsnapdï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨yumå®‰è£…ã€‚</p><h4 id="å®‰è£…æ‰‹åŠ¨ç”³è¯·è¯ä¹¦æ‰€éœ€å·¥å…·">å®‰è£…æ‰‹åŠ¨ç”³è¯·è¯ä¹¦æ‰€éœ€å·¥å…·</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install certbot</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…è‡ªåŠ¨ç»­æœŸè¯ä¹¦æ‰€éœ€å·¥å…·">å®‰è£…è‡ªåŠ¨ç»­æœŸè¯ä¹¦æ‰€éœ€å·¥å…·</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt install certbot python3-certbot-nginx</span><br><span class="line">pip3 install certbot-dns-aliyun</span><br><span class="line">pip3 install certbot-nginx</span><br></pre></td></tr></table></figure><h3 id="ç”³è¯·è¯ä¹¦">ç”³è¯·è¯ä¹¦</h3><h4 id="æ‰‹åŠ¨ç”³è¯·è¯ä¹¦">æ‰‹åŠ¨ç”³è¯·è¯ä¹¦</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">certbot -d *.sunxiaolong.net -d sunxiaolong.net --manual certonly</span><br></pre></td></tr></table></figure><p>è¿™ä¸ª<code>--manual</code>å‚æ•°å¾ˆé‡è¦ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªå‚æ•°ï¼Œå°±å¿…é¡»å¾—ç”¨dnsæ’ä»¶äº†~<br>éšåä¼šæœ‰æç¤ºï¼Œç»™åŸŸåæ·»åŠ ä¸€ä¸ªTXTè§£æï¼ŒæŒ‰ç…§æç¤ºå»åŸŸåè§£ææ§åˆ¶å°æ·»åŠ å¯¹åº”è®°å½•ã€‚è¿™é‡Œä¸€å®šè¦æ³¨æ„è¿™ä¸ªè§£æè®°å½•ä¸è¦åŒºåˆ†å¤§é™†è¿˜æ˜¯æµ·å¤–çº¿è·¯ï¼Œå¦åˆ™å¯èƒ½ä¼šå¤±è´¥ã€‚<br>è§£æè®°å½•æ·»åŠ å®Œæˆåï¼Œå›åˆ°å‘½ä»¤è¡ŒæŒ‰ä¸‹å›è½¦é”®ã€‚<br>è¯ä¹¦å’Œç§é’¥æ–‡ä»¶ä¼šä¿å­˜åˆ°<code>/etc/letsenctypt/live</code>ä¸‹ï¼Œå‘½ä»¤è¡Œä¸Šæœ‰å›æ˜¾ã€‚</p><h4 id="è‡ªåŠ¨ç”³è¯·è¯ä¹¦">è‡ªåŠ¨ç”³è¯·è¯ä¹¦</h4><p>å°†é˜¿é‡Œäº‘DNSçš„keyå†™åˆ°æœ¬åœ°ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dns_aliyun_access_key</span>=<span class="string">*******</span></span><br><span class="line"><span class="attr">dns_aliyun_access_key_secret</span>=<span class="string">******</span></span><br></pre></td></tr></table></figure><p>éšåä¿å­˜åˆ°æœåŠ¡å™¨ä¸Šï¼Œå¦‚<code>/opt/cert/aliyun-dns.conf</code>ã€‚access_keyå’Œaccess_key_secretæ˜¯é˜¿é‡Œäº‘çš„å¤šç”¨æˆ·è®¿é—®æ§åˆ¶ä¸­ç›¸åº”ç”¨æˆ·çš„keyå’Œsecretã€‚</p><ol start="2"><li>ç­¾å‘è¯ä¹¦</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">certbot certonly --authenticator=dns-aliyun --dns-aliyun-credentials=&#x27;/opt/cert/aliyun-dns.conf&#x27; -d &quot;*.sunxiaolong.net,sunxiaolong.net&quot;</span><br></pre></td></tr></table></figure><p>ç„¶åå°±ç­¾å‘æˆåŠŸäº†ï½è¯ä¹¦ä½ç½®å¯ä»¥çœ‹å›æ˜¾ï¼Œç¡®è®¤é…ç½®æ²¡é”™ä¹‹åï¼Œreloadä¸€ä¸‹nginxå°±å¯ä»¥äº†ã€‚</p><h3 id="ä¿®æ”¹nginxé…ç½®">ä¿®æ”¹nginxé…ç½®</h3><p>å°†nginxé…ç½®ä¸­å¯¹åº”åŸŸåçš„è¯ä¹¦å’Œç§é’¥æ–‡ä»¶è·¯å¾„æŒ‡å®šåˆ°certbotå›æ˜¾çš„è·¯å¾„ä¸Šã€‚</p><h3 id="reload-nginx">reload nginx</h3><p>é‡æ–°åŠ è½½nginxå³å¯ç”Ÿæ•ˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">NGINX_HOME/sbin/nginx -s reload</span></span><br></pre></td></tr></table></figure><h3 id="éªŒè¯æ˜¯å¦ç”Ÿæ•ˆ">éªŒè¯æ˜¯å¦ç”Ÿæ•ˆ</h3><p>é‡æ–°æ‰“å¼€å¯¹åº”çš„HTTPSç«™ç‚¹ï¼Œä¸å†æç¤ºè¯ä¹¦ä¸å®‰å…¨ï¼Œä¸”è¯ä¹¦è¿‡æœŸæ—¶é—´å’Œcertbotå‘½ä»¤è¡Œå›æ˜¾èƒ½å¯¹åº”ä¸Šå³ä¸ºæˆåŠŸã€‚</p><h3 id="é…ç½®è‡ªåŠ¨ç»­æœŸ">é…ç½®è‡ªåŠ¨ç»­æœŸ</h3><h4 id="æ‰‹åŠ¨ç»­æœŸ">æ‰‹åŠ¨ç»­æœŸ</h4><p>å¾…è¯ä¹¦è¦è¿‡æœŸï¼Œæ‰§è¡Œ<code>certbot renew</code>ï¼Œå†reload nginxå³å¯ã€‚</p><h4 id="è‡ªåŠ¨ç»­æœŸ">è‡ªåŠ¨ç»­æœŸ</h4><p>ç¼–è¾‘crontab</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></table></figure><p>æ·»åŠ è®°å½•ï¼Œ<code>0 0 1 * * /root/renew-cert.sh</code>ï¼Œè¡¨ç¤ºæ¯æœˆ1æ—¥0ç‚¹æ‰§è¡Œç»­æœŸè„šæœ¬ã€‚</p><p>ç¼–å†™ç»­æœŸè„šæœ¬ <code>/root/renew-cert.sh</code>çš„å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">certbot certonly -n --authenticator=dns-aliyun --dns-aliyun-credentials=&#x27;/opt/cert/aliyun-dns.conf&#x27; -d &quot;*.sunxiaolong.net,sunxiaolong.net&quot;</span><br><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure><p>é‡æ–°åŠ è½½crondæœåŠ¡ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service crond reload</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å®å¡”&quot;&gt;å®å¡”&lt;/h2&gt;
&lt;p&gt;åœ¨å®å¡”ç½‘ç»œç®¡ç†ï¼Œé€‰æ‹©&lt;strong&gt;DNSéªŒè¯&lt;/strong&gt;ï¼Œæ‰‹åŠ¨è§£æ&lt;strong&gt;é˜¿é‡Œäº‘DNS&lt;/strong&gt;ï¼Œè®¾ç½®å¯†é’¥åè‡ªåŠ¨ç”³è¯·å³å¯&lt;/p&gt;
&lt;h2 id=&quot;é˜¿é‡Œäº‘å¹³å°&quot;&gt;é˜¿é‡Œäº‘å¹³å°&lt;/h2&gt;
&lt;p&gt;æœç´¢ï¼šæ•°å­—è¯ä¹¦ç®¡ç†æœåŠ¡</summary>
      
    
    
    
    
  </entry>
  
</feed>
